/*! For license information please see main.80803a31.js.LICENSE.txt */
(()=>{var t={4:(t,e,n)=>{"use strict";var r=n(853),i=n(43),s=n(950);function a(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)}var u=Symbol.for("react.element"),l=Symbol.for("react.transitional.element"),c=Symbol.for("react.portal"),h=Symbol.for("react.fragment"),p=Symbol.for("react.strict_mode"),d=Symbol.for("react.profiler"),f=Symbol.for("react.provider"),m=Symbol.for("react.consumer"),g=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),b=Symbol.for("react.suspense"),x=Symbol.for("react.suspense_list"),v=Symbol.for("react.memo"),w=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var S=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var k=Symbol.for("react.memo_cache_sentinel"),T=Symbol.iterator;function A(t){return null===t||"object"!==typeof t?null:"function"===typeof(t=T&&t[T]||t["@@iterator"])?t:null}var E=Symbol.for("react.client.reference");function _(t){if(null==t)return null;if("function"===typeof t)return t.$$typeof===E?null:t.displayName||t.name||null;if("string"===typeof t)return t;switch(t){case h:return"Fragment";case c:return"Portal";case d:return"Profiler";case p:return"StrictMode";case b:return"Suspense";case x:return"SuspenseList"}if("object"===typeof t)switch(t.$$typeof){case g:return(t.displayName||"Context")+".Provider";case m:return(t._context.displayName||"Context")+".Consumer";case y:var e=t.render;return(t=t.displayName)||(t=""!==(t=e.displayName||e.name||"")?"ForwardRef("+t+")":"ForwardRef"),t;case v:return null!==(e=t.displayName||null)?e:_(t.type)||"Memo";case w:e=t._payload,t=t._init;try{return _(t(e))}catch(n){}}return null}var L,C,I=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$=Object.assign;function O(t){if(void 0===L)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);L=e&&e[1]||"",C=-1<n.stack.indexOf("\n    at")?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+L+t+C}var R=!1;function D(t,e){if(!t||R)return"";R=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(e){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(i){var r=i}Reflect.construct(t,[],n)}else{try{n.call()}catch(s){r=s}t.call(n.prototype)}}else{try{throw Error()}catch(a){r=a}(n=t())&&"function"===typeof n.catch&&n.catch((function(){}))}}catch(o){if(o&&r&&"string"===typeof o.stack)return[o.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=r.DetermineComponentFrameRoot(),a=s[0],o=s[1];if(a&&o){var u=a.split("\n"),l=o.split("\n");for(i=r=0;r<u.length&&!u[r].includes("DetermineComponentFrameRoot");)r++;for(;i<l.length&&!l[i].includes("DetermineComponentFrameRoot");)i++;if(r===u.length||i===l.length)for(r=u.length-1,i=l.length-1;1<=r&&0<=i&&u[r]!==l[i];)i--;for(;1<=r&&0<=i;r--,i--)if(u[r]!==l[i]){if(1!==r||1!==i)do{if(r--,0>--i||u[r]!==l[i]){var c="\n"+u[r].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}}while(1<=r&&0<=i);break}}}finally{R=!1,Error.prepareStackTrace=n}return(n=t?t.displayName||t.name:"")?O(n):""}function z(t){switch(t.tag){case 26:case 27:case 5:return O(t.type);case 16:return O("Lazy");case 13:return O("Suspense");case 19:return O("SuspenseList");case 0:case 15:return t=D(t.type,!1);case 11:return t=D(t.type.render,!1);case 1:return t=D(t.type,!0);default:return""}}function M(t){try{var e="";do{e+=z(t),t=t.return}while(t);return e}catch(n){return"\nError generating stack: "+n.message+"\n"+n.stack}}function P(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do{0!==(4098&(e=t).flags)&&(n=e.return),t=e.return}while(t)}return 3===e.tag?n:null}function N(t){if(13===t.tag){var e=t.memoizedState;if(null===e&&(null!==(t=t.alternate)&&(e=t.memoizedState)),null!==e)return e.dehydrated}return null}function F(t){if(P(t)!==t)throw Error(a(188))}function V(t){var e=t.tag;if(5===e||26===e||27===e||6===e)return t;for(t=t.child;null!==t;){if(null!==(e=V(t)))return e;t=t.sibling}return null}var K=Array.isArray,j=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,B={pending:!1,data:null,method:null,action:null},U=[],G=-1;function W(t){return{current:t}}function H(t){0>G||(t.current=U[G],U[G]=null,G--)}function X(t,e){G++,U[G]=t.current,t.current=e}var q=W(null),Y=W(null),J=W(null),Q=W(null);function Z(t,e){switch(X(J,e),X(Y,t),X(q,null),t=e.nodeType){case 9:case 11:e=(e=e.documentElement)&&(e=e.namespaceURI)?Yc(e):0;break;default:if(e=(t=8===t?e.parentNode:e).tagName,t=t.namespaceURI)e=Jc(t=Yc(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}H(q),X(q,e)}function tt(){H(q),H(Y),H(J)}function et(t){null!==t.memoizedState&&X(Q,t);var e=q.current,n=Jc(e,t.type);e!==n&&(X(Y,t),X(q,n))}function nt(t){Y.current===t&&(H(q),H(Y)),Q.current===t&&(H(Q),Mh._currentValue=B)}var rt=Object.prototype.hasOwnProperty,it=r.unstable_scheduleCallback,st=r.unstable_cancelCallback,at=r.unstable_shouldYield,ot=r.unstable_requestPaint,ut=r.unstable_now,lt=r.unstable_getCurrentPriorityLevel,ct=r.unstable_ImmediatePriority,ht=r.unstable_UserBlockingPriority,pt=r.unstable_NormalPriority,dt=r.unstable_LowPriority,ft=r.unstable_IdlePriority,mt=r.log,gt=r.unstable_setDisableYieldValue,yt=null,bt=null;function xt(t){if("function"===typeof mt&&gt(t),bt&&"function"===typeof bt.setStrictMode)try{bt.setStrictMode(yt,t)}catch(e){}}var vt=Math.clz32?Math.clz32:function(t){return 0===(t>>>=0)?32:31-(wt(t)/St|0)|0},wt=Math.log,St=Math.LN2;var kt=128,Tt=4194304;function At(t){var e=42&t;if(0!==e)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194176&t;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&t;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Et(t,e){var n=t.pendingLanes;if(0===n)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,a=t.warmLanes;t=0!==t.finishedLanes;var o=134217727&n;return 0!==o?0!==(n=o&~i)?r=At(n):0!==(s&=o)?r=At(s):t||0!==(a=o&~a)&&(r=At(a)):0!==(o=n&~i)?r=At(o):0!==s?r=At(s):t||0!==(a=n&~a)&&(r=At(a)),0===r?0:0!==e&&e!==r&&0===(e&i)&&((i=r&-r)>=(a=e&-e)||32===i&&0!==(4194176&a))?e:r}function _t(t,e){return 0===(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)}function Lt(t,e){switch(t){case 1:case 2:case 4:case 8:return e+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;default:return-1}}function Ct(){var t=kt;return 0===(4194176&(kt<<=1))&&(kt=128),t}function It(){var t=Tt;return 0===(62914560&(Tt<<=1))&&(Tt=4194304),t}function $t(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Ot(t,e){t.pendingLanes|=e,268435456!==e&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Rt(t,e,n){t.pendingLanes|=e,t.suspendedLanes&=~e;var r=31-vt(e);t.entangledLanes|=e,t.entanglements[r]=1073741824|t.entanglements[r]|4194218&n}function Dt(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-vt(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}function zt(t){return 2<(t&=-t)?8<t?0!==(134217727&t)?32:268435456:8:2}function Mt(){var t=j.p;return 0!==t?t:void 0===(t=window.event)?32:Jh(t.type)}var Pt=Math.random().toString(36).slice(2),Nt="__reactFiber$"+Pt,Ft="__reactProps$"+Pt,Vt="__reactContainer$"+Pt,Kt="__reactEvents$"+Pt,jt="__reactListeners$"+Pt,Bt="__reactHandles$"+Pt,Ut="__reactResources$"+Pt,Gt="__reactMarker$"+Pt;function Wt(t){delete t[Nt],delete t[Ft],delete t[Kt],delete t[jt],delete t[Bt]}function Ht(t){var e=t[Nt];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Vt]||n[Nt]){if(n=e.alternate,null!==e.child||null!==n&&null!==n.child)for(t=uh(t);null!==t;){if(n=t[Nt])return n;t=uh(t)}return e}n=(t=n).parentNode}return null}function Xt(t){if(t=t[Nt]||t[Vt]){var e=t.tag;if(5===e||6===e||13===e||26===e||27===e||3===e)return t}return null}function qt(t){var e=t.tag;if(5===e||26===e||27===e||6===e)return t.stateNode;throw Error(a(33))}function Yt(t){var e=t[Ut];return e||(e=t[Ut]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function Jt(t){t[Gt]=!0}var Qt=new Set,Zt={};function te(t,e){ee(t,e),ee(t+"Capture",e)}function ee(t,e){for(Zt[t]=e,t=0;t<e.length;t++)Qt.add(e[t])}var ne=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),re=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ie={},se={};function ae(t,e,n){if(i=e,rt.call(se,i)||!rt.call(ie,i)&&(re.test(i)?se[i]=!0:(ie[i]=!0,0)))if(null===n)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":return void t.removeAttribute(e);case"boolean":var r=e.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r)return void t.removeAttribute(e)}t.setAttribute(e,""+n)}var i}function oe(t,e,n){if(null===n)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void t.removeAttribute(e)}t.setAttribute(e,""+n)}}function ue(t,e,n,r){if(null===r)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void t.removeAttribute(n)}t.setAttributeNS(e,n,""+r)}}function le(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return t;default:return""}}function ce(t){var e=t.type;return(t=t.nodeName)&&"input"===t.toLowerCase()&&("checkbox"===e||"radio"===e)}function he(t){t._valueTracker||(t._valueTracker=function(t){var e=ce(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(t){r=""+t,s.call(this,t)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(t){r=""+t},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}(t))}function pe(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=ce(t)?t.checked?"true":"false":t.value),(t=r)!==n&&(e.setValue(t),!0)}function de(t){if("undefined"===typeof(t=t||("undefined"!==typeof document?document:void 0)))return null;try{return t.activeElement||t.body}catch(e){return t.body}}var fe=/[\n"\\]/g;function me(t){return t.replace(fe,(function(t){return"\\"+t.charCodeAt(0).toString(16)+" "}))}function ge(t,e,n,r,i,s,a,o){t.name="",null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&"boolean"!==typeof a?t.type=a:t.removeAttribute("type"),null!=e?"number"===a?(0===e&&""===t.value||t.value!=e)&&(t.value=""+le(e)):t.value!==""+le(e)&&(t.value=""+le(e)):"submit"!==a&&"reset"!==a||t.removeAttribute("value"),null!=e?be(t,a,le(e)):null!=n?be(t,a,le(n)):null!=r&&t.removeAttribute("value"),null==i&&null!=s&&(t.defaultChecked=!!s),null!=i&&(t.checked=i&&"function"!==typeof i&&"symbol"!==typeof i),null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o?t.name=""+le(o):t.removeAttribute("name")}function ye(t,e,n,r,i,s,a,o){if(null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s&&(t.type=s),null!=e||null!=n){if(!("submit"!==s&&"reset"!==s||void 0!==e&&null!==e))return;n=null!=n?""+le(n):"",e=null!=e?""+le(e):n,o||e===t.value||(t.value=e),t.defaultValue=e}r="function"!==typeof(r=null!=r?r:i)&&"symbol"!==typeof r&&!!r,t.checked=o?t.checked:!!r,t.defaultChecked=!!r,null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&"boolean"!==typeof a&&(t.name=a)}function be(t,e,n){"number"===e&&de(t.ownerDocument)===t||t.defaultValue===""+n||(t.defaultValue=""+n)}function xe(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+le(n),e=null,i=0;i<t.length;i++){if(t[i].value===n)return t[i].selected=!0,void(r&&(t[i].defaultSelected=!0));null!==e||t[i].disabled||(e=t[i])}null!==e&&(e.selected=!0)}}function ve(t,e,n){null==e||((e=""+le(e))!==t.value&&(t.value=e),null!=n)?t.defaultValue=null!=n?""+le(n):"":t.defaultValue!==e&&(t.defaultValue=e)}function we(t,e,n,r){if(null==e){if(null!=r){if(null!=n)throw Error(a(92));if(K(r)){if(1<r.length)throw Error(a(93));r=r[0]}n=r}null==n&&(n=""),e=n}n=le(e),t.defaultValue=n,(r=t.textContent)===n&&""!==r&&null!==r&&(t.value=r)}function Se(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&3===n.nodeType)return void(n.nodeValue=e)}t.textContent=e}var ke=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Te(t,e,n){var r=0===e.indexOf("--");null==n||"boolean"===typeof n||""===n?r?t.setProperty(e,""):"float"===e?t.cssFloat="":t[e]="":r?t.setProperty(e,n):"number"!==typeof n||0===n||ke.has(e)?"float"===e?t.cssFloat=n:t[e]=(""+n).trim():t[e]=n+"px"}function Ae(t,e,n){if(null!=e&&"object"!==typeof e)throw Error(a(62));if(t=t.style,null!=n){for(var r in n)!n.hasOwnProperty(r)||null!=e&&e.hasOwnProperty(r)||(0===r.indexOf("--")?t.setProperty(r,""):"float"===r?t.cssFloat="":t[r]="");for(var i in e)r=e[i],e.hasOwnProperty(i)&&n[i]!==r&&Te(t,i,r)}else for(var s in e)e.hasOwnProperty(s)&&Te(t,s,e[s])}function Ee(t){if(-1===t.indexOf("-"))return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _e=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Le=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ce(t){return Le.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Ie=null;function $e(t){return(t=t.target||t.srcElement||window).correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}var Oe=null,Re=null;function De(t){var e=Xt(t);if(e&&(t=e.stateNode)){var n=t[Ft]||null;t:switch(t=e.stateNode,e.type){case"input":if(ge(t,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),e=n.name,"radio"===n.type&&null!=e){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+me(""+e)+'"][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=r[Ft]||null;if(!i)throw Error(a(90));ge(r,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(e=0;e<n.length;e++)(r=n[e]).form===t.form&&pe(r)}break t;case"textarea":ve(t,n.value,n.defaultValue);break t;case"select":null!=(e=n.value)&&xe(t,!!n.multiple,e,!1)}}}var ze=!1;function Me(t,e,n){if(ze)return t(e,n);ze=!0;try{return t(e)}finally{if(ze=!1,(null!==Oe||null!==Re)&&(Nl(),Oe&&(e=Oe,t=Re,Re=Oe=null,De(e),t)))for(e=0;e<t.length;e++)De(t[e])}}function Pe(t,e){var n=t.stateNode;if(null===n)return null;var r=n[Ft]||null;if(null===r)return null;n=r[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(t=t.type)||"input"===t||"select"===t||"textarea"===t)),t=!r;break t;default:t=!1}if(t)return null;if(n&&"function"!==typeof n)throw Error(a(231,e,typeof n));return n}var Ne=!1;if(ne)try{var Fe={};Object.defineProperty(Fe,"passive",{get:function(){Ne=!0}}),window.addEventListener("test",Fe,Fe),window.removeEventListener("test",Fe,Fe)}catch(wp){Ne=!1}var Ve=null,Ke=null,je=null;function Be(){if(je)return je;var t,e,n=Ke,r=n.length,i="value"in Ve?Ve.value:Ve.textContent,s=i.length;for(t=0;t<r&&n[t]===i[t];t++);var a=r-t;for(e=1;e<=a&&n[r-e]===i[s-e];e++);return je=i.slice(t,1<e?1-e:void 0)}function Ue(t){var e=t.keyCode;return"charCode"in t?0===(t=t.charCode)&&13===e&&(t=13):t=e,10===t&&(t=13),32<=t||13===t?t:0}function Ge(){return!0}function We(){return!1}function He(t){function e(e,n,r,i,s){for(var a in this._reactName=e,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null,t)t.hasOwnProperty(a)&&(e=t[a],this[a]=e?e(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?Ge:We,this.isPropagationStopped=We,this}return $(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():"unknown"!==typeof t.returnValue&&(t.returnValue=!1),this.isDefaultPrevented=Ge)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():"unknown"!==typeof t.cancelBubble&&(t.cancelBubble=!0),this.isPropagationStopped=Ge)},persist:function(){},isPersistent:Ge}),e}var Xe,qe,Ye,Je={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Qe=He(Je),Ze=$({},Je,{view:0,detail:0}),tn=He(Ze),en=$({},Ze,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:dn,button:0,buttons:0,relatedTarget:function(t){return void 0===t.relatedTarget?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ye&&(Ye&&"mousemove"===t.type?(Xe=t.screenX-Ye.screenX,qe=t.screenY-Ye.screenY):qe=Xe=0,Ye=t),Xe)},movementY:function(t){return"movementY"in t?t.movementY:qe}}),nn=He(en),rn=He($({},en,{dataTransfer:0})),sn=He($({},Ze,{relatedTarget:0})),an=He($({},Je,{animationName:0,elapsedTime:0,pseudoElement:0})),on=He($({},Je,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}})),un=He($({},Je,{data:0})),ln={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},cn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pn(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):!!(t=hn[t])&&!!e[t]}function dn(){return pn}var fn=He($({},Ze,{key:function(t){if(t.key){var e=ln[t.key]||t.key;if("Unidentified"!==e)return e}return"keypress"===t.type?13===(t=Ue(t))?"Enter":String.fromCharCode(t):"keydown"===t.type||"keyup"===t.type?cn[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:dn,charCode:function(t){return"keypress"===t.type?Ue(t):0},keyCode:function(t){return"keydown"===t.type||"keyup"===t.type?t.keyCode:0},which:function(t){return"keypress"===t.type?Ue(t):"keydown"===t.type||"keyup"===t.type?t.keyCode:0}})),mn=He($({},en,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),gn=He($({},Ze,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:dn})),yn=He($({},Je,{propertyName:0,elapsedTime:0,pseudoElement:0})),bn=He($({},en,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0})),xn=He($({},Je,{newState:0,oldState:0})),vn=[9,13,27,32],wn=ne&&"CompositionEvent"in window,Sn=null;ne&&"documentMode"in document&&(Sn=document.documentMode);var kn=ne&&"TextEvent"in window&&!Sn,Tn=ne&&(!wn||Sn&&8<Sn&&11>=Sn),An=String.fromCharCode(32),En=!1;function _n(t,e){switch(t){case"keyup":return-1!==vn.indexOf(e.keyCode);case"keydown":return 229!==e.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ln(t){return"object"===typeof(t=t.detail)&&"data"in t?t.data:null}var Cn=!1;var In={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $n(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return"input"===e?!!In[t.type]:"textarea"===e}function On(t,e,n,r){Oe?Re?Re.push(r):Re=[r]:Oe=r,0<(e=Mc(e,"onChange")).length&&(n=new Qe("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Rn=null,Dn=null;function zn(t){Lc(t,0)}function Mn(t){if(pe(qt(t)))return t}function Pn(t,e){if("change"===t)return e}var Nn=!1;if(ne){var Fn;if(ne){var Vn="oninput"in document;if(!Vn){var Kn=document.createElement("div");Kn.setAttribute("oninput","return;"),Vn="function"===typeof Kn.oninput}Fn=Vn}else Fn=!1;Nn=Fn&&(!document.documentMode||9<document.documentMode)}function jn(){Rn&&(Rn.detachEvent("onpropertychange",Bn),Dn=Rn=null)}function Bn(t){if("value"===t.propertyName&&Mn(Dn)){var e=[];On(e,Dn,t,$e(t)),Me(zn,e)}}function Un(t,e,n){"focusin"===t?(jn(),Dn=n,(Rn=e).attachEvent("onpropertychange",Bn)):"focusout"===t&&jn()}function Gn(t){if("selectionchange"===t||"keyup"===t||"keydown"===t)return Mn(Dn)}function Wn(t,e){if("click"===t)return Mn(e)}function Hn(t,e){if("input"===t||"change"===t)return Mn(e)}var Xn="function"===typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t===1/e)||t!==t&&e!==e};function qn(t,e){if(Xn(t,e))return!0;if("object"!==typeof t||null===t||"object"!==typeof e||null===e)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!rt.call(e,i)||!Xn(t[i],e[i]))return!1}return!0}function Yn(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Jn(t,e){var n,r=Yn(t);for(t=0;r;){if(3===r.nodeType){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=Yn(r)}}function Qn(t,e){return!(!t||!e)&&(t===e||(!t||3!==t.nodeType)&&(e&&3===e.nodeType?Qn(t,e.parentNode):"contains"in t?t.contains(e):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(e))))}function Zn(t){for(var e=de((t=null!=t&&null!=t.ownerDocument&&null!=t.ownerDocument.defaultView?t.ownerDocument.defaultView:window).document);e instanceof t.HTMLIFrameElement;){try{var n="string"===typeof e.contentWindow.location.href}catch(r){n=!1}if(!n)break;e=de((t=e.contentWindow).document)}return e}function tr(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&("input"===e&&("text"===t.type||"search"===t.type||"tel"===t.type||"url"===t.type||"password"===t.type)||"textarea"===e||"true"===t.contentEditable)}function er(t,e){var n=Zn(e);e=t.focusedElem;var r=t.selectionRange;if(n!==e&&e&&e.ownerDocument&&Qn(e.ownerDocument.documentElement,e)){if(null!==r&&tr(e))if(t=r.start,void 0===(n=r.end)&&(n=t),"selectionStart"in e)e.selectionStart=t,e.selectionEnd=Math.min(n,e.value.length);else if((n=(t=e.ownerDocument||document)&&t.defaultView||window).getSelection){n=n.getSelection();var i=e.textContent.length,s=Math.min(r.start,i);r=void 0===r.end?s:Math.min(r.end,i),!n.extend&&s>r&&(i=r,r=s,s=i),i=Jn(e,s);var a=Jn(e,r);i&&a&&(1!==n.rangeCount||n.anchorNode!==i.node||n.anchorOffset!==i.offset||n.focusNode!==a.node||n.focusOffset!==a.offset)&&((t=t.createRange()).setStart(i.node,i.offset),n.removeAllRanges(),s>r?(n.addRange(t),n.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),n.addRange(t)))}for(t=[],n=e;n=n.parentNode;)1===n.nodeType&&t.push({element:n,left:n.scrollLeft,top:n.scrollTop});for("function"===typeof e.focus&&e.focus(),e=0;e<t.length;e++)(n=t[e]).element.scrollLeft=n.left,n.element.scrollTop=n.top}}var nr=ne&&"documentMode"in document&&11>=document.documentMode,rr=null,ir=null,sr=null,ar=!1;function or(t,e,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;ar||null==rr||rr!==de(r)||("selectionStart"in(r=rr)&&tr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},sr&&qn(sr,r)||(sr=r,0<(r=Mc(ir,"onSelect")).length&&(e=new Qe("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=rr)))}function ur(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var lr={animationend:ur("Animation","AnimationEnd"),animationiteration:ur("Animation","AnimationIteration"),animationstart:ur("Animation","AnimationStart"),transitionrun:ur("Transition","TransitionRun"),transitionstart:ur("Transition","TransitionStart"),transitioncancel:ur("Transition","TransitionCancel"),transitionend:ur("Transition","TransitionEnd")},cr={},hr={};function pr(t){if(cr[t])return cr[t];if(!lr[t])return t;var e,n=lr[t];for(e in n)if(n.hasOwnProperty(e)&&e in hr)return cr[t]=n[e];return t}ne&&(hr=document.createElement("div").style,"AnimationEvent"in window||(delete lr.animationend.animation,delete lr.animationiteration.animation,delete lr.animationstart.animation),"TransitionEvent"in window||delete lr.transitionend.transition);var dr=pr("animationend"),fr=pr("animationiteration"),mr=pr("animationstart"),gr=pr("transitionrun"),yr=pr("transitionstart"),br=pr("transitioncancel"),xr=pr("transitionend"),vr=new Map,wr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Sr(t,e){vr.set(t,e),te(e,[t])}var kr=[],Tr=0,Ar=0;function Er(){for(var t=Tr,e=Ar=Tr=0;e<t;){var n=kr[e];kr[e++]=null;var r=kr[e];kr[e++]=null;var i=kr[e];kr[e++]=null;var s=kr[e];if(kr[e++]=null,null!==r&&null!==i){var a=r.pending;null===a?i.next=i:(i.next=a.next,a.next=i),r.pending=i}0!==s&&Ir(n,i,s)}}function _r(t,e,n,r){kr[Tr++]=t,kr[Tr++]=e,kr[Tr++]=n,kr[Tr++]=r,Ar|=r,t.lanes|=r,null!==(t=t.alternate)&&(t.lanes|=r)}function Lr(t,e,n,r){return _r(t,e,n,r),$r(t)}function Cr(t,e){return _r(t,null,null,e),$r(t)}function Ir(t,e,n){t.lanes|=n;var r=t.alternate;null!==r&&(r.lanes|=n);for(var i=!1,s=t.return;null!==s;)s.childLanes|=n,null!==(r=s.alternate)&&(r.childLanes|=n),22===s.tag&&(null===(t=s.stateNode)||1&t._visibility||(i=!0)),t=s,s=s.return;i&&null!==e&&3===t.tag&&(s=t.stateNode,i=31-vt(n),null===(t=(s=s.hiddenUpdates)[i])?s[i]=[e]:t.push(e),e.lane=536870912|n)}function $r(t){if(50<Ll)throw Ll=0,Cl=null,Error(a(185));for(var e=t.return;null!==e;)e=(t=e).return;return 3===t.tag?t.stateNode:null}var Or={},Rr=new WeakMap;function Dr(t,e){if("object"===typeof t&&null!==t){var n=Rr.get(t);return void 0!==n?n:(e={value:t,source:e,stack:M(e)},Rr.set(t,e),e)}return{value:t,source:e,stack:M(e)}}var zr=[],Mr=0,Pr=null,Nr=0,Fr=[],Vr=0,Kr=null,jr=1,Br="";function Ur(t,e){zr[Mr++]=Nr,zr[Mr++]=Pr,Pr=t,Nr=e}function Gr(t,e,n){Fr[Vr++]=jr,Fr[Vr++]=Br,Fr[Vr++]=Kr,Kr=t;var r=jr;t=Br;var i=32-vt(r)-1;r&=~(1<<i),n+=1;var s=32-vt(e)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,jr=1<<32-vt(e)+i|n<<i|r,Br=s+t}else jr=1<<s|n<<i|r,Br=t}function Wr(t){null!==t.return&&(Ur(t,1),Gr(t,1,0))}function Hr(t){for(;t===Pr;)Pr=zr[--Mr],zr[Mr]=null,Nr=zr[--Mr],zr[Mr]=null;for(;t===Kr;)Kr=Fr[--Vr],Fr[Vr]=null,Br=Fr[--Vr],Fr[Vr]=null,jr=Fr[--Vr],Fr[Vr]=null}var Xr=null,qr=null,Yr=!1,Jr=null,Qr=!1,Zr=Error(a(519));function ti(t){throw si(Dr(Error(a(418,"")),t)),Zr}function ei(t){var e=t.stateNode,n=t.type,r=t.memoizedProps;switch(e[Nt]=t,e[Ft]=r,n){case"dialog":Cc("cancel",e),Cc("close",e);break;case"iframe":case"object":case"embed":Cc("load",e);break;case"video":case"audio":for(n=0;n<Ec.length;n++)Cc(Ec[n],e);break;case"source":Cc("error",e);break;case"img":case"image":case"link":Cc("error",e),Cc("load",e);break;case"details":Cc("toggle",e);break;case"input":Cc("invalid",e),ye(e,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),he(e);break;case"select":Cc("invalid",e);break;case"textarea":Cc("invalid",e),we(e,r.value,r.defaultValue,r.children),he(e)}"string"!==typeof(n=r.children)&&"number"!==typeof n&&"bigint"!==typeof n||e.textContent===""+n||!0===r.suppressHydrationWarning||jc(e.textContent,n)?(null!=r.popover&&(Cc("beforetoggle",e),Cc("toggle",e)),null!=r.onScroll&&Cc("scroll",e),null!=r.onScrollEnd&&Cc("scrollend",e),null!=r.onClick&&(e.onclick=Bc),e=!0):e=!1,e||ti(t)}function ni(t){for(Xr=t.return;Xr;)switch(Xr.tag){case 3:case 27:return void(Qr=!0);case 5:case 13:return void(Qr=!1);default:Xr=Xr.return}}function ri(t){if(t!==Xr)return!1;if(!Yr)return ni(t),Yr=!0,!1;var e,n=!1;if((e=3!==t.tag&&27!==t.tag)&&((e=5===t.tag)&&(e=!("form"!==(e=t.type)&&"button"!==e)||Qc(t.type,t.memoizedProps)),e=!e),e&&(n=!0),n&&qr&&ti(t),ni(t),13===t.tag){if(!(t=null!==(t=t.memoizedState)?t.dehydrated:null))throw Error(a(317));t:{for(t=t.nextSibling,n=0;t;){if(8===t.nodeType)if("/$"===(e=t.data)){if(0===n){qr=oh(t.nextSibling);break t}n--}else"$"!==e&&"$!"!==e&&"$?"!==e||n++;t=t.nextSibling}qr=null}}else qr=Xr?oh(t.stateNode.nextSibling):null;return!0}function ii(){qr=Xr=null,Yr=!1}function si(t){null===Jr?Jr=[t]:Jr.push(t)}var ai=Error(a(460)),oi=Error(a(474)),ui={then:function(){}};function li(t){return"fulfilled"===(t=t.status)||"rejected"===t}function ci(){}function hi(t,e,n){switch(void 0===(n=t[n])?t.push(e):n!==e&&(e.then(ci,ci),e=n),e.status){case"fulfilled":return e.value;case"rejected":if((t=e.reason)===ai)throw Error(a(483));throw t;default:if("string"===typeof e.status)e.then(ci,ci);else{if(null!==(t=el)&&100<t.shellSuspendCounter)throw Error(a(482));(t=e).status="pending",t.then((function(t){if("pending"===e.status){var n=e;n.status="fulfilled",n.value=t}}),(function(t){if("pending"===e.status){var n=e;n.status="rejected",n.reason=t}}))}switch(e.status){case"fulfilled":return e.value;case"rejected":if((t=e.reason)===ai)throw Error(a(483));throw t}throw pi=e,ai}}var pi=null;function di(){if(null===pi)throw Error(a(459));var t=pi;return pi=null,t}var fi=null,mi=0;function gi(t){var e=mi;return mi+=1,null===fi&&(fi=[]),hi(fi,t,e)}function yi(t,e){e=e.props.ref,t.ref=void 0!==e?e:null}function bi(t,e){if(e.$$typeof===u)throw Error(a(525));throw t=Object.prototype.toString.call(e),Error(a(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function xi(t){return(0,t._init)(t._payload)}function vi(t){function e(e,n){if(t){var r=e.deletions;null===r?(e.deletions=[n],e.flags|=16):r.push(n)}}function n(n,r){if(!t)return null;for(;null!==r;)e(n,r),r=r.sibling;return null}function r(t){for(var e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(t,e){return(t=Pu(t,e)).index=0,t.sibling=null,t}function s(e,n,r){return e.index=r,t?null!==(r=e.alternate)?(r=r.index)<n?(e.flags|=33554434,n):r:(e.flags|=33554434,n):(e.flags|=1048576,n)}function o(e){return t&&null===e.alternate&&(e.flags|=33554434),e}function u(t,e,n,r){return null===e||6!==e.tag?((e=ju(n,t.mode,r)).return=t,e):((e=i(e,n)).return=t,e)}function p(t,e,n,r){var s=n.type;return s===h?f(t,e,n.props.children,r,n.key):null!==e&&(e.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===w&&xi(s)===e.type)?(yi(e=i(e,n.props),n),e.return=t,e):(yi(e=Fu(n.type,n.key,n.props,null,t.mode,r),n),e.return=t,e)}function d(t,e,n,r){return null===e||4!==e.tag||e.stateNode.containerInfo!==n.containerInfo||e.stateNode.implementation!==n.implementation?((e=Bu(n,t.mode,r)).return=t,e):((e=i(e,n.children||[])).return=t,e)}function f(t,e,n,r,s){return null===e||7!==e.tag?((e=Vu(n,t.mode,r,s)).return=t,e):((e=i(e,n)).return=t,e)}function m(t,e,n){if("string"===typeof e&&""!==e||"number"===typeof e||"bigint"===typeof e)return(e=ju(""+e,t.mode,n)).return=t,e;if("object"===typeof e&&null!==e){switch(e.$$typeof){case l:return yi(n=Fu(e.type,e.key,e.props,null,t.mode,n),e),n.return=t,n;case c:return(e=Bu(e,t.mode,n)).return=t,e;case w:return m(t,e=(0,e._init)(e._payload),n)}if(K(e)||A(e))return(e=Vu(e,t.mode,n,null)).return=t,e;if("function"===typeof e.then)return m(t,gi(e),n);if(e.$$typeof===g)return m(t,Eo(t,e),n);bi(t,e)}return null}function y(t,e,n,r){var i=null!==e?e.key:null;if("string"===typeof n&&""!==n||"number"===typeof n||"bigint"===typeof n)return null!==i?null:u(t,e,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case l:return n.key===i?p(t,e,n,r):null;case c:return n.key===i?d(t,e,n,r):null;case w:return y(t,e,n=(i=n._init)(n._payload),r)}if(K(n)||A(n))return null!==i?null:f(t,e,n,r,null);if("function"===typeof n.then)return y(t,e,gi(n),r);if(n.$$typeof===g)return y(t,e,Eo(t,n),r);bi(t,n)}return null}function b(t,e,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r||"bigint"===typeof r)return u(e,t=t.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case l:return p(e,t=t.get(null===r.key?n:r.key)||null,r,i);case c:return d(e,t=t.get(null===r.key?n:r.key)||null,r,i);case w:return b(t,e,n,r=(0,r._init)(r._payload),i)}if(K(r)||A(r))return f(e,t=t.get(n)||null,r,i,null);if("function"===typeof r.then)return b(t,e,n,gi(r),i);if(r.$$typeof===g)return b(t,e,n,Eo(e,r),i);bi(e,r)}return null}function x(u,p,d,f){if("object"===typeof d&&null!==d&&d.type===h&&null===d.key&&(d=d.props.children),"object"===typeof d&&null!==d){switch(d.$$typeof){case l:t:{for(var v=d.key;null!==p;){if(p.key===v){if((v=d.type)===h){if(7===p.tag){n(u,p.sibling),(f=i(p,d.props.children)).return=u,u=f;break t}}else if(p.elementType===v||"object"===typeof v&&null!==v&&v.$$typeof===w&&xi(v)===p.type){n(u,p.sibling),yi(f=i(p,d.props),d),f.return=u,u=f;break t}n(u,p);break}e(u,p),p=p.sibling}d.type===h?((f=Vu(d.props.children,u.mode,f,d.key)).return=u,u=f):(yi(f=Fu(d.type,d.key,d.props,null,u.mode,f),d),f.return=u,u=f)}return o(u);case c:t:{for(v=d.key;null!==p;){if(p.key===v){if(4===p.tag&&p.stateNode.containerInfo===d.containerInfo&&p.stateNode.implementation===d.implementation){n(u,p.sibling),(f=i(p,d.children||[])).return=u,u=f;break t}n(u,p);break}e(u,p),p=p.sibling}(f=Bu(d,u.mode,f)).return=u,u=f}return o(u);case w:return x(u,p,d=(v=d._init)(d._payload),f)}if(K(d))return function(i,a,o,u){for(var l=null,c=null,h=a,p=a=0,d=null;null!==h&&p<o.length;p++){h.index>p?(d=h,h=null):d=h.sibling;var f=y(i,h,o[p],u);if(null===f){null===h&&(h=d);break}t&&h&&null===f.alternate&&e(i,h),a=s(f,a,p),null===c?l=f:c.sibling=f,c=f,h=d}if(p===o.length)return n(i,h),Yr&&Ur(i,p),l;if(null===h){for(;p<o.length;p++)null!==(h=m(i,o[p],u))&&(a=s(h,a,p),null===c?l=h:c.sibling=h,c=h);return Yr&&Ur(i,p),l}for(h=r(h);p<o.length;p++)null!==(d=b(h,i,p,o[p],u))&&(t&&null!==d.alternate&&h.delete(null===d.key?p:d.key),a=s(d,a,p),null===c?l=d:c.sibling=d,c=d);return t&&h.forEach((function(t){return e(i,t)})),Yr&&Ur(i,p),l}(u,p,d,f);if(A(d)){if("function"!==typeof(v=A(d)))throw Error(a(150));return function(i,o,u,l){if(null==u)throw Error(a(151));for(var c=null,h=null,p=o,d=o=0,f=null,g=u.next();null!==p&&!g.done;d++,g=u.next()){p.index>d?(f=p,p=null):f=p.sibling;var x=y(i,p,g.value,l);if(null===x){null===p&&(p=f);break}t&&p&&null===x.alternate&&e(i,p),o=s(x,o,d),null===h?c=x:h.sibling=x,h=x,p=f}if(g.done)return n(i,p),Yr&&Ur(i,d),c;if(null===p){for(;!g.done;d++,g=u.next())null!==(g=m(i,g.value,l))&&(o=s(g,o,d),null===h?c=g:h.sibling=g,h=g);return Yr&&Ur(i,d),c}for(p=r(p);!g.done;d++,g=u.next())null!==(g=b(p,i,d,g.value,l))&&(t&&null!==g.alternate&&p.delete(null===g.key?d:g.key),o=s(g,o,d),null===h?c=g:h.sibling=g,h=g);return t&&p.forEach((function(t){return e(i,t)})),Yr&&Ur(i,d),c}(u,p,d=v.call(d),f)}if("function"===typeof d.then)return x(u,p,gi(d),f);if(d.$$typeof===g)return x(u,p,Eo(u,d),f);bi(u,d)}return"string"===typeof d&&""!==d||"number"===typeof d||"bigint"===typeof d?(d=""+d,null!==p&&6===p.tag?(n(u,p.sibling),(f=i(p,d)).return=u,u=f):(n(u,p),(f=ju(d,u.mode,f)).return=u,u=f),o(u)):n(u,p)}return function(t,e,n,r){try{mi=0;var i=x(t,e,n,r);return fi=null,i}catch(a){if(a===ai)throw a;var s=zu(29,a,null,t.mode);return s.lanes=r,s.return=t,s}}}var wi=vi(!0),Si=vi(!1),ki=W(null),Ti=W(0);function Ai(t,e){X(Ti,t=ll),X(ki,e),ll=t|e.baseLanes}function Ei(){X(Ti,ll),X(ki,ki.current)}function _i(){ll=Ti.current,H(ki),H(Ti)}var Li=W(null),Ci=null;function Ii(t){var e=t.alternate;X(Di,1&Di.current),X(Li,t),null===Ci&&(null===e||null!==ki.current||null!==e.memoizedState)&&(Ci=t)}function $i(t){if(22===t.tag){if(X(Di,Di.current),X(Li,t),null===Ci){var e=t.alternate;null!==e&&null!==e.memoizedState&&(Ci=t)}}else Oi()}function Oi(){X(Di,Di.current),X(Li,Li.current)}function Ri(t){H(Li),Ci===t&&(Ci=null),H(Di)}var Di=W(0);function zi(t){for(var e=t;null!==e;){if(13===e.tag){var n=e.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return e}else if(19===e.tag&&void 0!==e.memoizedProps.revealOrder){if(0!==(128&e.flags))return e}else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Mi="undefined"!==typeof AbortController?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(e,n){t.push(n)}};this.abort=function(){e.aborted=!0,t.forEach((function(t){return t()}))}},Pi=r.unstable_scheduleCallback,Ni=r.unstable_NormalPriority,Fi={$$typeof:g,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Vi(){return{controller:new Mi,data:new Map,refCount:0}}function Ki(t){t.refCount--,0===t.refCount&&Pi(Ni,(function(){t.controller.abort()}))}var ji=null,Bi=0,Ui=0,Gi=null;function Wi(){if(0===--Bi&&null!==ji){null!==Gi&&(Gi.status="fulfilled");var t=ji;ji=null,Ui=0,Gi=null;for(var e=0;e<t.length;e++)(0,t[e])()}}var Hi=I.S;I.S=function(t,e){"object"===typeof e&&null!==e&&"function"===typeof e.then&&function(t,e){if(null===ji){var n=ji=[];Bi=0,Ui=wc(),Gi={status:"pending",value:void 0,then:function(t){n.push(t)}}}Bi++,e.then(Wi,Wi)}(0,e),null!==Hi&&Hi(t,e)};var Xi=W(null);function qi(){var t=Xi.current;return null!==t?t:el.pooledCache}function Yi(t,e){X(Xi,null===e?Xi.current:e.pool)}function Ji(){var t=qi();return null===t?null:{parent:Fi._currentValue,pool:t}}var Qi=0,Zi=null,ts=null,es=null,ns=!1,rs=!1,is=!1,ss=0,as=0,os=null,us=0;function ls(){throw Error(a(321))}function cs(t,e){if(null===e)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Xn(t[n],e[n]))return!1;return!0}function hs(t,e,n,r,i,s){return Qi=s,Zi=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,I.H=null===t||null===t.memoizedState?Aa:Ea,is=!1,s=n(r,i),is=!1,rs&&(s=ds(e,n,r,i)),ps(t),s}function ps(t){I.H=Ta;var e=null!==ts&&null!==ts.next;if(Qi=0,es=ts=Zi=null,ns=!1,as=0,os=null,e)throw Error(a(300));null===t||Ba||null!==(t=t.dependencies)&&ko(t)&&(Ba=!0)}function ds(t,e,n,r){Zi=t;var i=0;do{if(rs&&(os=null),as=0,rs=!1,25<=i)throw Error(a(301));if(i+=1,es=ts=null,null!=t.updateQueue){var s=t.updateQueue;s.lastEffect=null,s.events=null,s.stores=null,null!=s.memoCache&&(s.memoCache.index=0)}I.H=_a,s=e(n,r)}while(rs);return s}function fs(){var t=I.H,e=t.useState()[0];return e="function"===typeof e.then?vs(e):e,t=t.useState()[0],(null!==ts?ts.memoizedState:null)!==t&&(Zi.flags|=1024),e}function ms(){var t=0!==ss;return ss=0,t}function gs(t,e,n){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~n}function ys(t){if(ns){for(t=t.memoizedState;null!==t;){var e=t.queue;null!==e&&(e.pending=null),t=t.next}ns=!1}Qi=0,es=ts=Zi=null,rs=!1,as=ss=0,os=null}function bs(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===es?Zi.memoizedState=es=t:es=es.next=t,es}function xs(){if(null===ts){var t=Zi.alternate;t=null!==t?t.memoizedState:null}else t=ts.next;var e=null===es?Zi.memoizedState:es.next;if(null!==e)es=e,ts=t;else{if(null===t){if(null===Zi.alternate)throw Error(a(467));throw Error(a(310))}t={memoizedState:(ts=t).memoizedState,baseState:ts.baseState,baseQueue:ts.baseQueue,queue:ts.queue,next:null},null===es?Zi.memoizedState=es=t:es=es.next=t}return es}function vs(t){var e=as;return as+=1,null===os&&(os=[]),t=hi(os,t,e),e=Zi,null===(null===es?e.memoizedState:es.next)&&(e=e.alternate,I.H=null===e||null===e.memoizedState?Aa:Ea),t}function ws(t){if(null!==t&&"object"===typeof t){if("function"===typeof t.then)return vs(t);if(t.$$typeof===g)return Ao(t)}throw Error(a(438,String(t)))}function Ss(t){var e=null,n=Zi.updateQueue;if(null!==n&&(e=n.memoCache),null==e){var r=Zi.alternate;null!==r&&(null!==(r=r.updateQueue)&&(null!=(r=r.memoCache)&&(e={data:r.data.map((function(t){return t.slice()})),index:0})))}if(null==e&&(e={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},Zi.updateQueue=n),n.memoCache=e,void 0===(n=e.data[e.index]))for(n=e.data[e.index]=Array(t),r=0;r<t;r++)n[r]=k;return e.index++,n}function ks(t,e){return"function"===typeof e?e(t):e}function Ts(t){return As(xs(),ts,t)}function As(t,e,n){var r=t.queue;if(null===r)throw Error(a(311));r.lastRenderedReducer=n;var i=t.baseQueue,s=r.pending;if(null!==s){if(null!==i){var o=i.next;i.next=s.next,s.next=o}e.baseQueue=i=s,r.pending=null}if(s=t.baseState,null===i)t.memoizedState=s;else{var u=o=null,l=null,c=e=i.next,h=!1;do{var p=-536870913&c.lane;if(p!==c.lane?(rl&p)===p:(Qi&p)===p){var d=c.revertLane;if(0===d)null!==l&&(l=l.next={lane:0,revertLane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),p===Ui&&(h=!0);else{if((Qi&d)===d){c=c.next,d===Ui&&(h=!0);continue}p={lane:0,revertLane:c.revertLane,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},null===l?(u=l=p,o=s):l=l.next=p,Zi.lanes|=d,hl|=d}p=c.action,is&&n(s,p),s=c.hasEagerState?c.eagerState:n(s,p)}else d={lane:p,revertLane:c.revertLane,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},null===l?(u=l=d,o=s):l=l.next=d,Zi.lanes|=p,hl|=p;c=c.next}while(null!==c&&c!==e);if(null===l?o=s:l.next=u,!Xn(s,t.memoizedState)&&(Ba=!0,h&&null!==(n=Gi)))throw n;t.memoizedState=s,t.baseState=o,t.baseQueue=l,r.lastRenderedState=s}return null===i&&(r.lanes=0),[t.memoizedState,r.dispatch]}function Es(t){var e=xs(),n=e.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(null!==i){n.pending=null;var o=i=i.next;do{s=t(s,o.action),o=o.next}while(o!==i);Xn(s,e.memoizedState)||(Ba=!0),e.memoizedState=s,null===e.baseQueue&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function _s(t,e,n){var r=Zi,i=xs(),s=Yr;if(s){if(void 0===n)throw Error(a(407));n=n()}else n=e();var o=!Xn((ts||i).memoizedState,n);if(o&&(i.memoizedState=n,Ba=!0),i=i.queue,Qs(Is.bind(null,r,i,t),[t]),i.getSnapshot!==e||o||null!==es&&1&es.memoizedState.tag){if(r.flags|=2048,Hs(9,Cs.bind(null,r,i,n,e),{destroy:void 0},null),null===el)throw Error(a(349));s||0!==(60&Qi)||Ls(r,e,n)}return n}function Ls(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},null===(e=Zi.updateQueue)?(e={lastEffect:null,events:null,stores:null,memoCache:null},Zi.updateQueue=e,e.stores=[t]):null===(n=e.stores)?e.stores=[t]:n.push(t)}function Cs(t,e,n,r){e.value=n,e.getSnapshot=r,$s(e)&&Os(t)}function Is(t,e,n){return n((function(){$s(e)&&Os(t)}))}function $s(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Xn(t,n)}catch(r){return!0}}function Os(t){var e=Cr(t,2);null!==e&&Ol(e,t,2)}function Rs(t){var e=bs();if("function"===typeof t){var n=t;if(t=n(),is){xt(!0);try{n()}finally{xt(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ks,lastRenderedState:t},e}function Ds(t,e,n,r){return t.baseState=n,As(t,ts,"function"===typeof r?r:ks)}function zs(t,e,n,r,i){if(wa(t))throw Error(a(485));if(null!==(t=e.action)){var s={payload:i,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(t){s.listeners.push(t)}};null!==I.T?n(!0):s.isTransition=!1,r(s),null===(n=e.pending)?(s.next=e.pending=s,Ms(e,s)):(s.next=n.next,e.pending=n.next=s)}}function Ms(t,e){var n=e.action,r=e.payload,i=t.state;if(e.isTransition){var s=I.T,a={};I.T=a;try{var o=n(i,r),u=I.S;null!==u&&u(a,o),Ps(t,e,o)}catch(l){Fs(t,e,l)}finally{I.T=s}}else try{Ps(t,e,s=n(i,r))}catch(c){Fs(t,e,c)}}function Ps(t,e,n){null!==n&&"object"===typeof n&&"function"===typeof n.then?n.then((function(n){Ns(t,e,n)}),(function(n){return Fs(t,e,n)})):Ns(t,e,n)}function Ns(t,e,n){e.status="fulfilled",e.value=n,Vs(e),t.state=n,null!==(e=t.pending)&&((n=e.next)===e?t.pending=null:(n=n.next,e.next=n,Ms(t,n)))}function Fs(t,e,n){var r=t.pending;if(t.pending=null,null!==r){r=r.next;do{e.status="rejected",e.reason=n,Vs(e),e=e.next}while(e!==r)}t.action=null}function Vs(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function Ks(t,e){return e}function js(t,e){if(Yr){var n=el.formState;if(null!==n){t:{var r=Zi;if(Yr){if(qr){e:{for(var i=qr,s=Qr;8!==i.nodeType;){if(!s){i=null;break e}if(null===(i=oh(i.nextSibling))){i=null;break e}}i="F!"===(s=i.data)||"F"===s?i:null}if(i){qr=oh(i.nextSibling),r="F!"===i.data;break t}}ti(r)}r=!1}r&&(e=n[0])}}return(n=bs()).memoizedState=n.baseState=e,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ks,lastRenderedState:e},n.queue=r,n=ba.bind(null,Zi,r),r.dispatch=n,r=Rs(!1),s=va.bind(null,Zi,!1,r.queue),i={state:e,dispatch:null,action:t,pending:null},(r=bs()).queue=i,n=zs.bind(null,Zi,i,s,n),i.dispatch=n,r.memoizedState=t,[e,n,!1]}function Bs(t){return Us(xs(),ts,t)}function Us(t,e,n){e=As(t,e,Ks)[0],t=Ts(ks)[0],e="object"===typeof e&&null!==e&&"function"===typeof e.then?vs(e):e;var r=xs(),i=r.queue,s=i.dispatch;return n!==r.memoizedState&&(Zi.flags|=2048,Hs(9,Gs.bind(null,i,n),{destroy:void 0},null)),[e,s,t]}function Gs(t,e){t.action=e}function Ws(t){var e=xs(),n=ts;if(null!==n)return Us(e,n,t);xs(),e=e.memoizedState;var r=(n=xs()).queue.dispatch;return n.memoizedState=t,[e,r,!1]}function Hs(t,e,n,r){return t={tag:t,create:e,inst:n,deps:r,next:null},null===(e=Zi.updateQueue)&&(e={lastEffect:null,events:null,stores:null,memoCache:null},Zi.updateQueue=e),null===(n=e.lastEffect)?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t),t}function Xs(){return xs().memoizedState}function qs(t,e,n,r){var i=bs();Zi.flags|=t,i.memoizedState=Hs(1|e,n,{destroy:void 0},void 0===r?null:r)}function Ys(t,e,n,r){var i=xs();r=void 0===r?null:r;var s=i.memoizedState.inst;null!==ts&&null!==r&&cs(r,ts.memoizedState.deps)?i.memoizedState=Hs(e,n,s,r):(Zi.flags|=t,i.memoizedState=Hs(1|e,n,s,r))}function Js(t,e){qs(8390656,8,t,e)}function Qs(t,e){Ys(2048,8,t,e)}function Zs(t,e){return Ys(4,2,t,e)}function ta(t,e){return Ys(4,4,t,e)}function ea(t,e){if("function"===typeof e){t=t();var n=e(t);return function(){"function"===typeof n?n():e(null)}}if(null!==e&&void 0!==e)return t=t(),e.current=t,function(){e.current=null}}function na(t,e,n){n=null!==n&&void 0!==n?n.concat([t]):null,Ys(4,4,ea.bind(null,e,t),n)}function ra(){}function ia(t,e){var n=xs();e=void 0===e?null:e;var r=n.memoizedState;return null!==e&&cs(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function sa(t,e){var n=xs();e=void 0===e?null:e;var r=n.memoizedState;if(null!==e&&cs(e,r[1]))return r[0];if(r=t(),is){xt(!0);try{t()}finally{xt(!1)}}return n.memoizedState=[r,e],r}function aa(t,e,n){return void 0===n||0!==(1073741824&Qi)?t.memoizedState=e:(t.memoizedState=n,t=$l(),Zi.lanes|=t,hl|=t,n)}function oa(t,e,n,r){return Xn(n,e)?n:null!==ki.current?(t=aa(t,n,r),Xn(t,e)||(Ba=!0),t):0===(42&Qi)?(Ba=!0,t.memoizedState=n):(t=$l(),Zi.lanes|=t,hl|=t,e)}function ua(t,e,n,r,i){var s=j.p;j.p=0!==s&&8>s?s:8;var a=I.T,o={};I.T=o,va(t,!1,e,n);try{var u=i(),l=I.S;if(null!==l&&l(o,u),null!==u&&"object"===typeof u&&"function"===typeof u.then)xa(t,e,function(t,e){var n=[],r={status:"pending",value:null,reason:null,then:function(t){n.push(t)}};return t.then((function(){r.status="fulfilled",r.value=e;for(var t=0;t<n.length;t++)(0,n[t])(e)}),(function(t){for(r.status="rejected",r.reason=t,t=0;t<n.length;t++)(0,n[t])(void 0)})),r}(u,r),Il());else xa(t,e,r,Il())}catch(c){xa(t,e,{then:function(){},status:"rejected",reason:c},Il())}finally{j.p=s,I.T=a}}function la(){}function ca(t,e,n,r){if(5!==t.tag)throw Error(a(476));var i=ha(t).queue;ua(t,i,e,B,null===n?la:function(){return pa(t),n(r)})}function ha(t){var e=t.memoizedState;if(null!==e)return e;var n={};return(e={memoizedState:B,baseState:B,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ks,lastRenderedState:B},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ks,lastRenderedState:n},next:null},t.memoizedState=e,null!==(t=t.alternate)&&(t.memoizedState=e),e}function pa(t){xa(t,ha(t).next.queue,{},Il())}function da(){return Ao(Mh)}function fa(){return xs().memoizedState}function ma(){return xs().memoizedState}function ga(t){for(var e=t.return;null!==e;){switch(e.tag){case 24:case 3:var n=Il(),r=Oo(e,t=$o(n),n);return null!==r&&(Ol(r,e,n),Ro(r,e,n)),e={cache:Vi()},void(t.payload=e)}e=e.return}}function ya(t,e,n){var r=Il();n={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},wa(t)?Sa(e,n):null!==(n=Lr(t,e,n,r))&&(Ol(n,t,r),ka(n,e,r))}function ba(t,e,n){xa(t,e,n,Il())}function xa(t,e,n,r){var i={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(wa(t))Sa(e,i);else{var s=t.alternate;if(0===t.lanes&&(null===s||0===s.lanes)&&null!==(s=e.lastRenderedReducer))try{var a=e.lastRenderedState,o=s(a,n);if(i.hasEagerState=!0,i.eagerState=o,Xn(o,a))return _r(t,e,i,0),null===el&&Er(),!1}catch(u){}if(null!==(n=Lr(t,e,i,r)))return Ol(n,t,r),ka(n,e,r),!0}return!1}function va(t,e,n,r){if(r={lane:2,revertLane:wc(),action:r,hasEagerState:!1,eagerState:null,next:null},wa(t)){if(e)throw Error(a(479))}else null!==(e=Lr(t,n,r,2))&&Ol(e,t,2)}function wa(t){var e=t.alternate;return t===Zi||null!==e&&e===Zi}function Sa(t,e){rs=ns=!0;var n=t.pending;null===n?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function ka(t,e,n){if(0!==(4194176&n)){var r=e.lanes;n|=r&=t.pendingLanes,e.lanes=n,Dt(t,n)}}var Ta={readContext:Ao,use:ws,useCallback:ls,useContext:ls,useEffect:ls,useImperativeHandle:ls,useLayoutEffect:ls,useInsertionEffect:ls,useMemo:ls,useReducer:ls,useRef:ls,useState:ls,useDebugValue:ls,useDeferredValue:ls,useTransition:ls,useSyncExternalStore:ls,useId:ls};Ta.useCacheRefresh=ls,Ta.useMemoCache=ls,Ta.useHostTransitionStatus=ls,Ta.useFormState=ls,Ta.useActionState=ls,Ta.useOptimistic=ls;var Aa={readContext:Ao,use:ws,useCallback:function(t,e){return bs().memoizedState=[t,void 0===e?null:e],t},useContext:Ao,useEffect:Js,useImperativeHandle:function(t,e,n){n=null!==n&&void 0!==n?n.concat([t]):null,qs(4194308,4,ea.bind(null,e,t),n)},useLayoutEffect:function(t,e){return qs(4194308,4,t,e)},useInsertionEffect:function(t,e){qs(4,2,t,e)},useMemo:function(t,e){var n=bs();e=void 0===e?null:e;var r=t();if(is){xt(!0);try{t()}finally{xt(!1)}}return n.memoizedState=[r,e],r},useReducer:function(t,e,n){var r=bs();if(void 0!==n){var i=n(e);if(is){xt(!0);try{n(e)}finally{xt(!1)}}}else i=e;return r.memoizedState=r.baseState=i,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:i},r.queue=t,t=t.dispatch=ya.bind(null,Zi,t),[r.memoizedState,t]},useRef:function(t){return t={current:t},bs().memoizedState=t},useState:function(t){var e=(t=Rs(t)).queue,n=ba.bind(null,Zi,e);return e.dispatch=n,[t.memoizedState,n]},useDebugValue:ra,useDeferredValue:function(t,e){return aa(bs(),t,e)},useTransition:function(){var t=Rs(!1);return t=ua.bind(null,Zi,t.queue,!0,!1),bs().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,n){var r=Zi,i=bs();if(Yr){if(void 0===n)throw Error(a(407));n=n()}else{if(n=e(),null===el)throw Error(a(349));0!==(60&rl)||Ls(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,Js(Is.bind(null,r,s,t),[t]),r.flags|=2048,Hs(9,Cs.bind(null,r,s,n,e),{destroy:void 0},null),n},useId:function(){var t=bs(),e=el.identifierPrefix;if(Yr){var n=Br;e=":"+e+"R"+(n=(jr&~(1<<32-vt(jr)-1)).toString(32)+n),0<(n=ss++)&&(e+="H"+n.toString(32)),e+=":"}else e=":"+e+"r"+(n=us++).toString(32)+":";return t.memoizedState=e},useCacheRefresh:function(){return bs().memoizedState=ga.bind(null,Zi)}};Aa.useMemoCache=Ss,Aa.useHostTransitionStatus=da,Aa.useFormState=js,Aa.useActionState=js,Aa.useOptimistic=function(t){var e=bs();e.memoizedState=e.baseState=t;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=n,e=va.bind(null,Zi,!0,n),n.dispatch=e,[t,e]};var Ea={readContext:Ao,use:ws,useCallback:ia,useContext:Ao,useEffect:Qs,useImperativeHandle:na,useInsertionEffect:Zs,useLayoutEffect:ta,useMemo:sa,useReducer:Ts,useRef:Xs,useState:function(){return Ts(ks)},useDebugValue:ra,useDeferredValue:function(t,e){return oa(xs(),ts.memoizedState,t,e)},useTransition:function(){var t=Ts(ks)[0],e=xs().memoizedState;return["boolean"===typeof t?t:vs(t),e]},useSyncExternalStore:_s,useId:fa};Ea.useCacheRefresh=ma,Ea.useMemoCache=Ss,Ea.useHostTransitionStatus=da,Ea.useFormState=Bs,Ea.useActionState=Bs,Ea.useOptimistic=function(t,e){return Ds(xs(),0,t,e)};var _a={readContext:Ao,use:ws,useCallback:ia,useContext:Ao,useEffect:Qs,useImperativeHandle:na,useInsertionEffect:Zs,useLayoutEffect:ta,useMemo:sa,useReducer:Es,useRef:Xs,useState:function(){return Es(ks)},useDebugValue:ra,useDeferredValue:function(t,e){var n=xs();return null===ts?aa(n,t,e):oa(n,ts.memoizedState,t,e)},useTransition:function(){var t=Es(ks)[0],e=xs().memoizedState;return["boolean"===typeof t?t:vs(t),e]},useSyncExternalStore:_s,useId:fa};function La(t,e,n,r){n=null===(n=n(r,e=t.memoizedState))||void 0===n?e:$({},e,n),t.memoizedState=n,0===t.lanes&&(t.updateQueue.baseState=n)}_a.useCacheRefresh=ma,_a.useMemoCache=Ss,_a.useHostTransitionStatus=da,_a.useFormState=Ws,_a.useActionState=Ws,_a.useOptimistic=function(t,e){var n=xs();return null!==ts?Ds(n,0,t,e):(n.baseState=t,[t,n.queue.dispatch])};var Ca={isMounted:function(t){return!!(t=t._reactInternals)&&P(t)===t},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Il(),i=$o(r);i.payload=e,void 0!==n&&null!==n&&(i.callback=n),null!==(e=Oo(t,i,r))&&(Ol(e,t,r),Ro(e,t,r))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Il(),i=$o(r);i.tag=1,i.payload=e,void 0!==n&&null!==n&&(i.callback=n),null!==(e=Oo(t,i,r))&&(Ol(e,t,r),Ro(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Il(),r=$o(n);r.tag=2,void 0!==e&&null!==e&&(r.callback=e),null!==(e=Oo(t,r,n))&&(Ol(e,t,n),Ro(e,t,n))}};function Ia(t,e,n,r,i,s,a){return"function"===typeof(t=t.stateNode).shouldComponentUpdate?t.shouldComponentUpdate(r,s,a):!e.prototype||!e.prototype.isPureReactComponent||(!qn(n,r)||!qn(i,s))}function $a(t,e,n,r){t=e.state,"function"===typeof e.componentWillReceiveProps&&e.componentWillReceiveProps(n,r),"function"===typeof e.UNSAFE_componentWillReceiveProps&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Ca.enqueueReplaceState(e,e.state,null)}function Oa(t,e){var n=e;if("ref"in e)for(var r in n={},e)"ref"!==r&&(n[r]=e[r]);if(t=t.defaultProps)for(var i in n===e&&(n=$({},n)),t)void 0===n[i]&&(n[i]=t[i]);return n}var Ra="function"===typeof reportError?reportError:function(t){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof t&&null!==t&&"string"===typeof t.message?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",t);console.error(t)};function Da(t){Ra(t)}function za(t){console.error(t)}function Ma(t){Ra(t)}function Pa(t,e){try{(0,t.onUncaughtError)(e.value,{componentStack:e.stack})}catch(n){setTimeout((function(){throw n}))}}function Na(t,e,n){try{(0,t.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===e.tag?e.stateNode:null})}catch(r){setTimeout((function(){throw r}))}}function Fa(t,e,n){return(n=$o(n)).tag=3,n.payload={element:null},n.callback=function(){Pa(t,e)},n}function Va(t){return(t=$o(t)).tag=3,t}function Ka(t,e,n,r){var i=n.type.getDerivedStateFromError;if("function"===typeof i){var s=r.value;t.payload=function(){return i(s)},t.callback=function(){Na(e,n,r)}}var a=n.stateNode;null!==a&&"function"===typeof a.componentDidCatch&&(t.callback=function(){Na(e,n,r),"function"!==typeof i&&(null===Sl?Sl=new Set([this]):Sl.add(this));var t=r.stack;this.componentDidCatch(r.value,{componentStack:null!==t?t:""})})}var ja=Error(a(461)),Ba=!1;function Ua(t,e,n,r){e.child=null===t?Si(e,null,n,r):wi(e,t.child,n,r)}function Ga(t,e,n,r,i){n=n.render;var s=e.ref;if("ref"in r){var a={};for(var o in r)"ref"!==o&&(a[o]=r[o])}else a=r;return To(e),r=hs(t,e,n,a,s,i),o=ms(),null===t||Ba?(Yr&&o&&Wr(e),e.flags|=1,Ua(t,e,r,i),e.child):(gs(t,e,i),ho(t,e,i))}function Wa(t,e,n,r,i){if(null===t){var s=n.type;return"function"!==typeof s||Mu(s)||void 0!==s.defaultProps||null!==n.compare?((t=Fu(n.type,null,r,e,e.mode,i)).ref=e.ref,t.return=e,e.child=t):(e.tag=15,e.type=s,Ha(t,e,s,r,i))}if(s=t.child,!po(t,i)){var a=s.memoizedProps;if((n=null!==(n=n.compare)?n:qn)(a,r)&&t.ref===e.ref)return ho(t,e,i)}return e.flags|=1,(t=Pu(s,r)).ref=e.ref,t.return=e,e.child=t}function Ha(t,e,n,r,i){if(null!==t){var s=t.memoizedProps;if(qn(s,r)&&t.ref===e.ref){if(Ba=!1,e.pendingProps=r=s,!po(t,i))return e.lanes=t.lanes,ho(t,e,i);0!==(131072&t.flags)&&(Ba=!0)}}return Ja(t,e,n,r,i)}function Xa(t,e,n){var r=e.pendingProps,i=r.children,s=0!==(2&e.stateNode._pendingVisibility),a=null!==t?t.memoizedState:null;if(Ya(t,e),"hidden"===r.mode||s){if(0!==(128&e.flags)){if(r=null!==a?a.baseLanes|n:n,null!==t){for(i=e.child=t.child,s=0;null!==i;)s=s|i.lanes|i.childLanes,i=i.sibling;e.childLanes=s&~r}else e.childLanes=0,e.child=null;return qa(t,e,r,n)}if(0===(536870912&n))return e.lanes=e.childLanes=536870912,qa(t,e,null!==a?a.baseLanes|n:n,n);e.memoizedState={baseLanes:0,cachePool:null},null!==t&&Yi(0,null!==a?a.cachePool:null),null!==a?Ai(e,a):Ei(),$i(e)}else null!==a?(Yi(0,a.cachePool),Ai(e,a),Oi(),e.memoizedState=null):(null!==t&&Yi(0,null),Ei(),Oi());return Ua(t,e,i,n),e.child}function qa(t,e,n,r){var i=qi();return i=null===i?null:{parent:Fi._currentValue,pool:i},e.memoizedState={baseLanes:n,cachePool:i},null!==t&&Yi(0,null),Ei(),$i(e),null!==t&&So(t,e,r,!0),null}function Ya(t,e){var n=e.ref;if(null===n)null!==t&&null!==t.ref&&(e.flags|=2097664);else{if("function"!==typeof n&&"object"!==typeof n)throw Error(a(284));null!==t&&t.ref===n||(e.flags|=2097664)}}function Ja(t,e,n,r,i){return To(e),n=hs(t,e,n,r,void 0,i),r=ms(),null===t||Ba?(Yr&&r&&Wr(e),e.flags|=1,Ua(t,e,n,i),e.child):(gs(t,e,i),ho(t,e,i))}function Qa(t,e,n,r,i,s){return To(e),e.updateQueue=null,n=ds(e,r,n,i),ps(t),r=ms(),null===t||Ba?(Yr&&r&&Wr(e),e.flags|=1,Ua(t,e,n,s),e.child):(gs(t,e,s),ho(t,e,s))}function Za(t,e,n,r,i){if(To(e),null===e.stateNode){var s=Or,a=n.contextType;"object"===typeof a&&null!==a&&(s=Ao(a)),s=new n(r,s),e.memoizedState=null!==s.state&&void 0!==s.state?s.state:null,s.updater=Ca,e.stateNode=s,s._reactInternals=e,(s=e.stateNode).props=r,s.state=e.memoizedState,s.refs={},Co(e),a=n.contextType,s.context="object"===typeof a&&null!==a?Ao(a):Or,s.state=e.memoizedState,"function"===typeof(a=n.getDerivedStateFromProps)&&(La(e,n,a,r),s.state=e.memoizedState),"function"===typeof n.getDerivedStateFromProps||"function"===typeof s.getSnapshotBeforeUpdate||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||(a=s.state,"function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount(),a!==s.state&&Ca.enqueueReplaceState(s,s.state,null),Po(e,r,s,i),Mo(),s.state=e.memoizedState),"function"===typeof s.componentDidMount&&(e.flags|=4194308),r=!0}else if(null===t){s=e.stateNode;var o=e.memoizedProps,u=Oa(n,o);s.props=u;var l=s.context,c=n.contextType;a=Or,"object"===typeof c&&null!==c&&(a=Ao(c));var h=n.getDerivedStateFromProps;c="function"===typeof h||"function"===typeof s.getSnapshotBeforeUpdate,o=e.pendingProps!==o,c||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(o||l!==a)&&$a(e,s,r,a),Lo=!1;var p=e.memoizedState;s.state=p,Po(e,r,s,i),Mo(),l=e.memoizedState,o||p!==l||Lo?("function"===typeof h&&(La(e,n,h,r),l=e.memoizedState),(u=Lo||Ia(e,n,u,r,p,l,a))?(c||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(e.flags|=4194308)):("function"===typeof s.componentDidMount&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=a,r=u):("function"===typeof s.componentDidMount&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,Io(t,e),c=Oa(n,a=e.memoizedProps),s.props=c,h=e.pendingProps,p=s.context,l=n.contextType,u=Or,"object"===typeof l&&null!==l&&(u=Ao(l)),(l="function"===typeof(o=n.getDerivedStateFromProps)||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==h||p!==u)&&$a(e,s,r,u),Lo=!1,p=e.memoizedState,s.state=p,Po(e,r,s,i),Mo();var d=e.memoizedState;a!==h||p!==d||Lo||null!==t&&null!==t.dependencies&&ko(t.dependencies)?("function"===typeof o&&(La(e,n,o,r),d=e.memoizedState),(c=Lo||Ia(e,n,c,r,p,d,u)||null!==t&&null!==t.dependencies&&ko(t.dependencies))?(l||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(r,d,u),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,d,u)),"function"===typeof s.componentDidUpdate&&(e.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(e.flags|=1024)):("function"!==typeof s.componentDidUpdate||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=d),s.props=r,s.state=d,s.context=u,r=c):("function"!==typeof s.componentDidUpdate||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return s=r,Ya(t,e),r=0!==(128&e.flags),s||r?(s=e.stateNode,n=r&&"function"!==typeof n.getDerivedStateFromError?null:s.render(),e.flags|=1,null!==t&&r?(e.child=wi(e,t.child,null,i),e.child=wi(e,null,n,i)):Ua(t,e,n,i),e.memoizedState=s.state,t=e.child):t=ho(t,e,i),t}function to(t,e,n,r){return ii(),e.flags|=256,Ua(t,e,n,r),e.child}var eo={dehydrated:null,treeContext:null,retryLane:0};function no(t){return{baseLanes:t,cachePool:Ji()}}function ro(t,e,n){return t=null!==t?t.childLanes&~n:0,e&&(t|=fl),t}function io(t,e,n){var r,i=e.pendingProps,s=!1,o=0!==(128&e.flags);if((r=o)||(r=(null===t||null!==t.memoizedState)&&0!==(2&Di.current)),r&&(s=!0,e.flags&=-129),r=0!==(32&e.flags),e.flags&=-33,null===t){if(Yr){if(s?Ii(e):Oi(),Yr){var u,l=qr;if(u=l){t:{for(u=l,l=Qr;8!==u.nodeType;){if(!l){l=null;break t}if(null===(u=oh(u.nextSibling))){l=null;break t}}l=u}null!==l?(e.memoizedState={dehydrated:l,treeContext:null!==Kr?{id:jr,overflow:Br}:null,retryLane:536870912},(u=zu(18,null,null,0)).stateNode=l,u.return=e,e.child=u,Xr=e,qr=null,u=!0):u=!1}u||ti(e)}if(null!==(l=e.memoizedState)&&null!==(l=l.dehydrated))return"$!"===l.data?e.lanes=16:e.lanes=536870912,null;Ri(e)}return l=i.children,i=i.fallback,s?(Oi(),l=ao({mode:"hidden",children:l},s=e.mode),i=Vu(i,s,n,null),l.return=e,i.return=e,l.sibling=i,e.child=l,(s=e.child).memoizedState=no(n),s.childLanes=ro(t,r,n),e.memoizedState=eo,i):(Ii(e),so(e,l))}if(null!==(u=t.memoizedState)&&null!==(l=u.dehydrated)){if(o)256&e.flags?(Ii(e),e.flags&=-257,e=oo(t,e,n)):null!==e.memoizedState?(Oi(),e.child=t.child,e.flags|=128,e=null):(Oi(),s=i.fallback,l=e.mode,i=ao({mode:"visible",children:i.children},l),(s=Vu(s,l,n,null)).flags|=2,i.return=e,s.return=e,i.sibling=s,e.child=i,wi(e,t.child,null,n),(i=e.child).memoizedState=no(n),i.childLanes=ro(t,r,n),e.memoizedState=eo,e=s);else if(Ii(e),"$!"===l.data){if(r=l.nextSibling&&l.nextSibling.dataset)var c=r.dgst;r=c,(i=Error(a(419))).stack="",i.digest=r,si({value:i,source:null,stack:null}),e=oo(t,e,n)}else if(Ba||So(t,e,n,!1),r=0!==(n&t.childLanes),Ba||r){if(null!==(r=el)){if(0!==(42&(i=n&-n)))i=1;else switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=64;break;case 268435456:i=134217728;break;default:i=0}if(0!==(i=0!==(i&(r.suspendedLanes|n))?0:i)&&i!==u.retryLane)throw u.retryLane=i,Cr(t,i),Ol(r,t,i),ja}"$?"===l.data||Ul(),e=oo(t,e,n)}else"$?"===l.data?(e.flags|=128,e.child=t.child,e=oc.bind(null,t),l._reactRetry=e,e=null):(t=u.treeContext,qr=oh(l.nextSibling),Xr=e,Yr=!0,Jr=null,Qr=!1,null!==t&&(Fr[Vr++]=jr,Fr[Vr++]=Br,Fr[Vr++]=Kr,jr=t.id,Br=t.overflow,Kr=e),(e=so(e,i.children)).flags|=4096);return e}return s?(Oi(),s=i.fallback,l=e.mode,c=(u=t.child).sibling,(i=Pu(u,{mode:"hidden",children:i.children})).subtreeFlags=31457280&u.subtreeFlags,null!==c?s=Pu(c,s):(s=Vu(s,l,n,null)).flags|=2,s.return=e,i.return=e,i.sibling=s,e.child=i,i=s,s=e.child,null===(l=t.child.memoizedState)?l=no(n):(null!==(u=l.cachePool)?(c=Fi._currentValue,u=u.parent!==c?{parent:c,pool:c}:u):u=Ji(),l={baseLanes:l.baseLanes|n,cachePool:u}),s.memoizedState=l,s.childLanes=ro(t,r,n),e.memoizedState=eo,i):(Ii(e),t=(n=t.child).sibling,(n=Pu(n,{mode:"visible",children:i.children})).return=e,n.sibling=null,null!==t&&(null===(r=e.deletions)?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n)}function so(t,e){return(e=ao({mode:"visible",children:e},t.mode)).return=t,t.child=e}function ao(t,e){return Ku(t,e,0,null)}function oo(t,e,n){return wi(e,t.child,null,n),(t=so(e,e.pendingProps.children)).flags|=2,e.memoizedState=null,t}function uo(t,e,n){t.lanes|=e;var r=t.alternate;null!==r&&(r.lanes|=e),vo(t.return,e,n)}function lo(t,e,n,r,i){var s=t.memoizedState;null===s?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function co(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Ua(t,e,r.children,n),0!==(2&(r=Di.current)))r=1&r|2,e.flags|=128;else{if(null!==t&&0!==(128&t.flags))t:for(t=e.child;null!==t;){if(13===t.tag)null!==t.memoizedState&&uo(t,n,e);else if(19===t.tag)uo(t,n,e);else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;null===t.sibling;){if(null===t.return||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}switch(X(Di,r),i){case"forwards":for(n=e.child,i=null;null!==n;)null!==(t=n.alternate)&&null===zi(t)&&(i=n),n=n.sibling;null===(n=i)?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),lo(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;null!==i;){if(null!==(t=i.alternate)&&null===zi(t)){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}lo(e,!0,n,null,s);break;case"together":lo(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ho(t,e,n){if(null!==t&&(e.dependencies=t.dependencies),hl|=e.lanes,0===(n&e.childLanes)){if(null===t)return null;if(So(t,e,n,!1),0===(n&e.childLanes))return null}if(null!==t&&e.child!==t.child)throw Error(a(153));if(null!==e.child){for(n=Pu(t=e.child,t.pendingProps),e.child=n,n.return=e;null!==t.sibling;)t=t.sibling,(n=n.sibling=Pu(t,t.pendingProps)).return=e;n.sibling=null}return e.child}function po(t,e){return 0!==(t.lanes&e)||!(null===(t=t.dependencies)||!ko(t))}function fo(t,e,n){if(null!==t)if(t.memoizedProps!==e.pendingProps)Ba=!0;else{if(!po(t,n)&&0===(128&e.flags))return Ba=!1,function(t,e,n){switch(e.tag){case 3:Z(e,e.stateNode.containerInfo),bo(e,Fi,t.memoizedState.cache),ii();break;case 27:case 5:et(e);break;case 4:Z(e,e.stateNode.containerInfo);break;case 10:bo(e,e.type,e.memoizedProps.value);break;case 13:var r=e.memoizedState;if(null!==r)return null!==r.dehydrated?(Ii(e),e.flags|=128,null):0!==(n&e.child.childLanes)?io(t,e,n):(Ii(e),null!==(t=ho(t,e,n))?t.sibling:null);Ii(e);break;case 19:var i=0!==(128&t.flags);if((r=0!==(n&e.childLanes))||(So(t,e,n,!1),r=0!==(n&e.childLanes)),i){if(r)return co(t,e,n);e.flags|=128}if(null!==(i=e.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),X(Di,Di.current),r)break;return null;case 22:case 23:return e.lanes=0,Xa(t,e,n);case 24:bo(e,Fi,t.memoizedState.cache)}return ho(t,e,n)}(t,e,n);Ba=0!==(131072&t.flags)}else Ba=!1,Yr&&0!==(1048576&e.flags)&&Gr(e,Nr,e.index);switch(e.lanes=0,e.tag){case 16:t:{t=e.pendingProps;var r=e.elementType,i=r._init;if(r=i(r._payload),e.type=r,"function"!==typeof r){if(void 0!==r&&null!==r){if((i=r.$$typeof)===y){e.tag=11,e=Ga(null,e,r,t,n);break t}if(i===v){e.tag=14,e=Wa(null,e,r,t,n);break t}}throw e=_(r)||r,Error(a(306,e,""))}Mu(r)?(t=Oa(r,t),e.tag=1,e=Za(null,e,r,t,n)):(e.tag=0,e=Ja(null,e,r,t,n))}return e;case 0:return Ja(t,e,e.type,e.pendingProps,n);case 1:return Za(t,e,r=e.type,i=Oa(r,e.pendingProps),n);case 3:t:{if(Z(e,e.stateNode.containerInfo),null===t)throw Error(a(387));var s=e.pendingProps;r=(i=e.memoizedState).element,Io(t,e),Po(e,s,null,n);var o=e.memoizedState;if(s=o.cache,bo(e,Fi,s),s!==i.cache&&wo(e,[Fi],n,!0),Mo(),s=o.element,i.isDehydrated){if(i={element:s,isDehydrated:!1,cache:o.cache},e.updateQueue.baseState=i,e.memoizedState=i,256&e.flags){e=to(t,e,s,n);break t}if(s!==r){si(r=Dr(Error(a(424)),e)),e=to(t,e,s,n);break t}for(qr=oh(e.stateNode.containerInfo.firstChild),Xr=e,Yr=!0,Jr=null,Qr=!0,n=Si(e,null,s,n),e.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(ii(),s===r){e=ho(t,e,n);break t}Ua(t,e,s,n)}e=e.child}return e;case 26:return Ya(t,e),null===t?(n=gh(e.type,null,e.pendingProps,null))?e.memoizedState=n:Yr||(n=e.type,t=e.pendingProps,(r=qc(J.current).createElement(n))[Nt]=e,r[Ft]=t,Wc(r,n,t),Jt(r),e.stateNode=r):e.memoizedState=gh(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return et(e),null===t&&Yr&&(r=e.stateNode=lh(e.type,e.pendingProps,J.current),Xr=e,Qr=!0,qr=oh(r.firstChild)),r=e.pendingProps.children,null!==t||Yr?Ua(t,e,r,n):e.child=wi(e,null,r,n),Ya(t,e),e.child;case 5:return null===t&&Yr&&((i=r=qr)&&(null!==(r=function(t,e,n,r){for(;1===t.nodeType;){var i=n;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!r&&("INPUT"!==t.nodeName||"hidden"!==t.type))break}else if(r){if(!t[Gt])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if("stylesheet"===(s=t.getAttribute("rel"))&&t.hasAttribute("data-precedence"))break;if(s!==i.rel||t.getAttribute("href")!==(null==i.href?null:i.href)||t.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin)||t.getAttribute("title")!==(null==i.title?null:i.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(((s=t.getAttribute("src"))!==(null==i.src?null:i.src)||t.getAttribute("type")!==(null==i.type?null:i.type)||t.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin))&&s&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else{if("input"!==e||"hidden"!==t.type)return t;var s=null==i.name?null:""+i.name;if("hidden"===i.type&&t.getAttribute("name")===s)return t}if(null===(t=oh(t.nextSibling)))break}return null}(r,e.type,e.pendingProps,Qr))?(e.stateNode=r,Xr=e,qr=oh(r.firstChild),Qr=!1,i=!0):i=!1),i||ti(e)),et(e),i=e.type,s=e.pendingProps,o=null!==t?t.memoizedProps:null,r=s.children,Qc(i,s)?r=null:null!==o&&Qc(i,o)&&(e.flags|=32),null!==e.memoizedState&&(i=hs(t,e,fs,null,null,n),Mh._currentValue=i),Ya(t,e),Ua(t,e,r,n),e.child;case 6:return null===t&&Yr&&((t=n=qr)&&(null!==(n=function(t,e,n){if(""===e)return null;for(;3!==t.nodeType;){if((1!==t.nodeType||"INPUT"!==t.nodeName||"hidden"!==t.type)&&!n)return null;if(null===(t=oh(t.nextSibling)))return null}return t}(n,e.pendingProps,Qr))?(e.stateNode=n,Xr=e,qr=null,t=!0):t=!1),t||ti(e)),null;case 13:return io(t,e,n);case 4:return Z(e,e.stateNode.containerInfo),r=e.pendingProps,null===t?e.child=wi(e,null,r,n):Ua(t,e,r,n),e.child;case 11:return Ga(t,e,e.type,e.pendingProps,n);case 7:return Ua(t,e,e.pendingProps,n),e.child;case 8:case 12:return Ua(t,e,e.pendingProps.children,n),e.child;case 10:return r=e.pendingProps,bo(e,e.type,r.value),Ua(t,e,r.children,n),e.child;case 9:return i=e.type._context,r=e.pendingProps.children,To(e),r=r(i=Ao(i)),e.flags|=1,Ua(t,e,r,n),e.child;case 14:return Wa(t,e,e.type,e.pendingProps,n);case 15:return Ha(t,e,e.type,e.pendingProps,n);case 19:return co(t,e,n);case 22:return Xa(t,e,n);case 24:return To(e),r=Ao(Fi),null===t?(null===(i=qi())&&(i=el,s=Vi(),i.pooledCache=s,s.refCount++,null!==s&&(i.pooledCacheLanes|=n),i=s),e.memoizedState={parent:r,cache:i},Co(e),bo(e,Fi,i)):(0!==(t.lanes&n)&&(Io(t,e),Po(e,null,null,n),Mo()),i=t.memoizedState,s=e.memoizedState,i.parent!==r?(i={parent:r,cache:r},e.memoizedState=i,0===e.lanes&&(e.memoizedState=e.updateQueue.baseState=i),bo(e,Fi,r)):(r=s.cache,bo(e,Fi,r),r!==i.cache&&wo(e,[Fi],n,!0))),Ua(t,e,e.pendingProps.children,n),e.child;case 29:throw e.pendingProps}throw Error(a(156,e.tag))}var mo=W(null),go=null,yo=null;function bo(t,e,n){X(mo,e._currentValue),e._currentValue=n}function xo(t){t._currentValue=mo.current,H(mo)}function vo(t,e,n){for(;null!==t;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,null!==r&&(r.childLanes|=e)):null!==r&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function wo(t,e,n,r){var i=t.child;for(null!==i&&(i.return=t);null!==i;){var s=i.dependencies;if(null!==s){var o=i.child;s=s.firstContext;t:for(;null!==s;){var u=s;s=i;for(var l=0;l<e.length;l++)if(u.context===e[l]){s.lanes|=n,null!==(u=s.alternate)&&(u.lanes|=n),vo(s.return,n,t),r||(o=null);break t}s=u.next}}else if(18===i.tag){if(null===(o=i.return))throw Error(a(341));o.lanes|=n,null!==(s=o.alternate)&&(s.lanes|=n),vo(o,n,t),o=null}else o=i.child;if(null!==o)o.return=i;else for(o=i;null!==o;){if(o===t){o=null;break}if(null!==(i=o.sibling)){i.return=o.return,o=i;break}o=o.return}i=o}}function So(t,e,n,r){t=null;for(var i=e,s=!1;null!==i;){if(!s)if(0!==(524288&i.flags))s=!0;else if(0!==(262144&i.flags))break;if(10===i.tag){var o=i.alternate;if(null===o)throw Error(a(387));if(null!==(o=o.memoizedProps)){var u=i.type;Xn(i.pendingProps.value,o.value)||(null!==t?t.push(u):t=[u])}}else if(i===Q.current){if(null===(o=i.alternate))throw Error(a(387));o.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(null!==t?t.push(Mh):t=[Mh])}i=i.return}null!==t&&wo(e,t,n,r),e.flags|=262144}function ko(t){for(t=t.firstContext;null!==t;){if(!Xn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function To(t){go=t,yo=null,null!==(t=t.dependencies)&&(t.firstContext=null)}function Ao(t){return _o(go,t)}function Eo(t,e){return null===go&&To(t),_o(t,e)}function _o(t,e){var n=e._currentValue;if(e={context:e,memoizedValue:n,next:null},null===yo){if(null===t)throw Error(a(308));yo=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else yo=yo.next=e;return n}var Lo=!1;function Co(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Io(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function $o(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Oo(t,e,n){var r=t.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&tl)){var i=r.pending;return null===i?e.next=e:(e.next=i.next,i.next=e),r.pending=e,e=$r(t),Ir(t,null,n),e}return _r(t,r,e,n),$r(t)}function Ro(t,e,n){if(null!==(e=e.updateQueue)&&(e=e.shared,0!==(4194176&n))){var r=e.lanes;n|=r&=t.pendingLanes,e.lanes=n,Dt(t,n)}}function Do(t,e){var n=t.updateQueue,r=t.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var a={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===s?i=s=a:s=s.next=a,n=n.next}while(null!==n);null===s?i=s=e:s=s.next=e}else i=s=e;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,callbacks:r.callbacks},void(t.updateQueue=n)}null===(t=n.lastBaseUpdate)?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}var zo=!1;function Mo(){if(zo){if(null!==Gi)throw Gi}}function Po(t,e,n,r){zo=!1;var i=t.updateQueue;Lo=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(null!==o){i.shared.pending=null;var u=o,l=u.next;u.next=null,null===a?s=l:a.next=l,a=u;var c=t.alternate;null!==c&&((o=(c=c.updateQueue).lastBaseUpdate)!==a&&(null===o?c.firstBaseUpdate=l:o.next=l,c.lastBaseUpdate=u))}if(null!==s){var h=i.baseState;for(a=0,c=l=u=null,o=s;;){var p=-536870913&o.lane,d=p!==o.lane;if(d?(rl&p)===p:(r&p)===p){0!==p&&p===Ui&&(zo=!0),null!==c&&(c=c.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});t:{var f=t,m=o;p=e;var g=n;switch(m.tag){case 1:if("function"===typeof(f=m.payload)){h=f.call(g,h,p);break t}h=f;break t;case 3:f.flags=-65537&f.flags|128;case 0:if(null===(p="function"===typeof(f=m.payload)?f.call(g,h,p):f)||void 0===p)break t;h=$({},h,p);break t;case 2:Lo=!0}}null!==(p=o.callback)&&(t.flags|=64,d&&(t.flags|=8192),null===(d=i.callbacks)?i.callbacks=[p]:d.push(p))}else d={lane:p,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===c?(l=c=d,u=h):c=c.next=d,a|=p;if(null===(o=o.next)){if(null===(o=i.shared.pending))break;o=(d=o).next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}null===c&&(u=h),i.baseState=u,i.firstBaseUpdate=l,i.lastBaseUpdate=c,null===s&&(i.shared.lanes=0),hl|=a,t.lanes=a,t.memoizedState=h}}function No(t,e){if("function"!==typeof t)throw Error(a(191,t));t.call(e)}function Fo(t,e){var n=t.callbacks;if(null!==n)for(t.callbacks=null,t=0;t<n.length;t++)No(n[t],e)}function Vo(t,e){try{var n=e.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var i=r.next;n=i;do{if((n.tag&t)===t){r=void 0;var s=n.create,a=n.inst;r=s(),a.destroy=r}n=n.next}while(n!==i)}}catch(o){rc(e,e.return,o)}}function Ko(t,e,n){try{var r=e.updateQueue,i=null!==r?r.lastEffect:null;if(null!==i){var s=i.next;r=s;do{if((r.tag&t)===t){var a=r.inst,o=a.destroy;if(void 0!==o){a.destroy=void 0,i=e;var u=n;try{o()}catch(l){rc(i,u,l)}}}r=r.next}while(r!==s)}}catch(l){rc(e,e.return,l)}}function jo(t){var e=t.updateQueue;if(null!==e){var n=t.stateNode;try{Fo(e,n)}catch(r){rc(t,t.return,r)}}}function Bo(t,e,n){n.props=Oa(t.type,t.memoizedProps),n.state=t.memoizedState;try{n.componentWillUnmount()}catch(r){rc(t,e,r)}}function Uo(t,e){try{var n=t.ref;if(null!==n){var r=t.stateNode;switch(t.tag){case 26:case 27:case 5:var i=r;break;default:i=r}"function"===typeof n?t.refCleanup=n(i):n.current=i}}catch(s){rc(t,e,s)}}function Go(t,e){var n=t.ref,r=t.refCleanup;if(null!==n)if("function"===typeof r)try{r()}catch(i){rc(t,e,i)}finally{t.refCleanup=null,null!=(t=t.alternate)&&(t.refCleanup=null)}else if("function"===typeof n)try{n(null)}catch(s){rc(t,e,s)}else n.current=null}function Wo(t){var e=t.type,n=t.memoizedProps,r=t.stateNode;try{t:switch(e){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break t;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(i){rc(t,t.return,i)}}function Ho(t,e,n){try{var r=t.stateNode;!function(t,e,n,r){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,s=null,o=null,u=null,l=null,c=null,h=null;for(f in n){var p=n[f];if(n.hasOwnProperty(f)&&null!=p)switch(f){case"checked":case"value":break;case"defaultValue":l=p;default:r.hasOwnProperty(f)||Uc(t,e,f,null,r,p)}}for(var d in r){var f=r[d];if(p=n[d],r.hasOwnProperty(d)&&(null!=f||null!=p))switch(d){case"type":s=f;break;case"name":i=f;break;case"checked":c=f;break;case"defaultChecked":h=f;break;case"value":o=f;break;case"defaultValue":u=f;break;case"children":case"dangerouslySetInnerHTML":if(null!=f)throw Error(a(137,e));break;default:f!==p&&Uc(t,e,d,f,r,p)}}return void ge(t,o,u,l,c,h,s,i);case"select":for(s in f=o=u=d=null,n)if(l=n[s],n.hasOwnProperty(s)&&null!=l)switch(s){case"value":break;case"multiple":f=l;default:r.hasOwnProperty(s)||Uc(t,e,s,null,r,l)}for(i in r)if(s=r[i],l=n[i],r.hasOwnProperty(i)&&(null!=s||null!=l))switch(i){case"value":d=s;break;case"defaultValue":u=s;break;case"multiple":o=s;default:s!==l&&Uc(t,e,i,s,r,l)}return e=u,n=o,r=f,void(null!=d?xe(t,!!n,d,!1):!!r!==!!n&&(null!=e?xe(t,!!n,e,!0):xe(t,!!n,n?[]:"",!1)));case"textarea":for(u in f=d=null,n)if(i=n[u],n.hasOwnProperty(u)&&null!=i&&!r.hasOwnProperty(u))switch(u){case"value":case"children":break;default:Uc(t,e,u,null,r,i)}for(o in r)if(i=r[o],s=n[o],r.hasOwnProperty(o)&&(null!=i||null!=s))switch(o){case"value":d=i;break;case"defaultValue":f=i;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=i)throw Error(a(91));break;default:i!==s&&Uc(t,e,o,i,r,s)}return void ve(t,d,f);case"option":for(var m in n)if(d=n[m],n.hasOwnProperty(m)&&null!=d&&!r.hasOwnProperty(m))if("selected"===m)t.selected=!1;else Uc(t,e,m,null,r,d);for(l in r)if(d=r[l],f=n[l],r.hasOwnProperty(l)&&d!==f&&(null!=d||null!=f))if("selected"===l)t.selected=d&&"function"!==typeof d&&"symbol"!==typeof d;else Uc(t,e,l,d,r,f);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in n)d=n[g],n.hasOwnProperty(g)&&null!=d&&!r.hasOwnProperty(g)&&Uc(t,e,g,null,r,d);for(c in r)if(d=r[c],f=n[c],r.hasOwnProperty(c)&&d!==f&&(null!=d||null!=f))switch(c){case"children":case"dangerouslySetInnerHTML":if(null!=d)throw Error(a(137,e));break;default:Uc(t,e,c,d,r,f)}return;default:if(Ee(e)){for(var y in n)d=n[y],n.hasOwnProperty(y)&&void 0!==d&&!r.hasOwnProperty(y)&&Gc(t,e,y,void 0,r,d);for(h in r)d=r[h],f=n[h],!r.hasOwnProperty(h)||d===f||void 0===d&&void 0===f||Gc(t,e,h,d,r,f);return}}for(var b in n)d=n[b],n.hasOwnProperty(b)&&null!=d&&!r.hasOwnProperty(b)&&Uc(t,e,b,null,r,d);for(p in r)d=r[p],f=n[p],!r.hasOwnProperty(p)||d===f||null==d&&null==f||Uc(t,e,p,d,r,f)}(r,t.type,n,e),r[Ft]=e}catch(i){rc(t,t.return,i)}}function Xo(t){return 5===t.tag||3===t.tag||26===t.tag||27===t.tag||4===t.tag}function qo(t){t:for(;;){for(;null===t.sibling;){if(null===t.return||Xo(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;5!==t.tag&&6!==t.tag&&27!==t.tag&&18!==t.tag;){if(2&t.flags)continue t;if(null===t.child||4===t.tag)continue t;t.child.return=t,t=t.child}if(!(2&t.flags))return t.stateNode}}function Yo(t,e,n){var r=t.tag;if(5===r||6===r)t=t.stateNode,e?8===n.nodeType?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(8===n.nodeType?(e=n.parentNode).insertBefore(t,n):(e=n).appendChild(t),null!==(n=n._reactRootContainer)&&void 0!==n||null!==e.onclick||(e.onclick=Bc));else if(4!==r&&27!==r&&null!==(t=t.child))for(Yo(t,e,n),t=t.sibling;null!==t;)Yo(t,e,n),t=t.sibling}function Jo(t,e,n){var r=t.tag;if(5===r||6===r)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(4!==r&&27!==r&&null!==(t=t.child))for(Jo(t,e,n),t=t.sibling;null!==t;)Jo(t,e,n),t=t.sibling}var Qo=!1,Zo=!1,tu=!1,eu="function"===typeof WeakSet?WeakSet:Set,nu=null,ru=!1;function iu(t,e,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:yu(t,n),4&r&&Vo(5,n);break;case 1:if(yu(t,n),4&r)if(t=n.stateNode,null===e)try{t.componentDidMount()}catch(o){rc(n,n.return,o)}else{var i=Oa(n.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(i,e,t.__reactInternalSnapshotBeforeUpdate)}catch(u){rc(n,n.return,u)}}64&r&&jo(n),512&r&&Uo(n,n.return);break;case 3:if(yu(t,n),64&r&&null!==(r=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{Fo(r,t)}catch(o){rc(n,n.return,o)}}break;case 26:yu(t,n),512&r&&Uo(n,n.return);break;case 27:case 5:yu(t,n),null===e&&4&r&&Wo(n),512&r&&Uo(n,n.return);break;case 12:default:yu(t,n);break;case 13:yu(t,n),4&r&&cu(t,n);break;case 22:if(!(i=null!==n.memoizedState||Qo)){e=null!==e&&null!==e.memoizedState||Zo;var s=Qo,a=Zo;Qo=i,(Zo=e)&&!a?xu(t,n,0!==(8772&n.subtreeFlags)):yu(t,n),Qo=s,Zo=a}512&r&&("manual"===n.memoizedProps.mode?Uo(n,n.return):Go(n,n.return))}}function su(t){var e=t.alternate;null!==e&&(t.alternate=null,su(e)),t.child=null,t.deletions=null,t.sibling=null,5===t.tag&&(null!==(e=t.stateNode)&&Wt(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var au=null,ou=!1;function uu(t,e,n){for(n=n.child;null!==n;)lu(t,e,n),n=n.sibling}function lu(t,e,n){if(bt&&"function"===typeof bt.onCommitFiberUnmount)try{bt.onCommitFiberUnmount(yt,n)}catch(a){}switch(n.tag){case 26:Zo||Go(n,e),uu(t,e,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:Zo||Go(n,e);var r=au,i=ou;for(au=n.stateNode,uu(t,e,n),e=(n=n.stateNode).attributes;e.length;)n.removeAttributeNode(e[0]);Wt(n),au=r,ou=i;break;case 5:Zo||Go(n,e);case 6:i=au;var s=ou;if(au=null,uu(t,e,n),ou=s,null!==(au=i))if(ou)try{t=au,r=n.stateNode,8===t.nodeType?t.parentNode.removeChild(r):t.removeChild(r)}catch(o){rc(n,e,o)}else try{au.removeChild(n.stateNode)}catch(o){rc(n,e,o)}break;case 18:null!==au&&(ou?(e=au,n=n.stateNode,8===e.nodeType?sh(e.parentNode,n):1===e.nodeType&&sh(e,n),mp(e)):sh(au,n.stateNode));break;case 4:r=au,i=ou,au=n.stateNode.containerInfo,ou=!0,uu(t,e,n),au=r,ou=i;break;case 0:case 11:case 14:case 15:Zo||Ko(2,n,e),Zo||Ko(4,n,e),uu(t,e,n);break;case 1:Zo||(Go(n,e),"function"===typeof(r=n.stateNode).componentWillUnmount&&Bo(n,e,r)),uu(t,e,n);break;case 21:uu(t,e,n);break;case 22:Zo||Go(n,e),Zo=(r=Zo)||null!==n.memoizedState,uu(t,e,n),Zo=r;break;default:uu(t,e,n)}}function cu(t,e){if(null===e.memoizedState&&(null!==(t=e.alternate)&&(null!==(t=t.memoizedState)&&null!==(t=t.dehydrated))))try{mp(t)}catch(n){rc(e,e.return,n)}}function hu(t,e){var n=function(t){switch(t.tag){case 13:case 19:var e=t.stateNode;return null===e&&(e=t.stateNode=new eu),e;case 22:return null===(e=(t=t.stateNode)._retryCache)&&(e=t._retryCache=new eu),e;default:throw Error(a(435,t.tag))}}(t);e.forEach((function(e){var r=uc.bind(null,t,e);n.has(e)||(n.add(e),e.then(r,r))}))}function pu(t,e){var n=e.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r],s=t,o=e,u=o;t:for(;null!==u;){switch(u.tag){case 27:case 5:au=u.stateNode,ou=!1;break t;case 3:case 4:au=u.stateNode.containerInfo,ou=!0;break t}u=u.return}if(null===au)throw Error(a(160));lu(s,o,i),au=null,ou=!1,null!==(s=i.alternate)&&(s.return=null),i.return=null}if(13878&e.subtreeFlags)for(e=e.child;null!==e;)fu(e,t),e=e.sibling}var du=null;function fu(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:pu(e,t),mu(t),4&r&&(Ko(3,t,t.return),Vo(3,t),Ko(5,t,t.return));break;case 1:pu(e,t),mu(t),512&r&&(Zo||null===n||Go(n,n.return)),64&r&&Qo&&(null!==(t=t.updateQueue)&&(null!==(r=t.callbacks)&&(n=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=null===n?r:n.concat(r))));break;case 26:var i=du;if(pu(e,t),mu(t),512&r&&(Zo||null===n||Go(n,n.return)),4&r){var s=null!==n?n.memoizedState:null;if(r=t.memoizedState,null===n)if(null===r)if(null===t.stateNode){t:{r=t.type,n=t.memoizedProps,i=i.ownerDocument||i;e:switch(r){case"title":(!(s=i.getElementsByTagName("title")[0])||s[Gt]||s[Nt]||"http://www.w3.org/2000/svg"===s.namespaceURI||s.hasAttribute("itemprop"))&&(s=i.createElement(r),i.head.insertBefore(s,i.querySelector("head > title"))),Wc(s,r,n),s[Nt]=t,Jt(s),r=s;break t;case"link":var o=_h("link","href",i).get(r+(n.href||""));if(o)for(var u=0;u<o.length;u++)if((s=o[u]).getAttribute("href")===(null==n.href?null:n.href)&&s.getAttribute("rel")===(null==n.rel?null:n.rel)&&s.getAttribute("title")===(null==n.title?null:n.title)&&s.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){o.splice(u,1);break e}Wc(s=i.createElement(r),r,n),i.head.appendChild(s);break;case"meta":if(o=_h("meta","content",i).get(r+(n.content||"")))for(u=0;u<o.length;u++)if((s=o[u]).getAttribute("content")===(null==n.content?null:""+n.content)&&s.getAttribute("name")===(null==n.name?null:n.name)&&s.getAttribute("property")===(null==n.property?null:n.property)&&s.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&s.getAttribute("charset")===(null==n.charSet?null:n.charSet)){o.splice(u,1);break e}Wc(s=i.createElement(r),r,n),i.head.appendChild(s);break;default:throw Error(a(468,r))}s[Nt]=t,Jt(s),r=s}t.stateNode=r}else Lh(i,t.type,t.stateNode);else t.stateNode=Sh(i,r,t.memoizedProps);else s!==r?(null===s?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):s.count--,null===r?Lh(i,t.type,t.stateNode):Sh(i,r,t.memoizedProps)):null===r&&null!==t.stateNode&&Ho(t,t.memoizedProps,n.memoizedProps)}break;case 27:if(4&r&&null===t.alternate){i=t.stateNode,s=t.memoizedProps;try{for(var l=i.firstChild;l;){var c=l.nextSibling,h=l.nodeName;l[Gt]||"HEAD"===h||"BODY"===h||"SCRIPT"===h||"STYLE"===h||"LINK"===h&&"stylesheet"===l.rel.toLowerCase()||i.removeChild(l),l=c}for(var p=t.type,d=i.attributes;d.length;)i.removeAttributeNode(d[0]);Wc(i,p,s),i[Nt]=t,i[Ft]=s}catch(m){rc(t,t.return,m)}}case 5:if(pu(e,t),mu(t),512&r&&(Zo||null===n||Go(n,n.return)),32&t.flags){i=t.stateNode;try{Se(i,"")}catch(m){rc(t,t.return,m)}}4&r&&null!=t.stateNode&&Ho(t,i=t.memoizedProps,null!==n?n.memoizedProps:i),1024&r&&(tu=!0);break;case 6:if(pu(e,t),mu(t),4&r){if(null===t.stateNode)throw Error(a(162));r=t.memoizedProps,n=t.stateNode;try{n.nodeValue=r}catch(m){rc(t,t.return,m)}}break;case 3:if(Eh=null,i=du,du=ph(e.containerInfo),pu(e,t),du=i,mu(t),4&r&&null!==n&&n.memoizedState.isDehydrated)try{mp(e.containerInfo)}catch(m){rc(t,t.return,m)}tu&&(tu=!1,gu(t));break;case 4:r=du,du=ph(t.stateNode.containerInfo),pu(e,t),mu(t),du=r;break;case 12:pu(e,t),mu(t);break;case 13:pu(e,t),mu(t),8192&t.child.flags&&null!==t.memoizedState!==(null!==n&&null!==n.memoizedState)&&(xl=ut()),4&r&&(null!==(r=t.updateQueue)&&(t.updateQueue=null,hu(t,r)));break;case 22:if(512&r&&(Zo||null===n||Go(n,n.return)),l=null!==t.memoizedState,c=null!==n&&null!==n.memoizedState,Qo=(h=Qo)||l,Zo=(p=Zo)||c,pu(e,t),Zo=p,Qo=h,mu(t),(e=t.stateNode)._current=t,e._visibility&=-3,e._visibility|=2&e._pendingVisibility,8192&r&&(e._visibility=l?-2&e._visibility:1|e._visibility,l&&(e=Qo||Zo,null===n||c||e||bu(t)),null===t.memoizedProps||"manual"!==t.memoizedProps.mode))t:for(n=null,e=t;;){if(5===e.tag||26===e.tag||27===e.tag){if(null===n){c=n=e;try{if(i=c.stateNode,l)"function"===typeof(s=i.style).setProperty?s.setProperty("display","none","important"):s.display="none";else{o=c.stateNode;var f=void 0!==(u=c.memoizedProps.style)&&null!==u&&u.hasOwnProperty("display")?u.display:null;o.style.display=null==f||"boolean"===typeof f?"":(""+f).trim()}}catch(m){rc(c,c.return,m)}}}else if(6===e.tag){if(null===n){c=e;try{c.stateNode.nodeValue=l?"":c.memoizedProps}catch(m){rc(c,c.return,m)}}}else if((22!==e.tag&&23!==e.tag||null===e.memoizedState||e===t)&&null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break t;for(;null===e.sibling;){if(null===e.return||e.return===t)break t;n===e&&(n=null),e=e.return}n===e&&(n=null),e.sibling.return=e.return,e=e.sibling}4&r&&(null!==(r=t.updateQueue)&&(null!==(n=r.retryQueue)&&(r.retryQueue=null,hu(t,n))));break;case 19:pu(e,t),mu(t),4&r&&(null!==(r=t.updateQueue)&&(t.updateQueue=null,hu(t,r)));break;case 21:break;default:pu(e,t),mu(t)}}function mu(t){var e=t.flags;if(2&e){try{if(27!==t.tag){t:{for(var n=t.return;null!==n;){if(Xo(n)){var r=n;break t}n=n.return}throw Error(a(160))}switch(r.tag){case 27:var i=r.stateNode;Jo(t,qo(t),i);break;case 5:var s=r.stateNode;32&r.flags&&(Se(s,""),r.flags&=-33),Jo(t,qo(t),s);break;case 3:case 4:var o=r.stateNode.containerInfo;Yo(t,qo(t),o);break;default:throw Error(a(161))}}}catch(u){rc(t,t.return,u)}t.flags&=-3}4096&e&&(t.flags&=-4097)}function gu(t){if(1024&t.subtreeFlags)for(t=t.child;null!==t;){var e=t;gu(e),5===e.tag&&1024&e.flags&&e.stateNode.reset(),t=t.sibling}}function yu(t,e){if(8772&e.subtreeFlags)for(e=e.child;null!==e;)iu(t,e.alternate,e),e=e.sibling}function bu(t){for(t=t.child;null!==t;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:Ko(4,e,e.return),bu(e);break;case 1:Go(e,e.return);var n=e.stateNode;"function"===typeof n.componentWillUnmount&&Bo(e,e.return,n),bu(e);break;case 26:case 27:case 5:Go(e,e.return),bu(e);break;case 22:Go(e,e.return),null===e.memoizedState&&bu(e);break;default:bu(e)}t=t.sibling}}function xu(t,e,n){for(n=n&&0!==(8772&e.subtreeFlags),e=e.child;null!==e;){var r=e.alternate,i=t,s=e,a=s.flags;switch(s.tag){case 0:case 11:case 15:xu(i,s,n),Vo(4,s);break;case 1:if(xu(i,s,n),"function"===typeof(i=(r=s).stateNode).componentDidMount)try{i.componentDidMount()}catch(l){rc(r,r.return,l)}if(null!==(i=(r=s).updateQueue)){var o=r.stateNode;try{var u=i.shared.hiddenCallbacks;if(null!==u)for(i.shared.hiddenCallbacks=null,i=0;i<u.length;i++)No(u[i],o)}catch(l){rc(r,r.return,l)}}n&&64&a&&jo(s),Uo(s,s.return);break;case 26:case 27:case 5:xu(i,s,n),n&&null===r&&4&a&&Wo(s),Uo(s,s.return);break;case 12:default:xu(i,s,n);break;case 13:xu(i,s,n),n&&4&a&&cu(i,s);break;case 22:null===s.memoizedState&&xu(i,s,n),Uo(s,s.return)}e=e.sibling}}function vu(t,e){var n=null;null!==t&&null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(n=t.memoizedState.cachePool.pool),t=null,null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(t=e.memoizedState.cachePool.pool),t!==n&&(null!=t&&t.refCount++,null!=n&&Ki(n))}function wu(t,e){t=null,null!==e.alternate&&(t=e.alternate.memoizedState.cache),(e=e.memoizedState.cache)!==t&&(e.refCount++,null!=t&&Ki(t))}function Su(t,e,n,r){if(10256&e.subtreeFlags)for(e=e.child;null!==e;)ku(t,e,n,r),e=e.sibling}function ku(t,e,n,r){var i=e.flags;switch(e.tag){case 0:case 11:case 15:Su(t,e,n,r),2048&i&&Vo(9,e);break;case 3:Su(t,e,n,r),2048&i&&(t=null,null!==e.alternate&&(t=e.alternate.memoizedState.cache),(e=e.memoizedState.cache)!==t&&(e.refCount++,null!=t&&Ki(t)));break;case 12:if(2048&i){Su(t,e,n,r),t=e.stateNode;try{var s=e.memoizedProps,a=s.id,o=s.onPostCommit;"function"===typeof o&&o(a,null===e.alternate?"mount":"update",t.passiveEffectDuration,-0)}catch(u){rc(e,e.return,u)}}else Su(t,e,n,r);break;case 23:break;case 22:s=e.stateNode,null!==e.memoizedState?4&s._visibility?Su(t,e,n,r):Au(t,e):4&s._visibility?Su(t,e,n,r):(s._visibility|=4,Tu(t,e,n,r,0!==(10256&e.subtreeFlags))),2048&i&&vu(e.alternate,e);break;case 24:Su(t,e,n,r),2048&i&&wu(e.alternate,e);break;default:Su(t,e,n,r)}}function Tu(t,e,n,r,i){for(i=i&&0!==(10256&e.subtreeFlags),e=e.child;null!==e;){var s=t,a=e,o=n,u=r,l=a.flags;switch(a.tag){case 0:case 11:case 15:Tu(s,a,o,u,i),Vo(8,a);break;case 23:break;case 22:var c=a.stateNode;null!==a.memoizedState?4&c._visibility?Tu(s,a,o,u,i):Au(s,a):(c._visibility|=4,Tu(s,a,o,u,i)),i&&2048&l&&vu(a.alternate,a);break;case 24:Tu(s,a,o,u,i),i&&2048&l&&wu(a.alternate,a);break;default:Tu(s,a,o,u,i)}e=e.sibling}}function Au(t,e){if(10256&e.subtreeFlags)for(e=e.child;null!==e;){var n=t,r=e,i=r.flags;switch(r.tag){case 22:Au(n,r),2048&i&&vu(r.alternate,r);break;case 24:Au(n,r),2048&i&&wu(r.alternate,r);break;default:Au(n,r)}e=e.sibling}}var Eu=8192;function _u(t){if(t.subtreeFlags&Eu)for(t=t.child;null!==t;)Lu(t),t=t.sibling}function Lu(t){switch(t.tag){case 26:_u(t),t.flags&Eu&&null!==t.memoizedState&&function(t,e,n){if(null===Ih)throw Error(a(475));var r=Ih;if("stylesheet"===e.type&&("string"!==typeof n.media||!1!==matchMedia(n.media).matches)&&0===(4&e.state.loading)){if(null===e.instance){var i=yh(n.href),s=t.querySelector(bh(i));if(s)return null!==(t=s._p)&&"object"===typeof t&&"function"===typeof t.then&&(r.count++,r=Oh.bind(r),t.then(r,r)),e.state.loading|=4,e.instance=s,void Jt(s);s=t.ownerDocument||t,n=xh(n),(i=ch.get(i))&&Th(n,i),Jt(s=s.createElement("link"));var o=s;o._p=new Promise((function(t,e){o.onload=t,o.onerror=e})),Wc(s,"link",n),e.instance=s}null===r.stylesheets&&(r.stylesheets=new Map),r.stylesheets.set(e,t),(t=e.state.preload)&&0===(3&e.state.loading)&&(r.count++,e=Oh.bind(r),t.addEventListener("load",e),t.addEventListener("error",e))}}(du,t.memoizedState,t.memoizedProps);break;case 5:default:_u(t);break;case 3:case 4:var e=du;du=ph(t.stateNode.containerInfo),_u(t),du=e;break;case 22:null===t.memoizedState&&(null!==(e=t.alternate)&&null!==e.memoizedState?(e=Eu,Eu=16777216,_u(t),Eu=e):_u(t))}}function Cu(t){var e=t.alternate;if(null!==e&&null!==(t=e.child)){e.child=null;do{e=t.sibling,t.sibling=null,t=e}while(null!==t)}}function Iu(t){var e=t.deletions;if(0!==(16&t.flags)){if(null!==e)for(var n=0;n<e.length;n++){var r=e[n];nu=r,Ru(r,t)}Cu(t)}if(10256&t.subtreeFlags)for(t=t.child;null!==t;)$u(t),t=t.sibling}function $u(t){switch(t.tag){case 0:case 11:case 15:Iu(t),2048&t.flags&&Ko(9,t,t.return);break;case 3:case 12:default:Iu(t);break;case 22:var e=t.stateNode;null!==t.memoizedState&&4&e._visibility&&(null===t.return||13!==t.return.tag)?(e._visibility&=-5,Ou(t)):Iu(t)}}function Ou(t){var e=t.deletions;if(0!==(16&t.flags)){if(null!==e)for(var n=0;n<e.length;n++){var r=e[n];nu=r,Ru(r,t)}Cu(t)}for(t=t.child;null!==t;){switch((e=t).tag){case 0:case 11:case 15:Ko(8,e,e.return),Ou(e);break;case 22:4&(n=e.stateNode)._visibility&&(n._visibility&=-5,Ou(e));break;default:Ou(e)}t=t.sibling}}function Ru(t,e){for(;null!==nu;){var n=nu;switch(n.tag){case 0:case 11:case 15:Ko(8,n,e);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var r=n.memoizedState.cachePool.pool;null!=r&&r.refCount++}break;case 24:Ki(n.memoizedState.cache)}if(null!==(r=n.child))r.return=n,nu=r;else t:for(n=t;null!==nu;){var i=(r=nu).sibling,s=r.return;if(su(r),r===n){nu=null;break t}if(null!==i){i.return=s,nu=i;break t}nu=s}}}function Du(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zu(t,e,n,r){return new Du(t,e,n,r)}function Mu(t){return!(!(t=t.prototype)||!t.isReactComponent)}function Pu(t,e){var n=t.alternate;return null===n?((n=zu(t.tag,e,t.key,t.mode)).elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=31457280&t.flags,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n.refCleanup=t.refCleanup,n}function Nu(t,e){t.flags&=31457282;var n=t.alternate;return null===n?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,t.type=n.type,e=n.dependencies,t.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function Fu(t,e,n,r,i,s){var o=0;if(r=t,"function"===typeof t)Mu(t)&&(o=1);else if("string"===typeof t)o=function(t,e,n){if(1===n||null!=e.itemProp)return!1;switch(t){case"meta":case"title":return!0;case"style":if("string"!==typeof e.precedence||"string"!==typeof e.href||""===e.href)break;return!0;case"link":if("string"!==typeof e.rel||"string"!==typeof e.href||""===e.href||e.onLoad||e.onError)break;return"stylesheet"!==e.rel||(t=e.disabled,"string"===typeof e.precedence&&null==t);case"script":if(e.async&&"function"!==typeof e.async&&"symbol"!==typeof e.async&&!e.onLoad&&!e.onError&&e.src&&"string"===typeof e.src)return!0}return!1}(t,n,q.current)?26:"html"===t||"head"===t||"body"===t?27:5;else t:switch(t){case h:return Vu(n.children,i,s,e);case p:o=8,i|=24;break;case d:return(t=zu(12,n,e,2|i)).elementType=d,t.lanes=s,t;case b:return(t=zu(13,n,e,i)).elementType=b,t.lanes=s,t;case x:return(t=zu(19,n,e,i)).elementType=x,t.lanes=s,t;case S:return Ku(n,i,s,e);default:if("object"===typeof t&&null!==t)switch(t.$$typeof){case f:case g:o=10;break t;case m:o=9;break t;case y:o=11;break t;case v:o=14;break t;case w:o=16,r=null;break t}o=29,n=Error(a(130,null===t?"null":typeof t,"")),r=null}return(e=zu(o,n,e,i)).elementType=t,e.type=r,e.lanes=s,e}function Vu(t,e,n,r){return(t=zu(7,t,r,e)).lanes=n,t}function Ku(t,e,n,r){(t=zu(22,t,r,e)).elementType=S,t.lanes=n;var i={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var t=i._current;if(null===t)throw Error(a(456));if(0===(2&i._pendingVisibility)){var e=Cr(t,2);null!==e&&(i._pendingVisibility|=2,Ol(e,t,2))}},attach:function(){var t=i._current;if(null===t)throw Error(a(456));if(0!==(2&i._pendingVisibility)){var e=Cr(t,2);null!==e&&(i._pendingVisibility&=-3,Ol(e,t,2))}}};return t.stateNode=i,t}function ju(t,e,n){return(t=zu(6,t,null,e)).lanes=n,t}function Bu(t,e,n){return(e=zu(4,null!==t.children?t.children:[],t.key,e)).lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Uu(t){t.flags|=4}function Gu(t,e){if("stylesheet"!==e.type||0!==(4&e.state.loading))t.flags&=-16777217;else if(t.flags|=16777216,!Ch(e)){if(null!==(e=Li.current)&&((4194176&rl)===rl?null!==Ci:(62914560&rl)!==rl&&0===(536870912&rl)||e!==Ci))throw pi=ui,oi;t.flags|=8192}}function Wu(t,e){null!==e&&(t.flags|=4),16384&t.flags&&(e=22!==t.tag?It():536870912,t.lanes|=e,ml|=e)}function Hu(t,e){if(!Yr)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;null!==e;)null!==e.alternate&&(n=e),e=e.sibling;null===n?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?e||null===t.tail?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Xu(t){var e=null!==t.alternate&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;null!==i;)n|=i.lanes|i.childLanes,r|=31457280&i.subtreeFlags,r|=31457280&i.flags,i.return=t,i=i.sibling;else for(i=t.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function qu(t,e,n){var r=e.pendingProps;switch(Hr(e),e.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return Xu(e),null;case 3:return n=e.stateNode,r=null,null!==t&&(r=t.memoizedState.cache),e.memoizedState.cache!==r&&(e.flags|=2048),xo(Fi),tt(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==t&&null!==t.child||(ri(e)?Uu(e):null===t||t.memoizedState.isDehydrated&&0===(256&e.flags)||(e.flags|=1024,null!==Jr&&(Dl(Jr),Jr=null))),Xu(e),null;case 26:return n=e.memoizedState,null===t?(Uu(e),null!==n?(Xu(e),Gu(e,n)):(Xu(e),e.flags&=-16777217)):n?n!==t.memoizedState?(Uu(e),Xu(e),Gu(e,n)):(Xu(e),e.flags&=-16777217):(t.memoizedProps!==r&&Uu(e),Xu(e),e.flags&=-16777217),null;case 27:nt(e),n=J.current;var i=e.type;if(null!==t&&null!=e.stateNode)t.memoizedProps!==r&&Uu(e);else{if(!r){if(null===e.stateNode)throw Error(a(166));return Xu(e),null}t=q.current,ri(e)?ei(e):(t=lh(i,r,n),e.stateNode=t,Uu(e))}return Xu(e),null;case 5:if(nt(e),n=e.type,null!==t&&null!=e.stateNode)t.memoizedProps!==r&&Uu(e);else{if(!r){if(null===e.stateNode)throw Error(a(166));return Xu(e),null}if(t=q.current,ri(e))ei(e);else{switch(i=qc(J.current),t){case 1:t=i.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:t=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":t=i.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":t=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":(t=i.createElement("div")).innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t="string"===typeof r.is?i.createElement("select",{is:r.is}):i.createElement("select"),r.multiple?t.multiple=!0:r.size&&(t.size=r.size);break;default:t="string"===typeof r.is?i.createElement(n,{is:r.is}):i.createElement(n)}}t[Nt]=e,t[Ft]=r;t:for(i=e.child;null!==i;){if(5===i.tag||6===i.tag)t.appendChild(i.stateNode);else if(4!==i.tag&&27!==i.tag&&null!==i.child){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;null===i.sibling;){if(null===i.return||i.return===e)break t;i=i.return}i.sibling.return=i.return,i=i.sibling}e.stateNode=t;t:switch(Wc(t,n,r),n){case"button":case"input":case"select":case"textarea":t=!!r.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&Uu(e)}}return Xu(e),e.flags&=-16777217,null;case 6:if(t&&null!=e.stateNode)t.memoizedProps!==r&&Uu(e);else{if("string"!==typeof r&&null===e.stateNode)throw Error(a(166));if(t=J.current,ri(e)){if(t=e.stateNode,n=e.memoizedProps,r=null,null!==(i=Xr))switch(i.tag){case 27:case 5:r=i.memoizedProps}t[Nt]=e,(t=!!(t.nodeValue===n||null!==r&&!0===r.suppressHydrationWarning||jc(t.nodeValue,n)))||ti(e)}else(t=qc(t).createTextNode(r))[Nt]=e,e.stateNode=t}return Xu(e),null;case 13:if(r=e.memoizedState,null===t||null!==t.memoizedState&&null!==t.memoizedState.dehydrated){if(i=ri(e),null!==r&&null!==r.dehydrated){if(null===t){if(!i)throw Error(a(318));if(!(i=null!==(i=e.memoizedState)?i.dehydrated:null))throw Error(a(317));i[Nt]=e}else ii(),0===(128&e.flags)&&(e.memoizedState=null),e.flags|=4;Xu(e),i=!1}else null!==Jr&&(Dl(Jr),Jr=null),i=!0;if(!i)return 256&e.flags?(Ri(e),e):(Ri(e),null)}if(Ri(e),0!==(128&e.flags))return e.lanes=n,e;if(n=null!==r,t=null!==t&&null!==t.memoizedState,n){i=null,null!==(r=e.child).alternate&&null!==r.alternate.memoizedState&&null!==r.alternate.memoizedState.cachePool&&(i=r.alternate.memoizedState.cachePool.pool);var s=null;null!==r.memoizedState&&null!==r.memoizedState.cachePool&&(s=r.memoizedState.cachePool.pool),s!==i&&(r.flags|=2048)}return n!==t&&n&&(e.child.flags|=8192),Wu(e,e.updateQueue),Xu(e),null;case 4:return tt(),null===t&&Oc(e.stateNode.containerInfo),Xu(e),null;case 10:return xo(e.type),Xu(e),null;case 19:if(H(Di),null===(i=e.memoizedState))return Xu(e),null;if(r=0!==(128&e.flags),null===(s=i.rendering))if(r)Hu(i,!1);else{if(0!==cl||null!==t&&0!==(128&t.flags))for(t=e.child;null!==t;){if(null!==(s=zi(t))){for(e.flags|=128,Hu(i,!1),t=s.updateQueue,e.updateQueue=t,Wu(e,t),e.subtreeFlags=0,t=n,n=e.child;null!==n;)Nu(n,t),n=n.sibling;return X(Di,1&Di.current|2),e.child}t=t.sibling}null!==i.tail&&ut()>vl&&(e.flags|=128,r=!0,Hu(i,!1),e.lanes=4194304)}else{if(!r)if(null!==(t=zi(s))){if(e.flags|=128,r=!0,t=t.updateQueue,e.updateQueue=t,Wu(e,t),Hu(i,!0),null===i.tail&&"hidden"===i.tailMode&&!s.alternate&&!Yr)return Xu(e),null}else 2*ut()-i.renderingStartTime>vl&&536870912!==n&&(e.flags|=128,r=!0,Hu(i,!1),e.lanes=4194304);i.isBackwards?(s.sibling=e.child,e.child=s):(null!==(t=i.last)?t.sibling=s:e.child=s,i.last=s)}return null!==i.tail?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=ut(),e.sibling=null,t=Di.current,X(Di,r?1&t|2:1&t),e):(Xu(e),null);case 22:case 23:return Ri(e),_i(),r=null!==e.memoizedState,null!==t?null!==t.memoizedState!==r&&(e.flags|=8192):r&&(e.flags|=8192),r?0!==(536870912&n)&&0===(128&e.flags)&&(Xu(e),6&e.subtreeFlags&&(e.flags|=8192)):Xu(e),null!==(n=e.updateQueue)&&Wu(e,n.retryQueue),n=null,null!==t&&null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(n=t.memoizedState.cachePool.pool),r=null,null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(r=e.memoizedState.cachePool.pool),r!==n&&(e.flags|=2048),null!==t&&H(Xi),null;case 24:return n=null,null!==t&&(n=t.memoizedState.cache),e.memoizedState.cache!==n&&(e.flags|=2048),xo(Fi),Xu(e),null;case 25:return null}throw Error(a(156,e.tag))}function Yu(t,e){switch(Hr(e),e.tag){case 1:return 65536&(t=e.flags)?(e.flags=-65537&t|128,e):null;case 3:return xo(Fi),tt(),0!==(65536&(t=e.flags))&&0===(128&t)?(e.flags=-65537&t|128,e):null;case 26:case 27:case 5:return nt(e),null;case 13:if(Ri(e),null!==(t=e.memoizedState)&&null!==t.dehydrated){if(null===e.alternate)throw Error(a(340));ii()}return 65536&(t=e.flags)?(e.flags=-65537&t|128,e):null;case 19:return H(Di),null;case 4:return tt(),null;case 10:return xo(e.type),null;case 22:case 23:return Ri(e),_i(),null!==t&&H(Xi),65536&(t=e.flags)?(e.flags=-65537&t|128,e):null;case 24:return xo(Fi),null;default:return null}}function Ju(t,e){switch(Hr(e),e.tag){case 3:xo(Fi),tt();break;case 26:case 27:case 5:nt(e);break;case 4:tt();break;case 13:Ri(e);break;case 19:H(Di);break;case 10:xo(e.type);break;case 22:case 23:Ri(e),_i(),null!==t&&H(Xi);break;case 24:xo(Fi)}}var Qu={getCacheForType:function(t){var e=Ao(Fi),n=e.data.get(t);return void 0===n&&(n=t(),e.data.set(t,n)),n}},Zu="function"===typeof WeakMap?WeakMap:Map,tl=0,el=null,nl=null,rl=0,il=0,sl=null,al=!1,ol=!1,ul=!1,ll=0,cl=0,hl=0,pl=0,dl=0,fl=0,ml=0,gl=null,yl=null,bl=!1,xl=0,vl=1/0,wl=null,Sl=null,kl=!1,Tl=null,Al=0,El=0,_l=null,Ll=0,Cl=null;function Il(){if(0!==(2&tl)&&0!==rl)return rl&-rl;if(null!==I.T){return 0!==Ui?Ui:wc()}return Mt()}function $l(){0===fl&&(fl=0===(536870912&rl)||Yr?Ct():536870912);var t=Li.current;return null!==t&&(t.flags|=32),fl}function Ol(t,e,n){(t===el&&2===il||null!==t.cancelPendingCommit)&&(Vl(t,0),Pl(t,rl,fl,!1)),Ot(t,n),0!==(2&tl)&&t===el||(t===el&&(0===(2&tl)&&(pl|=n),4===cl&&Pl(t,rl,fl,!1)),mc(t))}function Rl(t,e,n){if(0!==(6&tl))throw Error(a(327));for(var r=!n&&0===(60&e)&&0===(e&t.expiredLanes)||_t(t,e),i=r?function(t,e){var n=tl;tl|=2;var r=jl(),i=Bl();el!==t||rl!==e?(wl=null,vl=ut()+500,Vl(t,e)):ol=_t(t,e);t:for(;;)try{if(0!==il&&null!==nl){e=nl;var s=sl;e:switch(il){case 1:il=0,sl=null,Yl(t,e,s,1);break;case 2:if(li(s)){il=0,sl=null,ql(e);break}e=function(){2===il&&el===t&&(il=7),mc(t)},s.then(e,e);break t;case 3:il=7;break t;case 4:il=5;break t;case 7:li(s)?(il=0,sl=null,ql(e)):(il=0,sl=null,Yl(t,e,s,7));break;case 5:var o=null;switch(nl.tag){case 26:o=nl.memoizedState;case 5:case 27:var u=nl;if(!o||Ch(o)){il=0,sl=null;var l=u.sibling;if(null!==l)nl=l;else{var c=u.return;null!==c?(nl=c,Jl(c)):nl=null}break e}}il=0,sl=null,Yl(t,e,s,5);break;case 6:il=0,sl=null,Yl(t,e,s,6);break;case 8:Fl(),cl=6;break t;default:throw Error(a(462))}}Hl();break}catch(h){Kl(t,h)}return yo=go=null,I.H=r,I.A=i,tl=n,null!==nl?0:(el=null,rl=0,Er(),cl)}(t,e):Gl(t,e,!0),s=r;;){if(0===i){ol&&!r&&Pl(t,e,0,!1);break}if(6===i)Pl(t,e,0,!al);else{if(n=t.current.alternate,s&&!Ml(n)){i=Gl(t,e,!1),s=!1;continue}if(2===i){if(s=e,t.errorRecoveryDisabledLanes&s)var o=0;else o=0!==(o=-536870913&t.pendingLanes)?o:536870912&o?536870912:0;if(0!==o){e=o;t:{var u=t;i=gl;var l=u.current.memoizedState.isDehydrated;if(l&&(Vl(u,o).flags|=256),2!==(o=Gl(u,o,!1))){if(ul&&!l){u.errorRecoveryDisabledLanes|=s,pl|=s,i=4;break t}s=yl,yl=i,null!==s&&Dl(s)}i=o}if(s=!1,2!==i)continue}}if(1===i){Vl(t,0),Pl(t,e,0,!0);break}t:{switch(r=t,i){case 0:case 1:throw Error(a(345));case 4:if((4194176&e)===e){Pl(r,e,fl,!al);break t}break;case 2:yl=null;break;case 3:case 5:break;default:throw Error(a(329))}if(r.finishedWork=n,r.finishedLanes=e,(62914560&e)===e&&10<(s=xl+300-ut())){if(Pl(r,e,fl,!al),0!==Et(r,0))break t;r.timeoutHandle=th(zl.bind(null,r,n,yl,wl,bl,e,fl,pl,ml,al,2,-0,0),s)}else zl(r,n,yl,wl,bl,e,fl,pl,ml,al,0,-0,0)}}break}mc(t)}function Dl(t){null===yl?yl=t:yl.push.apply(yl,t)}function zl(t,e,n,r,i,s,o,u,l,c,h,p,d){var f=e.subtreeFlags;if((8192&f||16785408===(16785408&f))&&(Ih={stylesheets:null,count:0,unsuspend:$h},Lu(e),null!==(e=function(){if(null===Ih)throw Error(a(475));var t=Ih;return t.stylesheets&&0===t.count&&Dh(t,t.stylesheets),0<t.count?function(e){var n=setTimeout((function(){if(t.stylesheets&&Dh(t,t.stylesheets),t.unsuspend){var e=t.unsuspend;t.unsuspend=null,e()}}),6e4);return t.unsuspend=e,function(){t.unsuspend=null,clearTimeout(n)}}:null}())))return t.cancelPendingCommit=e(Zl.bind(null,t,n,r,i,o,u,l,1,p,d)),void Pl(t,s,o,!c);Zl(t,n,r,i,o,u,l,h,p,d)}function Ml(t){for(var e=t;;){var n=e.tag;if((0===n||11===n||15===n)&&16384&e.flags&&(null!==(n=e.updateQueue)&&null!==(n=n.stores)))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Xn(s(),i))return!1}catch(a){return!1}}if(n=e.child,16384&e.subtreeFlags&&null!==n)n.return=e,e=n;else{if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Pl(t,e,n,r){e&=~dl,e&=~pl,t.suspendedLanes|=e,t.pingedLanes&=~e,r&&(t.warmLanes|=e),r=t.expirationTimes;for(var i=e;0<i;){var s=31-vt(i),a=1<<s;r[s]=-1,i&=~a}0!==n&&Rt(t,n,e)}function Nl(){return 0!==(6&tl)||(gc(0,!1),!1)}function Fl(){if(null!==nl){if(0===il)var t=nl.return;else yo=go=null,ys(t=nl),fi=null,mi=0,t=nl;for(;null!==t;)Ju(t.alternate,t),t=t.return;nl=null}}function Vl(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;-1!==n&&(t.timeoutHandle=-1,eh(n)),null!==(n=t.cancelPendingCommit)&&(t.cancelPendingCommit=null,n()),Fl(),el=t,nl=n=Pu(t.current,null),rl=e,il=0,sl=null,al=!1,ol=_t(t,e),ul=!1,ml=fl=dl=pl=hl=cl=0,yl=gl=null,bl=!1,0!==(8&e)&&(e|=32&e);var r=t.entangledLanes;if(0!==r)for(t=t.entanglements,r&=e;0<r;){var i=31-vt(r),s=1<<i;e|=t[i],r&=~s}return ll=e,Er(),n}function Kl(t,e){Zi=null,I.H=Ta,e===ai?(e=di(),il=3):e===oi?(e=di(),il=4):il=e===ja?8:null!==e&&"object"===typeof e&&"function"===typeof e.then?6:1,sl=e,null===nl&&(cl=1,Pa(t,Dr(e,t.current)))}function jl(){var t=I.H;return I.H=Ta,null===t?Ta:t}function Bl(){var t=I.A;return I.A=Qu,t}function Ul(){cl=4,al||(4194176&rl)!==rl&&null!==Li.current||(ol=!0),0===(134217727&hl)&&0===(134217727&pl)||null===el||Pl(el,rl,fl,!1)}function Gl(t,e,n){var r=tl;tl|=2;var i=jl(),s=Bl();el===t&&rl===e||(wl=null,Vl(t,e)),e=!1;var a=cl;t:for(;;)try{if(0!==il&&null!==nl){var o=nl,u=sl;switch(il){case 8:Fl(),a=6;break t;case 3:case 2:case 6:null===Li.current&&(e=!0);var l=il;if(il=0,sl=null,Yl(t,o,u,l),n&&ol){a=0;break t}break;default:l=il,il=0,sl=null,Yl(t,o,u,l)}}Wl(),a=cl;break}catch(c){Kl(t,c)}return e&&t.shellSuspendCounter++,yo=go=null,tl=r,I.H=i,I.A=s,null===nl&&(el=null,rl=0,Er()),a}function Wl(){for(;null!==nl;)Xl(nl)}function Hl(){for(;null!==nl&&!at();)Xl(nl)}function Xl(t){var e=fo(t.alternate,t,ll);t.memoizedProps=t.pendingProps,null===e?Jl(t):nl=e}function ql(t){var e=t,n=e.alternate;switch(e.tag){case 15:case 0:e=Qa(n,e,e.pendingProps,e.type,void 0,rl);break;case 11:e=Qa(n,e,e.pendingProps,e.type.render,e.ref,rl);break;case 5:ys(e);default:Ju(n,e),e=fo(n,e=nl=Nu(e,ll),ll)}t.memoizedProps=t.pendingProps,null===e?Jl(t):nl=e}function Yl(t,e,n,r){yo=go=null,ys(e),fi=null,mi=0;var i=e.return;try{if(function(t,e,n,r,i){if(n.flags|=32768,null!==r&&"object"===typeof r&&"function"===typeof r.then){if(null!==(e=n.alternate)&&So(e,n,i,!0),null!==(n=Li.current)){switch(n.tag){case 13:return null===Ci?Ul():null===n.alternate&&0===cl&&(cl=3),n.flags&=-257,n.flags|=65536,n.lanes=i,r===ui?n.flags|=16384:(null===(e=n.updateQueue)?n.updateQueue=new Set([r]):e.add(r),ic(t,r,i)),!1;case 22:return n.flags|=65536,r===ui?n.flags|=16384:(null===(e=n.updateQueue)?(e={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=e):null===(n=e.retryQueue)?e.retryQueue=new Set([r]):n.add(r),ic(t,r,i)),!1}throw Error(a(435,n.tag))}return ic(t,r,i),Ul(),!1}if(Yr)return null!==(e=Li.current)?(0===(65536&e.flags)&&(e.flags|=256),e.flags|=65536,e.lanes=i,r!==Zr&&si(Dr(t=Error(a(422),{cause:r}),n))):(r!==Zr&&si(Dr(e=Error(a(423),{cause:r}),n)),(t=t.current.alternate).flags|=65536,i&=-i,t.lanes|=i,r=Dr(r,n),Do(t,i=Fa(t.stateNode,r,i)),4!==cl&&(cl=2)),!1;var s=Error(a(520),{cause:r});if(s=Dr(s,n),null===gl?gl=[s]:gl.push(s),4!==cl&&(cl=2),null===e)return!0;r=Dr(r,n),n=e;do{switch(n.tag){case 3:return n.flags|=65536,t=i&-i,n.lanes|=t,Do(n,t=Fa(n.stateNode,r,t)),!1;case 1:if(e=n.type,s=n.stateNode,0===(128&n.flags)&&("function"===typeof e.getDerivedStateFromError||null!==s&&"function"===typeof s.componentDidCatch&&(null===Sl||!Sl.has(s))))return n.flags|=65536,i&=-i,n.lanes|=i,Ka(i=Va(i),t,n,r),Do(n,i),!1}n=n.return}while(null!==n);return!1}(t,i,e,n,rl))return cl=1,Pa(t,Dr(n,t.current)),void(nl=null)}catch(s){if(null!==i)throw nl=i,s;return cl=1,Pa(t,Dr(n,t.current)),void(nl=null)}32768&e.flags?(Yr||1===r?t=!0:ol||0!==(536870912&rl)?t=!1:(al=t=!0,(2===r||3===r||6===r)&&(null!==(r=Li.current)&&13===r.tag&&(r.flags|=16384))),Ql(e,t)):Jl(e)}function Jl(t){var e=t;do{if(0!==(32768&e.flags))return void Ql(e,al);t=e.return;var n=qu(e.alternate,e,ll);if(null!==n)return void(nl=n);if(null!==(e=e.sibling))return void(nl=e);nl=e=t}while(null!==e);0===cl&&(cl=5)}function Ql(t,e){do{var n=Yu(t.alternate,t);if(null!==n)return n.flags&=32767,void(nl=n);if(null!==(n=t.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!e&&null!==(t=t.sibling))return void(nl=t);nl=t=n}while(null!==t);cl=6,nl=null}function Zl(t,e,n,r,i,s,o,u,l,c){var h=I.T,p=j.p;try{j.p=2,I.T=null,function(t,e,n,r,i,s,o,u){do{ec()}while(null!==Tl);if(0!==(6&tl))throw Error(a(327));var l=t.finishedWork;if(r=t.finishedLanes,null===l)return null;if(t.finishedWork=null,t.finishedLanes=0,l===t.current)throw Error(a(177));t.callbackNode=null,t.callbackPriority=0,t.cancelPendingCommit=null;var c=l.lanes|l.childLanes;if(function(t,e,n,r,i,s){var a=t.pendingLanes;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=n,t.entangledLanes&=n,t.errorRecoveryDisabledLanes&=n,t.shellSuspendCounter=0;var o=t.entanglements,u=t.expirationTimes,l=t.hiddenUpdates;for(n=a&~n;0<n;){var c=31-vt(n),h=1<<c;o[c]=0,u[c]=-1;var p=l[c];if(null!==p)for(l[c]=null,c=0;c<p.length;c++){var d=p[c];null!==d&&(d.lane&=-536870913)}n&=~h}0!==r&&Rt(t,r,0),0!==s&&0===i&&0!==t.tag&&(t.suspendedLanes|=s&~(a&~e))}(t,r,c|=Ar,s,o,u),t===el&&(nl=el=null,rl=0),0===(10256&l.subtreeFlags)&&0===(10256&l.flags)||kl||(kl=!0,El=c,_l=n,function(t,e){it(t,e)}(pt,(function(){return ec(),null}))),n=0!==(15990&l.flags),0!==(15990&l.subtreeFlags)||n?(n=I.T,I.T=null,s=j.p,j.p=2,o=tl,tl|=4,function(t,e){if(t=t.containerInfo,Hc=Uh,tr(t=Zn(t))){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else t:{var r=(n=(n=t.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch(g){n=null;break t}var o=0,u=-1,l=-1,c=0,h=0,p=t,d=null;e:for(;;){for(var f;p!==n||0!==i&&3!==p.nodeType||(u=o+i),p!==s||0!==r&&3!==p.nodeType||(l=o+r),3===p.nodeType&&(o+=p.nodeValue.length),null!==(f=p.firstChild);)d=p,p=f;for(;;){if(p===t)break e;if(d===n&&++c===i&&(u=o),d===s&&++h===r&&(l=o),null!==(f=p.nextSibling))break;d=(p=d).parentNode}p=f}n=-1===u||-1===l?null:{start:u,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Xc={focusedElem:t,selectionRange:n},Uh=!1,nu=e;null!==nu;)if(t=(e=nu).child,0!==(1028&e.subtreeFlags)&&null!==t)t.return=e,nu=t;else for(;null!==nu;){switch(s=(e=nu).alternate,t=e.flags,e.tag){case 0:case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&t)&&null!==s){t=void 0,n=e,i=s.memoizedProps,s=s.memoizedState,r=n.stateNode;try{var m=Oa(n.type,i,(n.elementType,n.type));t=r.getSnapshotBeforeUpdate(m,s),r.__reactInternalSnapshotBeforeUpdate=t}catch(y){rc(n,n.return,y)}}break;case 3:if(0!==(1024&t))if(9===(n=(t=e.stateNode.containerInfo).nodeType))ah(t);else if(1===n)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":ah(t);break;default:t.textContent=""}break;default:if(0!==(1024&t))throw Error(a(163))}if(null!==(t=e.sibling)){t.return=e.return,nu=t;break}nu=e.return}m=ru,ru=!1}(t,l),fu(l,t),er(Xc,t.containerInfo),Uh=!!Hc,Xc=Hc=null,t.current=l,iu(t,l.alternate,l),ot(),tl=o,j.p=s,I.T=n):t.current=l,kl?(kl=!1,Tl=t,Al=r):tc(t,c),c=t.pendingLanes,0===c&&(Sl=null),function(t){if(bt&&"function"===typeof bt.onCommitFiberRoot)try{bt.onCommitFiberRoot(yt,t,void 0,128===(128&t.current.flags))}catch(e){}}(l.stateNode),mc(t),null!==e)for(i=t.onRecoverableError,l=0;l<e.length;l++)c=e[l],i(c.value,{componentStack:c.stack});0!==(3&Al)&&ec(),c=t.pendingLanes,0!==(4194218&r)&&0!==(42&c)?t===Cl?Ll++:(Ll=0,Cl=t):Ll=0,gc(0,!1)}(t,e,n,r,p,i,s,o)}finally{I.T=h,j.p=p}}function tc(t,e){0===(t.pooledCacheLanes&=e)&&(null!=(e=t.pooledCache)&&(t.pooledCache=null,Ki(e)))}function ec(){if(null!==Tl){var t=Tl,e=El;El=0;var n=zt(Al),r=I.T,i=j.p;try{if(j.p=32>n?32:n,I.T=null,null===Tl)var s=!1;else{n=_l,_l=null;var o=Tl,u=Al;if(Tl=null,Al=0,0!==(6&tl))throw Error(a(331));var l=tl;if(tl|=4,$u(o.current),ku(o,o.current,u,n),tl=l,gc(0,!1),bt&&"function"===typeof bt.onPostCommitFiberRoot)try{bt.onPostCommitFiberRoot(yt,o)}catch(c){}s=!0}return s}finally{j.p=i,I.T=r,tc(t,e)}}return!1}function nc(t,e,n){e=Dr(n,e),null!==(t=Oo(t,e=Fa(t.stateNode,e,2),2))&&(Ot(t,2),mc(t))}function rc(t,e,n){if(3===t.tag)nc(t,t,n);else for(;null!==e;){if(3===e.tag){nc(e,t,n);break}if(1===e.tag){var r=e.stateNode;if("function"===typeof e.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Sl||!Sl.has(r))){t=Dr(n,t),null!==(r=Oo(e,n=Va(2),2))&&(Ka(n,r,e,t),Ot(r,2),mc(r));break}}e=e.return}}function ic(t,e,n){var r=t.pingCache;if(null===r){r=t.pingCache=new Zu;var i=new Set;r.set(e,i)}else void 0===(i=r.get(e))&&(i=new Set,r.set(e,i));i.has(n)||(ul=!0,i.add(n),t=sc.bind(null,t,e,n),e.then(t,t))}function sc(t,e,n){var r=t.pingCache;null!==r&&r.delete(e),t.pingedLanes|=t.suspendedLanes&n,t.warmLanes&=~n,el===t&&(rl&n)===n&&(4===cl||3===cl&&(62914560&rl)===rl&&300>ut()-xl?0===(2&tl)&&Vl(t,0):dl|=n,ml===rl&&(ml=0)),mc(t)}function ac(t,e){0===e&&(e=It()),null!==(t=Cr(t,e))&&(Ot(t,e),mc(t))}function oc(t){var e=t.memoizedState,n=0;null!==e&&(n=e.retryLane),ac(t,n)}function uc(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=t.stateNode;break;case 22:r=t.stateNode._retryCache;break;default:throw Error(a(314))}null!==r&&r.delete(e),ac(t,n)}var lc=null,cc=null,hc=!1,pc=!1,dc=!1,fc=0;function mc(t){var e;t!==cc&&null===t.next&&(null===cc?lc=cc=t:cc=cc.next=t),pc=!0,hc||(hc=!0,e=yc,rh((function(){0!==(6&tl)?it(ct,e):e()})))}function gc(t,e){if(!dc&&pc){dc=!0;do{for(var n=!1,r=lc;null!==r;){if(!e)if(0!==t){var i=r.pendingLanes;if(0===i)var s=0;else{var a=r.suspendedLanes,o=r.pingedLanes;s=(1<<31-vt(42|t)+1)-1,s=201326677&(s&=i&~(a&~o))?201326677&s|1:s?2|s:0}0!==s&&(n=!0,vc(r,s))}else s=rl,0===(3&(s=Et(r,r===el?s:0)))||_t(r,s)||(n=!0,vc(r,s));r=r.next}}while(n);dc=!1}}function yc(){pc=hc=!1;var t=0;0!==fc&&(function(){var t=window.event;if(t&&"popstate"===t.type)return t!==Zc&&(Zc=t,!0);return Zc=null,!1}()&&(t=fc),fc=0);for(var e=ut(),n=null,r=lc;null!==r;){var i=r.next,s=bc(r,e);0===s?(r.next=null,null===n?lc=i:n.next=i,null===i&&(cc=n)):(n=r,(0!==t||0!==(3&s))&&(pc=!0)),r=i}gc(t,!1)}function bc(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=-62914561&t.pendingLanes;0<s;){var a=31-vt(s),o=1<<a,u=i[a];-1===u?0!==(o&n)&&0===(o&r)||(i[a]=Lt(o,e)):u<=e&&(t.expiredLanes|=o),s&=~o}if(n=rl,n=Et(t,t===(e=el)?n:0),r=t.callbackNode,0===n||t===e&&2===il||null!==t.cancelPendingCommit)return null!==r&&null!==r&&st(r),t.callbackNode=null,t.callbackPriority=0;if(0===(3&n)||_t(t,n)){if((e=n&-n)===t.callbackPriority)return e;switch(null!==r&&st(r),zt(n)){case 2:case 8:n=ht;break;case 32:default:n=pt;break;case 268435456:n=ft}return r=xc.bind(null,t),n=it(n,r),t.callbackPriority=e,t.callbackNode=n,e}return null!==r&&null!==r&&st(r),t.callbackPriority=2,t.callbackNode=null,2}function xc(t,e){var n=t.callbackNode;if(ec()&&t.callbackNode!==n)return null;var r=rl;return 0===(r=Et(t,t===el?r:0))?null:(Rl(t,r,e),bc(t,ut()),null!=t.callbackNode&&t.callbackNode===n?xc.bind(null,t):null)}function vc(t,e){if(ec())return null;Rl(t,e,!0)}function wc(){return 0===fc&&(fc=Ct()),fc}function Sc(t){return null==t||"symbol"===typeof t||"boolean"===typeof t?null:"function"===typeof t?t:Ce(""+t)}function kc(t,e){var n=e.ownerDocument.createElement("input");return n.name=e.name,n.value=e.value,t.id&&n.setAttribute("form",t.id),e.parentNode.insertBefore(n,e),t=new FormData(t),n.parentNode.removeChild(n),t}for(var Tc=0;Tc<wr.length;Tc++){var Ac=wr[Tc];Sr(Ac.toLowerCase(),"on"+(Ac[0].toUpperCase()+Ac.slice(1)))}Sr(dr,"onAnimationEnd"),Sr(fr,"onAnimationIteration"),Sr(mr,"onAnimationStart"),Sr("dblclick","onDoubleClick"),Sr("focusin","onFocus"),Sr("focusout","onBlur"),Sr(gr,"onTransitionRun"),Sr(yr,"onTransitionStart"),Sr(br,"onTransitionCancel"),Sr(xr,"onTransitionEnd"),ee("onMouseEnter",["mouseout","mouseover"]),ee("onMouseLeave",["mouseout","mouseover"]),ee("onPointerEnter",["pointerout","pointerover"]),ee("onPointerLeave",["pointerout","pointerover"]),te("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),te("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),te("onBeforeInput",["compositionend","keypress","textInput","paste"]),te("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),te("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),te("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ec="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_c=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ec));function Lc(t,e){e=0!==(4&e);for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;t:{var s=void 0;if(e)for(var a=r.length-1;0<=a;a--){var o=r[a],u=o.instance,l=o.currentTarget;if(o=o.listener,u!==s&&i.isPropagationStopped())break t;s=o,i.currentTarget=l;try{s(i)}catch(c){Ra(c)}i.currentTarget=null,s=u}else for(a=0;a<r.length;a++){if(u=(o=r[a]).instance,l=o.currentTarget,o=o.listener,u!==s&&i.isPropagationStopped())break t;s=o,i.currentTarget=l;try{s(i)}catch(c){Ra(c)}i.currentTarget=null,s=u}}}}function Cc(t,e){var n=e[Kt];void 0===n&&(n=e[Kt]=new Set);var r=t+"__bubble";n.has(r)||(Rc(e,t,2,!1),n.add(r))}function Ic(t,e,n){var r=0;e&&(r|=4),Rc(n,t,r,e)}var $c="_reactListening"+Math.random().toString(36).slice(2);function Oc(t){if(!t[$c]){t[$c]=!0,Qt.forEach((function(e){"selectionchange"!==e&&(_c.has(e)||Ic(e,!1,t),Ic(e,!0,t))}));var e=9===t.nodeType?t:t.ownerDocument;null===e||e[$c]||(e[$c]=!0,Ic("selectionchange",!1,e))}}function Rc(t,e,n,r){switch(Jh(e)){case 2:var i=Gh;break;case 8:i=Wh;break;default:i=Hh}n=i.bind(null,e,n,t),i=void 0,!Ne||"touchstart"!==e&&"touchmove"!==e&&"wheel"!==e||(i=!0),r?void 0!==i?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):void 0!==i?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Dc(t,e,n,r,i){var s=r;if(0===(1&e)&&0===(2&e)&&null!==r)t:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var o=r.stateNode.containerInfo;if(o===i||8===o.nodeType&&o.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var u=a.tag;if((3===u||4===u)&&((u=a.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;a=a.return}for(;null!==o;){if(null===(a=Ht(o)))return;if(5===(u=a.tag)||6===u||26===u||27===u){r=s=a;continue t}o=o.parentNode}}r=r.return}Me((function(){var r=s,i=$e(n),a=[];t:{var o=vr.get(t);if(void 0!==o){var u=Qe,l=t;switch(t){case"keypress":if(0===Ue(n))break t;case"keydown":case"keyup":u=fn;break;case"focusin":l="focus",u=sn;break;case"focusout":l="blur",u=sn;break;case"beforeblur":case"afterblur":u=sn;break;case"click":if(2===n.button)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=nn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=rn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=gn;break;case dr:case fr:case mr:u=an;break;case xr:u=yn;break;case"scroll":case"scrollend":u=tn;break;case"wheel":u=bn;break;case"copy":case"cut":case"paste":u=on;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=mn;break;case"toggle":case"beforetoggle":u=xn}var c=0!==(4&e),h=!c&&("scroll"===t||"scrollend"===t),p=c?null!==o?o+"Capture":null:o;c=[];for(var d,f=r;null!==f;){var m=f;if(d=m.stateNode,5!==(m=m.tag)&&26!==m&&27!==m||null===d||null===p||null!=(m=Pe(f,p))&&c.push(zc(f,m,d)),h)break;f=f.return}0<c.length&&(o=new u(o,l,null,n,i),a.push({event:o,listeners:c}))}}if(0===(7&e)){if(u="mouseout"===t||"pointerout"===t,(!(o="mouseover"===t||"pointerover"===t)||n===Ie||!(l=n.relatedTarget||n.fromElement)||!Ht(l)&&!l[Vt])&&(u||o)&&(o=i.window===i?i:(o=i.ownerDocument)?o.defaultView||o.parentWindow:window,u?(u=r,null!==(l=(l=n.relatedTarget||n.toElement)?Ht(l):null)&&(h=P(l),c=l.tag,l!==h||5!==c&&27!==c&&6!==c)&&(l=null)):(u=null,l=r),u!==l)){if(c=nn,m="onMouseLeave",p="onMouseEnter",f="mouse","pointerout"!==t&&"pointerover"!==t||(c=mn,m="onPointerLeave",p="onPointerEnter",f="pointer"),h=null==u?o:qt(u),d=null==l?o:qt(l),(o=new c(m,f+"leave",u,n,i)).target=h,o.relatedTarget=d,m=null,Ht(i)===r&&((c=new c(p,f+"enter",l,n,i)).target=d,c.relatedTarget=h,m=c),h=m,u&&l)t:{for(p=l,f=0,d=c=u;d;d=Pc(d))f++;for(d=0,m=p;m;m=Pc(m))d++;for(;0<f-d;)c=Pc(c),f--;for(;0<d-f;)p=Pc(p),d--;for(;f--;){if(c===p||null!==p&&c===p.alternate)break t;c=Pc(c),p=Pc(p)}c=null}else c=null;null!==u&&Nc(a,o,u,c,!1),null!==l&&null!==h&&Nc(a,h,l,c,!0)}if("select"===(u=(o=r?qt(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===u&&"file"===o.type)var g=Pn;else if($n(o))if(Nn)g=Hn;else{g=Gn;var y=Un}else!(u=o.nodeName)||"input"!==u.toLowerCase()||"checkbox"!==o.type&&"radio"!==o.type?r&&Ee(r.elementType)&&(g=Pn):g=Wn;switch(g&&(g=g(t,r))?On(a,g,n,i):(y&&y(t,o,r),"focusout"===t&&r&&"number"===o.type&&null!=r.memoizedProps.value&&be(o,"number",o.value)),y=r?qt(r):window,t){case"focusin":($n(y)||"true"===y.contentEditable)&&(rr=y,ir=r,sr=null);break;case"focusout":sr=ir=rr=null;break;case"mousedown":ar=!0;break;case"contextmenu":case"mouseup":case"dragend":ar=!1,or(a,n,i);break;case"selectionchange":if(nr)break;case"keydown":case"keyup":or(a,n,i)}var b;if(wn)t:{switch(t){case"compositionstart":var x="onCompositionStart";break t;case"compositionend":x="onCompositionEnd";break t;case"compositionupdate":x="onCompositionUpdate";break t}x=void 0}else Cn?_n(t,n)&&(x="onCompositionEnd"):"keydown"===t&&229===n.keyCode&&(x="onCompositionStart");x&&(Tn&&"ko"!==n.locale&&(Cn||"onCompositionStart"!==x?"onCompositionEnd"===x&&Cn&&(b=Be()):(Ke="value"in(Ve=i)?Ve.value:Ve.textContent,Cn=!0)),0<(y=Mc(r,x)).length&&(x=new un(x,t,null,n,i),a.push({event:x,listeners:y}),b?x.data=b:null!==(b=Ln(n))&&(x.data=b))),(b=kn?function(t,e){switch(t){case"compositionend":return Ln(e);case"keypress":return 32!==e.which?null:(En=!0,An);case"textInput":return(t=e.data)===An&&En?null:t;default:return null}}(t,n):function(t,e){if(Cn)return"compositionend"===t||!wn&&_n(t,e)?(t=Be(),je=Ke=Ve=null,Cn=!1,t):null;switch(t){case"paste":default:return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Tn&&"ko"!==e.locale?null:e.data}}(t,n))&&(0<(x=Mc(r,"onBeforeInput")).length&&(y=new un("onBeforeInput","beforeinput",null,n,i),a.push({event:y,listeners:x}),y.data=b)),function(t,e,n,r,i){if("submit"===e&&n&&n.stateNode===i){var s=Sc((i[Ft]||null).action),a=r.submitter;a&&null!==(e=(e=a[Ft]||null)?Sc(e.formAction):a.getAttribute("formAction"))&&(s=e,a=null);var o=new Qe("action","action",null,r,i);t.push({event:o,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(0!==fc){var t=a?kc(i,a):new FormData(i);ca(n,{pending:!0,data:t,method:i.method,action:s},null,t)}}else"function"===typeof s&&(o.preventDefault(),t=a?kc(i,a):new FormData(i),ca(n,{pending:!0,data:t,method:i.method,action:s},s,t))},currentTarget:i}]})}}(a,t,r,n,i)}Lc(a,e)}))}function zc(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Mc(t,e){for(var n=e+"Capture",r=[];null!==t;){var i=t,s=i.stateNode;5!==(i=i.tag)&&26!==i&&27!==i||null===s||(null!=(i=Pe(t,n))&&r.unshift(zc(t,i,s)),null!=(i=Pe(t,e))&&r.push(zc(t,i,s))),t=t.return}return r}function Pc(t){if(null===t)return null;do{t=t.return}while(t&&5!==t.tag&&27!==t.tag);return t||null}function Nc(t,e,n,r,i){for(var s=e._reactName,a=[];null!==n&&n!==r;){var o=n,u=o.alternate,l=o.stateNode;if(o=o.tag,null!==u&&u===r)break;5!==o&&26!==o&&27!==o||null===l||(u=l,i?null!=(l=Pe(n,s))&&a.unshift(zc(n,l,u)):i||null!=(l=Pe(n,s))&&a.push(zc(n,l,u))),n=n.return}0!==a.length&&t.push({event:e,listeners:a})}var Fc=/\r\n?/g,Vc=/\u0000|\uFFFD/g;function Kc(t){return("string"===typeof t?t:""+t).replace(Fc,"\n").replace(Vc,"")}function jc(t,e){return e=Kc(e),Kc(t)===e}function Bc(){}function Uc(t,e,n,r,i,s){switch(n){case"children":"string"===typeof r?"body"===e||"textarea"===e&&""===r||Se(t,r):("number"===typeof r||"bigint"===typeof r)&&"body"!==e&&Se(t,""+r);break;case"className":oe(t,"class",r);break;case"tabIndex":oe(t,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":oe(t,n,r);break;case"style":Ae(t,r,s);break;case"data":if("object"!==e){oe(t,"data",r);break}case"src":case"href":if(""===r&&("a"!==e||"href"!==n)){t.removeAttribute(n);break}if(null==r||"function"===typeof r||"symbol"===typeof r||"boolean"===typeof r){t.removeAttribute(n);break}r=Ce(""+r),t.setAttribute(n,r);break;case"action":case"formAction":if("function"===typeof r){t.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof s&&("formAction"===n?("input"!==e&&Uc(t,e,"name",i.name,i,null),Uc(t,e,"formEncType",i.formEncType,i,null),Uc(t,e,"formMethod",i.formMethod,i,null),Uc(t,e,"formTarget",i.formTarget,i,null)):(Uc(t,e,"encType",i.encType,i,null),Uc(t,e,"method",i.method,i,null),Uc(t,e,"target",i.target,i,null))),null==r||"symbol"===typeof r||"boolean"===typeof r){t.removeAttribute(n);break}r=Ce(""+r),t.setAttribute(n,r);break;case"onClick":null!=r&&(t.onclick=Bc);break;case"onScroll":null!=r&&Cc("scroll",t);break;case"onScrollEnd":null!=r&&Cc("scrollend",t);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(a(61));if(null!=(n=r.__html)){if(null!=i.children)throw Error(a(60));t.innerHTML=n}}break;case"multiple":t.multiple=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"muted":t.muted=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==r||"function"===typeof r||"boolean"===typeof r||"symbol"===typeof r){t.removeAttribute("xlink:href");break}n=Ce(""+r),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=r&&"function"!==typeof r&&"symbol"!==typeof r?t.setAttribute(n,""+r):t.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&"function"!==typeof r&&"symbol"!==typeof r?t.setAttribute(n,""):t.removeAttribute(n);break;case"capture":case"download":!0===r?t.setAttribute(n,""):!1!==r&&null!=r&&"function"!==typeof r&&"symbol"!==typeof r?t.setAttribute(n,r):t.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=r&&"function"!==typeof r&&"symbol"!==typeof r&&!isNaN(r)&&1<=r?t.setAttribute(n,r):t.removeAttribute(n);break;case"rowSpan":case"start":null==r||"function"===typeof r||"symbol"===typeof r||isNaN(r)?t.removeAttribute(n):t.setAttribute(n,r);break;case"popover":Cc("beforetoggle",t),Cc("toggle",t),ae(t,"popover",r);break;case"xlinkActuate":ue(t,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":ue(t,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":ue(t,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":ue(t,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":ue(t,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":ue(t,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":ue(t,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":ue(t,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":ue(t,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":ae(t,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&ae(t,n=_e.get(n)||n,r)}}function Gc(t,e,n,r,i,s){switch(n){case"style":Ae(t,r,s);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(a(61));if(null!=(n=r.__html)){if(null!=i.children)throw Error(a(60));t.innerHTML=n}}break;case"children":"string"===typeof r?Se(t,r):("number"===typeof r||"bigint"===typeof r)&&Se(t,""+r);break;case"onScroll":null!=r&&Cc("scroll",t);break;case"onScrollEnd":null!=r&&Cc("scrollend",t);break;case"onClick":null!=r&&(t.onclick=Bc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:Zt.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(i=n.endsWith("Capture"),e=n.slice(2,i?n.length-7:void 0),"function"===typeof(s=null!=(s=t[Ft]||null)?s[n]:null)&&t.removeEventListener(e,s,i),"function"!==typeof r)?n in t?t[n]=r:!0===r?t.setAttribute(n,""):ae(t,n,r):("function"!==typeof s&&null!==s&&(n in t?t[n]=null:t.hasAttribute(n)&&t.removeAttribute(n)),t.addEventListener(e,r,i)))}}function Wc(t,e,n){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Cc("error",t),Cc("load",t);var r,i=!1,s=!1;for(r in n)if(n.hasOwnProperty(r)){var o=n[r];if(null!=o)switch(r){case"src":i=!0;break;case"srcSet":s=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,e));default:Uc(t,e,r,o,n,null)}}return s&&Uc(t,e,"srcSet",n.srcSet,n,null),void(i&&Uc(t,e,"src",n.src,n,null));case"input":Cc("invalid",t);var u=r=o=s=null,l=null,c=null;for(i in n)if(n.hasOwnProperty(i)){var h=n[i];if(null!=h)switch(i){case"name":s=h;break;case"type":o=h;break;case"checked":l=h;break;case"defaultChecked":c=h;break;case"value":r=h;break;case"defaultValue":u=h;break;case"children":case"dangerouslySetInnerHTML":if(null!=h)throw Error(a(137,e));break;default:Uc(t,e,i,h,n,null)}}return ye(t,r,u,l,c,o,s,!1),void he(t);case"select":for(s in Cc("invalid",t),i=o=r=null,n)if(n.hasOwnProperty(s)&&null!=(u=n[s]))switch(s){case"value":r=u;break;case"defaultValue":o=u;break;case"multiple":i=u;default:Uc(t,e,s,u,n,null)}return e=r,n=o,t.multiple=!!i,void(null!=e?xe(t,!!i,e,!1):null!=n&&xe(t,!!i,n,!0));case"textarea":for(o in Cc("invalid",t),r=s=i=null,n)if(n.hasOwnProperty(o)&&null!=(u=n[o]))switch(o){case"value":i=u;break;case"defaultValue":s=u;break;case"children":r=u;break;case"dangerouslySetInnerHTML":if(null!=u)throw Error(a(91));break;default:Uc(t,e,o,u,n,null)}return we(t,i,s,r),void he(t);case"option":for(l in n)if(n.hasOwnProperty(l)&&null!=(i=n[l]))if("selected"===l)t.selected=i&&"function"!==typeof i&&"symbol"!==typeof i;else Uc(t,e,l,i,n,null);return;case"dialog":Cc("cancel",t),Cc("close",t);break;case"iframe":case"object":Cc("load",t);break;case"video":case"audio":for(i=0;i<Ec.length;i++)Cc(Ec[i],t);break;case"image":Cc("error",t),Cc("load",t);break;case"details":Cc("toggle",t);break;case"embed":case"source":case"link":Cc("error",t),Cc("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(c in n)if(n.hasOwnProperty(c)&&null!=(i=n[c]))switch(c){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,e));default:Uc(t,e,c,i,n,null)}return;default:if(Ee(e)){for(h in n)n.hasOwnProperty(h)&&(void 0!==(i=n[h])&&Gc(t,e,h,i,n,void 0));return}}for(u in n)n.hasOwnProperty(u)&&(null!=(i=n[u])&&Uc(t,e,u,i,n,null))}var Hc=null,Xc=null;function qc(t){return 9===t.nodeType?t:t.ownerDocument}function Yc(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Jc(t,e){if(0===t)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return 1===t&&"foreignObject"===e?0:t}function Qc(t,e){return"textarea"===t||"noscript"===t||"string"===typeof e.children||"number"===typeof e.children||"bigint"===typeof e.children||"object"===typeof e.dangerouslySetInnerHTML&&null!==e.dangerouslySetInnerHTML&&null!=e.dangerouslySetInnerHTML.__html}var Zc=null;var th="function"===typeof setTimeout?setTimeout:void 0,eh="function"===typeof clearTimeout?clearTimeout:void 0,nh="function"===typeof Promise?Promise:void 0,rh="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof nh?function(t){return nh.resolve(null).then(t).catch(ih)}:th;function ih(t){setTimeout((function(){throw t}))}function sh(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return t.removeChild(i),void mp(e);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);mp(e)}function ah(t){var e=t.firstChild;for(e&&10===e.nodeType&&(e=e.nextSibling);e;){var n=e;switch(e=e.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":ah(n),Wt(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}t.removeChild(n)}}function oh(t){for(;null!=t;t=t.nextSibling){var e=t.nodeType;if(1===e||3===e)break;if(8===e){if("$"===(e=t.data)||"$!"===e||"$?"===e||"F!"===e||"F"===e)break;if("/$"===e)return null}}return t}function uh(t){t=t.previousSibling;for(var e=0;t;){if(8===t.nodeType){var n=t.data;if("$"===n||"$!"===n||"$?"===n){if(0===e)return t;e--}else"/$"===n&&e++}t=t.previousSibling}return null}function lh(t,e,n){switch(e=qc(n),t){case"html":if(!(t=e.documentElement))throw Error(a(452));return t;case"head":if(!(t=e.head))throw Error(a(453));return t;case"body":if(!(t=e.body))throw Error(a(454));return t;default:throw Error(a(451))}}var ch=new Map,hh=new Set;function ph(t){return"function"===typeof t.getRootNode?t.getRootNode():t.ownerDocument}var dh=j.d;j.d={f:function(){var t=dh.f(),e=Nl();return t||e},r:function(t){var e=Xt(t);null!==e&&5===e.tag&&"form"===e.type?pa(e):dh.r(t)},D:function(t){dh.D(t),mh("dns-prefetch",t,null)},C:function(t,e){dh.C(t,e),mh("preconnect",t,e)},L:function(t,e,n){dh.L(t,e,n);var r=fh;if(r&&t&&e){var i='link[rel="preload"][as="'+me(e)+'"]';"image"===e&&n&&n.imageSrcSet?(i+='[imagesrcset="'+me(n.imageSrcSet)+'"]',"string"===typeof n.imageSizes&&(i+='[imagesizes="'+me(n.imageSizes)+'"]')):i+='[href="'+me(t)+'"]';var s=i;switch(e){case"style":s=yh(t);break;case"script":s=vh(t)}ch.has(s)||(t=$({rel:"preload",href:"image"===e&&n&&n.imageSrcSet?void 0:t,as:e},n),ch.set(s,t),null!==r.querySelector(i)||"style"===e&&r.querySelector(bh(s))||"script"===e&&r.querySelector(wh(s))||(Wc(e=r.createElement("link"),"link",t),Jt(e),r.head.appendChild(e)))}},m:function(t,e){dh.m(t,e);var n=fh;if(n&&t){var r=e&&"string"===typeof e.as?e.as:"script",i='link[rel="modulepreload"][as="'+me(r)+'"][href="'+me(t)+'"]',s=i;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=vh(t)}if(!ch.has(s)&&(t=$({rel:"modulepreload",href:t},e),ch.set(s,t),null===n.querySelector(i))){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(wh(s)))return}Wc(r=n.createElement("link"),"link",t),Jt(r),n.head.appendChild(r)}}},X:function(t,e){dh.X(t,e);var n=fh;if(n&&t){var r=Yt(n).hoistableScripts,i=vh(t),s=r.get(i);s||((s=n.querySelector(wh(i)))||(t=$({src:t,async:!0},e),(e=ch.get(i))&&Ah(t,e),Jt(s=n.createElement("script")),Wc(s,"link",t),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},r.set(i,s))}},S:function(t,e,n){dh.S(t,e,n);var r=fh;if(r&&t){var i=Yt(r).hoistableStyles,s=yh(t);e=e||"default";var a=i.get(s);if(!a){var o={loading:0,preload:null};if(a=r.querySelector(bh(s)))o.loading=5;else{t=$({rel:"stylesheet",href:t,"data-precedence":e},n),(n=ch.get(s))&&Th(t,n);var u=a=r.createElement("link");Jt(u),Wc(u,"link",t),u._p=new Promise((function(t,e){u.onload=t,u.onerror=e})),u.addEventListener("load",(function(){o.loading|=1})),u.addEventListener("error",(function(){o.loading|=2})),o.loading|=4,kh(a,e,r)}a={type:"stylesheet",instance:a,count:1,state:o},i.set(s,a)}}},M:function(t,e){dh.M(t,e);var n=fh;if(n&&t){var r=Yt(n).hoistableScripts,i=vh(t),s=r.get(i);s||((s=n.querySelector(wh(i)))||(t=$({src:t,async:!0,type:"module"},e),(e=ch.get(i))&&Ah(t,e),Jt(s=n.createElement("script")),Wc(s,"link",t),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},r.set(i,s))}}};var fh="undefined"===typeof document?null:document;function mh(t,e,n){var r=fh;if(r&&"string"===typeof e&&e){var i=me(e);i='link[rel="'+t+'"][href="'+i+'"]',"string"===typeof n&&(i+='[crossorigin="'+n+'"]'),hh.has(i)||(hh.add(i),t={rel:t,crossOrigin:n,href:e},null===r.querySelector(i)&&(Wc(e=r.createElement("link"),"link",t),Jt(e),r.head.appendChild(e)))}}function gh(t,e,n,r){var i,s,o,u,l=(l=J.current)?ph(l):null;if(!l)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return"string"===typeof n.precedence&&"string"===typeof n.href?(e=yh(n.href),(r=(n=Yt(l).hoistableStyles).get(e))||(r={type:"style",instance:null,count:0,state:null},n.set(e,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"===typeof n.href&&"string"===typeof n.precedence){t=yh(n.href);var c=Yt(l).hoistableStyles,h=c.get(t);if(h||(l=l.ownerDocument||l,h={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},c.set(t,h),(c=l.querySelector(bh(t)))&&!c._p&&(h.instance=c,h.state.loading=5),ch.has(t)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},ch.set(t,n),c||(i=l,s=t,o=n,u=h.state,i.querySelector('link[rel="preload"][as="style"]['+s+"]")?u.loading=1:(s=i.createElement("link"),u.preload=s,s.addEventListener("load",(function(){return u.loading|=1})),s.addEventListener("error",(function(){return u.loading|=2})),Wc(s,"link",o),Jt(s),i.head.appendChild(s))))),e&&null===r)throw Error(a(528,""));return h}if(e&&null!==r)throw Error(a(529,""));return null;case"script":return e=n.async,"string"===typeof(n=n.src)&&e&&"function"!==typeof e&&"symbol"!==typeof e?(e=vh(n),(r=(n=Yt(l).hoistableScripts).get(e))||(r={type:"script",instance:null,count:0,state:null},n.set(e,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function yh(t){return'href="'+me(t)+'"'}function bh(t){return'link[rel="stylesheet"]['+t+"]"}function xh(t){return $({},t,{"data-precedence":t.precedence,precedence:null})}function vh(t){return'[src="'+me(t)+'"]'}function wh(t){return"script[async]"+t}function Sh(t,e,n){if(e.count++,null===e.instance)switch(e.type){case"style":var r=t.querySelector('style[data-href~="'+me(n.href)+'"]');if(r)return e.instance=r,Jt(r),r;var i=$({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return Jt(r=(t.ownerDocument||t).createElement("style")),Wc(r,"style",i),kh(r,n.precedence,t),e.instance=r;case"stylesheet":i=yh(n.href);var s=t.querySelector(bh(i));if(s)return e.state.loading|=4,e.instance=s,Jt(s),s;r=xh(n),(i=ch.get(i))&&Th(r,i),Jt(s=(t.ownerDocument||t).createElement("link"));var o=s;return o._p=new Promise((function(t,e){o.onload=t,o.onerror=e})),Wc(s,"link",r),e.state.loading|=4,kh(s,n.precedence,t),e.instance=s;case"script":return s=vh(n.src),(i=t.querySelector(wh(s)))?(e.instance=i,Jt(i),i):(r=n,(i=ch.get(s))&&Ah(r=$({},n),i),Jt(i=(t=t.ownerDocument||t).createElement("script")),Wc(i,"link",r),t.head.appendChild(i),e.instance=i);case"void":return null;default:throw Error(a(443,e.type))}else"stylesheet"===e.type&&0===(4&e.state.loading)&&(r=e.instance,e.state.loading|=4,kh(r,n.precedence,t));return e.instance}function kh(t,e,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=r.length?r[r.length-1]:null,s=i,a=0;a<r.length;a++){var o=r[a];if(o.dataset.precedence===e)s=o;else if(s!==i)break}s?s.parentNode.insertBefore(t,s.nextSibling):(e=9===n.nodeType?n.head:n).insertBefore(t,e.firstChild)}function Th(t,e){null==t.crossOrigin&&(t.crossOrigin=e.crossOrigin),null==t.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),null==t.title&&(t.title=e.title)}function Ah(t,e){null==t.crossOrigin&&(t.crossOrigin=e.crossOrigin),null==t.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),null==t.integrity&&(t.integrity=e.integrity)}var Eh=null;function _h(t,e,n){if(null===Eh){var r=new Map,i=Eh=new Map;i.set(n,r)}else(r=(i=Eh).get(n))||(r=new Map,i.set(n,r));if(r.has(t))return r;for(r.set(t,null),n=n.getElementsByTagName(t),i=0;i<n.length;i++){var s=n[i];if(!(s[Gt]||s[Nt]||"link"===t&&"stylesheet"===s.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==s.namespaceURI){var a=s.getAttribute(e)||"";a=t+a;var o=r.get(a);o?o.push(s):r.set(a,[s])}}return r}function Lh(t,e,n){(t=t.ownerDocument||t).head.insertBefore(n,"title"===e?t.querySelector("head > title"):null)}function Ch(t){return"stylesheet"!==t.type||0!==(3&t.state.loading)}var Ih=null;function $h(){}function Oh(){if(this.count--,0===this.count)if(this.stylesheets)Dh(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}var Rh=null;function Dh(t,e){t.stylesheets=null,null!==t.unsuspend&&(t.count++,Rh=new Map,e.forEach(zh,t),Rh=null,Oh.call(t))}function zh(t,e){if(!(4&e.state.loading)){var n=Rh.get(t);if(n)var r=n.get(null);else{n=new Map,Rh.set(t,n);for(var i=t.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<i.length;s++){var a=i[s];"LINK"!==a.nodeName&&"not all"===a.getAttribute("media")||(n.set(a.dataset.precedence,a),r=a)}r&&n.set(null,r)}a=(i=e.instance).getAttribute("data-precedence"),(s=n.get(a)||r)===r&&n.set(null,i),n.set(a,i),this.count++,r=Oh.bind(this),i.addEventListener("load",r),i.addEventListener("error",r),s?s.parentNode.insertBefore(i,s.nextSibling):(t=9===t.nodeType?t.head:t).insertBefore(i,t.firstChild),e.state.loading|=4}}var Mh={$$typeof:g,Provider:null,Consumer:null,_currentValue:B,_currentValue2:B,_threadCount:0};function Ph(t,e,n,r,i,s,a,o){this.tag=1,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=$t(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$t(0),this.hiddenUpdates=$t(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=s,this.onRecoverableError=a,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=o,this.incompleteTransitions=new Map}function Nh(t,e,n,r,i,s,a,o,u,l,c,h){return t=new Ph(t,e,n,a,o,u,l,h),e=1,!0===s&&(e|=24),s=zu(3,null,null,e),t.current=s,s.stateNode=t,(e=Vi()).refCount++,t.pooledCache=e,e.refCount++,s.memoizedState={element:r,isDehydrated:n,cache:e},Co(s),t}function Fh(t){return t?t=Or:Or}function Vh(t,e,n,r,i,s){i=Fh(i),null===r.context?r.context=i:r.pendingContext=i,(r=$o(e)).payload={element:n},null!==(s=void 0===s?null:s)&&(r.callback=s),null!==(n=Oo(t,r,e))&&(Ol(n,0,e),Ro(n,t,e))}function Kh(t,e){if(null!==(t=t.memoizedState)&&null!==t.dehydrated){var n=t.retryLane;t.retryLane=0!==n&&n<e?n:e}}function jh(t,e){Kh(t,e),(t=t.alternate)&&Kh(t,e)}function Bh(t){if(13===t.tag){var e=Cr(t,67108864);null!==e&&Ol(e,0,67108864),jh(t,67108864)}}var Uh=!0;function Gh(t,e,n,r){var i=I.T;I.T=null;var s=j.p;try{j.p=2,Hh(t,e,n,r)}finally{j.p=s,I.T=i}}function Wh(t,e,n,r){var i=I.T;I.T=null;var s=j.p;try{j.p=8,Hh(t,e,n,r)}finally{j.p=s,I.T=i}}function Hh(t,e,n,r){if(Uh){var i=Xh(r);if(null===i)Dc(t,e,r,qh,n),ap(t,r);else if(function(t,e,n,r,i){switch(e){case"focusin":return Zh=op(Zh,t,e,n,r,i),!0;case"dragenter":return tp=op(tp,t,e,n,r,i),!0;case"mouseover":return ep=op(ep,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return np.set(s,op(np.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,rp.set(s,op(rp.get(s)||null,t,e,n,r,i)),!0}return!1}(i,t,e,n,r))r.stopPropagation();else if(ap(t,r),4&e&&-1<sp.indexOf(t)){for(;null!==i;){var s=Xt(i);if(null!==s)switch(s.tag){case 3:if((s=s.stateNode).current.memoizedState.isDehydrated){var a=At(s.pendingLanes);if(0!==a){var o=s;for(o.pendingLanes|=2,o.entangledLanes|=2;a;){var u=1<<31-vt(a);o.entanglements[1]|=u,a&=~u}mc(s),0===(6&tl)&&(vl=ut()+500,gc(0,!1))}}break;case 13:null!==(o=Cr(s,2))&&Ol(o,0,2),Nl(),jh(s,2)}if(null===(s=Xh(r))&&Dc(t,e,r,qh,n),s===i)break;i=s}null!==i&&r.stopPropagation()}else Dc(t,e,r,null,n)}}function Xh(t){return Yh(t=$e(t))}var qh=null;function Yh(t){if(qh=null,null!==(t=Ht(t))){var e=P(t);if(null===e)t=null;else{var n=e.tag;if(13===n){if(null!==(t=N(e)))return t;t=null}else if(3===n){if(e.stateNode.current.memoizedState.isDehydrated)return 3===e.tag?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return qh=t,null}function Jh(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(lt()){case ct:return 2;case ht:return 8;case pt:case dt:return 32;case ft:return 268435456;default:return 32}default:return 32}}var Qh=!1,Zh=null,tp=null,ep=null,np=new Map,rp=new Map,ip=[],sp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ap(t,e){switch(t){case"focusin":case"focusout":Zh=null;break;case"dragenter":case"dragleave":tp=null;break;case"mouseover":case"mouseout":ep=null;break;case"pointerover":case"pointerout":np.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":rp.delete(e.pointerId)}}function op(t,e,n,r,i,s){return null===t||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},null!==e&&(null!==(e=Xt(e))&&Bh(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,null!==i&&-1===e.indexOf(i)&&e.push(i),t)}function up(t){var e=Ht(t.target);if(null!==e){var n=P(e);if(null!==n)if(13===(e=n.tag)){if(null!==(e=N(n)))return t.blockedOn=e,void function(t,e){var n=j.p;try{return j.p=t,e()}finally{j.p=n}}(t.priority,(function(){if(13===n.tag){var t=Il(),e=Cr(n,t);null!==e&&Ol(e,0,t),jh(n,t)}}))}else if(3===e&&n.stateNode.current.memoizedState.isDehydrated)return void(t.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}t.blockedOn=null}function lp(t){if(null!==t.blockedOn)return!1;for(var e=t.targetContainers;0<e.length;){var n=Xh(t.nativeEvent);if(null!==n)return null!==(e=Xt(n))&&Bh(e),t.blockedOn=n,!1;var r=new(n=t.nativeEvent).constructor(n.type,n);Ie=r,n.target.dispatchEvent(r),Ie=null,e.shift()}return!0}function cp(t,e,n){lp(t)&&n.delete(e)}function hp(){Qh=!1,null!==Zh&&lp(Zh)&&(Zh=null),null!==tp&&lp(tp)&&(tp=null),null!==ep&&lp(ep)&&(ep=null),np.forEach(cp),rp.forEach(cp)}function pp(t,e){t.blockedOn===e&&(t.blockedOn=null,Qh||(Qh=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,hp)))}var dp=null;function fp(t){dp!==t&&(dp=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,(function(){dp===t&&(dp=null);for(var e=0;e<t.length;e+=3){var n=t[e],r=t[e+1],i=t[e+2];if("function"!==typeof r){if(null===Yh(r||n))continue;break}var s=Xt(n);null!==s&&(t.splice(e,3),e-=3,ca(s,{pending:!0,data:i,method:n.method,action:r},r,i))}})))}function mp(t){function e(e){return pp(e,t)}null!==Zh&&pp(Zh,t),null!==tp&&pp(tp,t),null!==ep&&pp(ep,t),np.forEach(e),rp.forEach(e);for(var n=0;n<ip.length;n++){var r=ip[n];r.blockedOn===t&&(r.blockedOn=null)}for(;0<ip.length&&null===(n=ip[0]).blockedOn;)up(n),null===n.blockedOn&&ip.shift();if(null!=(n=(t.ownerDocument||t).$$reactFormReplay))for(r=0;r<n.length;r+=3){var i=n[r],s=n[r+1],a=i[Ft]||null;if("function"===typeof s)a||fp(n);else if(a){var o=null;if(s&&s.hasAttribute("formAction")){if(i=s,a=s[Ft]||null)o=a.formAction;else if(null!==Yh(i))continue}else o=a.action;"function"===typeof o?n[r+1]=o:(n.splice(r,3),r-=3),fp(n)}}}function gp(t){this._internalRoot=t}function yp(t){this._internalRoot=t}yp.prototype.render=gp.prototype.render=function(t){var e=this._internalRoot;if(null===e)throw Error(a(409));Vh(e.current,Il(),t,e,null,null)},yp.prototype.unmount=gp.prototype.unmount=function(){var t=this._internalRoot;if(null!==t){this._internalRoot=null;var e=t.containerInfo;0===t.tag&&ec(),Vh(t.current,2,null,t,null,null),Nl(),e[Vt]=null}},yp.prototype.unstable_scheduleHydration=function(t){if(t){var e=Mt();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ip.length&&0!==e&&e<ip[n].priority;n++);ip.splice(n,0,t),0===n&&up(t)}};var bp=i.version;if("19.0.0"!==bp)throw Error(a(527,bp,"19.0.0"));j.findDOMNode=function(t){var e=t._reactInternals;if(void 0===e){if("function"===typeof t.render)throw Error(a(188));throw t=Object.keys(t).join(","),Error(a(268,t))}return t=function(t){var e=t.alternate;if(!e){if(null===(e=P(t)))throw Error(a(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(null===i)break;var s=i.alternate;if(null===s){if(null!==(r=i.return)){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return F(i),t;if(s===r)return F(i),e;s=s.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,u=i.child;u;){if(u===n){o=!0,n=i,r=s;break}if(u===r){o=!0,r=i,n=s;break}u=u.sibling}if(!o){for(u=s.child;u;){if(u===n){o=!0,n=s,r=i;break}if(u===r){o=!0,r=s,n=i;break}u=u.sibling}if(!o)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?t:e}(e),t=null===(t=null!==t?V(t):null)?null:t.stateNode};var xp={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:I,findFiberByHostInstance:Ht,reconcilerVersion:"19.0.0"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var vp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vp.isDisabled&&vp.supportsFiber)try{yt=vp.inject(xp),bt=vp}catch(Sp){}}e.createRoot=function(t,e){if(!o(t))throw Error(a(299));var n=!1,r="",i=Da,s=za,u=Ma;return null!==e&&void 0!==e&&(!0===e.unstable_strictMode&&(n=!0),void 0!==e.identifierPrefix&&(r=e.identifierPrefix),void 0!==e.onUncaughtError&&(i=e.onUncaughtError),void 0!==e.onCaughtError&&(s=e.onCaughtError),void 0!==e.onRecoverableError&&(u=e.onRecoverableError),void 0!==e.unstable_transitionCallbacks&&e.unstable_transitionCallbacks),e=Nh(t,1,!1,null,0,n,r,i,s,u,0,null),t[Vt]=e.current,Oc(8===t.nodeType?t.parentNode:t),new gp(e)},e.hydrateRoot=function(t,e,n){if(!o(t))throw Error(a(299));var r=!1,i="",s=Da,u=za,l=Ma,c=null;return null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(i=n.identifierPrefix),void 0!==n.onUncaughtError&&(s=n.onUncaughtError),void 0!==n.onCaughtError&&(u=n.onCaughtError),void 0!==n.onRecoverableError&&(l=n.onRecoverableError),void 0!==n.unstable_transitionCallbacks&&n.unstable_transitionCallbacks,void 0!==n.formState&&(c=n.formState)),(e=Nh(t,1,!0,e,0,r,i,s,u,l,0,c)).context=Fh(null),n=e.current,(i=$o(r=Il())).callback=null,Oo(n,i,r),e.current.lanes=r,Ot(e,r),mc(e),t[Vt]=e.current,Oc(t),new yp(e)},e.version="19.0.0"},43:(t,e,n)=>{"use strict";t.exports=n(288)},191:(t,e)=>{"use strict";var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler");Symbol.for("react.provider");var o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.for("react.offscreen"),m=Symbol.for("react.client.reference");function g(t){if("object"===typeof t&&null!==t){var e=t.$$typeof;switch(e){case n:switch(t=t.type){case i:case a:case s:case c:case h:return t;default:switch(t=t&&t.$$typeof){case u:case l:case d:case p:case o:return t;default:return e}}case r:return e}}}e.Hy=function(t){return"string"===typeof t||"function"===typeof t||t===i||t===a||t===s||t===c||t===h||t===f||"object"===typeof t&&null!==t&&(t.$$typeof===d||t.$$typeof===p||t.$$typeof===u||t.$$typeof===o||t.$$typeof===l||t.$$typeof===m||void 0!==t.getModuleId)}},219:(t,e,n)=>{"use strict";var r=n(763),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},s={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},o={};function u(t){return r.isMemo(t)?a:o[t.$$typeof]||i}o[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},o[r.Memo]=a;var l=Object.defineProperty,c=Object.getOwnPropertyNames,h=Object.getOwnPropertySymbols,p=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,f=Object.prototype;t.exports=function t(e,n,r){if("string"!==typeof n){if(f){var i=d(n);i&&i!==f&&t(e,i,r)}var a=c(n);h&&(a=a.concat(h(n)));for(var o=u(e),m=u(n),g=0;g<a.length;++g){var y=a[g];if(!s[y]&&(!r||!r[y])&&(!m||!m[y])&&(!o||!o[y])){var b=p(n,y);try{l(e,y,b)}catch(x){}}}}return e}},277:function(t){t.exports=function(){"use strict";function t(t,e){if("undefined"===typeof document)return;const n=document.createElement("textarea");n.value=t,n.setAttribute("readonly",""),n.style={position:"absolute",left:"-9999px"},document.body.appendChild(n);const r=document.getSelection().rangeCount>0&&document.getSelection().getRangeAt(0);n.select();let i=!1;try{i=!!document.execCommand("copy")}catch(s){i=!1}document.body.removeChild(n),r&&document.getSelection&&(document.getSelection().removeAllRanges(),document.getSelection().addRange(r)),e&&e(i)}return t}()},288:(t,e)=>{"use strict";var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),d=Symbol.iterator;var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function y(t,e,n){this.props=t,this.context=e,this.refs=g,this.updater=n||f}function b(){}function x(t,e,n){this.props=t,this.context=e,this.refs=g,this.updater=n||f}y.prototype.isReactComponent={},y.prototype.setState=function(t,e){if("object"!==typeof t&&"function"!==typeof t&&null!=t)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")},y.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},b.prototype=y.prototype;var v=x.prototype=new b;v.constructor=x,m(v,y.prototype),v.isPureReactComponent=!0;var w=Array.isArray,S={H:null,A:null,T:null,S:null},k=Object.prototype.hasOwnProperty;function T(t,e,r,i,s,a){return r=a.ref,{$$typeof:n,type:t,key:e,ref:void 0!==r?r:null,props:a}}function A(t){return"object"===typeof t&&null!==t&&t.$$typeof===n}var E=/\/+/g;function _(t,e){return"object"===typeof t&&null!==t&&null!=t.key?function(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,(function(t){return e[t]}))}(""+t.key):e.toString(36)}function L(){}function C(t,e,i,s,a){var o=typeof t;"undefined"!==o&&"boolean"!==o||(t=null);var u,l,c=!1;if(null===t)c=!0;else switch(o){case"bigint":case"string":case"number":c=!0;break;case"object":switch(t.$$typeof){case n:case r:c=!0;break;case p:return C((c=t._init)(t._payload),e,i,s,a)}}if(c)return a=a(t),c=""===s?"."+_(t,0):s,w(a)?(i="",null!=c&&(i=c.replace(E,"$&/")+"/"),C(a,e,i,"",(function(t){return t}))):null!=a&&(A(a)&&(u=a,l=i+(null==a.key||t&&t.key===a.key?"":(""+a.key).replace(E,"$&/")+"/")+c,a=T(u.type,l,void 0,0,0,u.props)),e.push(a)),1;c=0;var h,f=""===s?".":s+":";if(w(t))for(var m=0;m<t.length;m++)c+=C(s=t[m],e,i,o=f+_(s,m),a);else if("function"===typeof(m=null===(h=t)||"object"!==typeof h?null:"function"===typeof(h=d&&h[d]||h["@@iterator"])?h:null))for(t=m.call(t),m=0;!(s=t.next()).done;)c+=C(s=s.value,e,i,o=f+_(s,m++),a);else if("object"===o){if("function"===typeof t.then)return C(function(t){switch(t.status){case"fulfilled":return t.value;case"rejected":throw t.reason;default:switch("string"===typeof t.status?t.then(L,L):(t.status="pending",t.then((function(e){"pending"===t.status&&(t.status="fulfilled",t.value=e)}),(function(e){"pending"===t.status&&(t.status="rejected",t.reason=e)}))),t.status){case"fulfilled":return t.value;case"rejected":throw t.reason}}throw t}(t),e,i,s,a);throw e=String(t),Error("Objects are not valid as a React child (found: "+("[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.")}return c}function I(t,e,n){if(null==t)return t;var r=[],i=0;return C(t,r,"","",(function(t){return e.call(n,t,i++)})),r}function $(t){if(-1===t._status){var e=t._result;(e=e()).then((function(e){0!==t._status&&-1!==t._status||(t._status=1,t._result=e)}),(function(e){0!==t._status&&-1!==t._status||(t._status=2,t._result=e)})),-1===t._status&&(t._status=0,t._result=e)}if(1===t._status)return t._result.default;throw t._result}var O="function"===typeof reportError?reportError:function(t){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof t&&null!==t&&"string"===typeof t.message?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",t);console.error(t)};function R(){}e.Children={map:I,forEach:function(t,e,n){I(t,(function(){e.apply(this,arguments)}),n)},count:function(t){var e=0;return I(t,(function(){e++})),e},toArray:function(t){return I(t,(function(t){return t}))||[]},only:function(t){if(!A(t))throw Error("React.Children.only expected to receive a single React element child.");return t}},e.Component=y,e.Fragment=i,e.Profiler=a,e.PureComponent=x,e.StrictMode=s,e.Suspense=c,e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=S,e.act=function(){throw Error("act(...) is not supported in production builds of React.")},e.cache=function(t){return function(){return t.apply(null,arguments)}},e.cloneElement=function(t,e,n){if(null===t||void 0===t)throw Error("The argument must be a React element, but you passed "+t+".");var r=m({},t.props),i=t.key;if(null!=e)for(s in void 0!==e.ref&&void 0,void 0!==e.key&&(i=""+e.key),e)!k.call(e,s)||"key"===s||"__self"===s||"__source"===s||"ref"===s&&void 0===e.ref||(r[s]=e[s]);var s=arguments.length-2;if(1===s)r.children=n;else if(1<s){for(var a=Array(s),o=0;o<s;o++)a[o]=arguments[o+2];r.children=a}return T(t.type,i,void 0,0,0,r)},e.createContext=function(t){return(t={$$typeof:u,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null}).Provider=t,t.Consumer={$$typeof:o,_context:t},t},e.createElement=function(t,e,n){var r,i={},s=null;if(null!=e)for(r in void 0!==e.key&&(s=""+e.key),e)k.call(e,r)&&"key"!==r&&"__self"!==r&&"__source"!==r&&(i[r]=e[r]);var a=arguments.length-2;if(1===a)i.children=n;else if(1<a){for(var o=Array(a),u=0;u<a;u++)o[u]=arguments[u+2];i.children=o}if(t&&t.defaultProps)for(r in a=t.defaultProps)void 0===i[r]&&(i[r]=a[r]);return T(t,s,void 0,0,0,i)},e.createRef=function(){return{current:null}},e.forwardRef=function(t){return{$$typeof:l,render:t}},e.isValidElement=A,e.lazy=function(t){return{$$typeof:p,_payload:{_status:-1,_result:t},_init:$}},e.memo=function(t,e){return{$$typeof:h,type:t,compare:void 0===e?null:e}},e.startTransition=function(t){var e=S.T,n={};S.T=n;try{var r=t(),i=S.S;null!==i&&i(n,r),"object"===typeof r&&null!==r&&"function"===typeof r.then&&r.then(R,O)}catch(s){O(s)}finally{S.T=e}},e.unstable_useCacheRefresh=function(){return S.H.useCacheRefresh()},e.use=function(t){return S.H.use(t)},e.useActionState=function(t,e,n){return S.H.useActionState(t,e,n)},e.useCallback=function(t,e){return S.H.useCallback(t,e)},e.useContext=function(t){return S.H.useContext(t)},e.useDebugValue=function(){},e.useDeferredValue=function(t,e){return S.H.useDeferredValue(t,e)},e.useEffect=function(t,e){return S.H.useEffect(t,e)},e.useId=function(){return S.H.useId()},e.useImperativeHandle=function(t,e,n){return S.H.useImperativeHandle(t,e,n)},e.useInsertionEffect=function(t,e){return S.H.useInsertionEffect(t,e)},e.useLayoutEffect=function(t,e){return S.H.useLayoutEffect(t,e)},e.useMemo=function(t,e){return S.H.useMemo(t,e)},e.useOptimistic=function(t,e){return S.H.useOptimistic(t,e)},e.useReducer=function(t,e,n){return S.H.useReducer(t,e,n)},e.useRef=function(t){return S.H.useRef(t)},e.useState=function(t){return S.H.useState(t)},e.useSyncExternalStore=function(t,e,n){return S.H.useSyncExternalStore(t,e,n)},e.useTransition=function(){return S.H.useTransition()},e.version="19.0.0"},391:(t,e,n)=>{"use strict";!function t(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}(),t.exports=n(4)},579:(t,e,n)=>{"use strict";t.exports=n(799)},672:(t,e,n)=>{"use strict";var r=n(43);function i(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var a={d:{f:s,r:function(){throw Error(i(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},o=Symbol.for("react.portal");var u=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(t,e){return"font"===t?"":"string"===typeof e?"use-credentials"===e?e:"":void 0}e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,e.createPortal=function(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)throw Error(i(299));return function(t,e,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:o,key:null==r?null:""+r,children:t,containerInfo:e,implementation:n}}(t,e,null,n)},e.flushSync=function(t){var e=u.T,n=a.p;try{if(u.T=null,a.p=2,t)return t()}finally{u.T=e,a.p=n,a.d.f()}},e.preconnect=function(t,e){"string"===typeof t&&(e?e="string"===typeof(e=e.crossOrigin)?"use-credentials"===e?e:"":void 0:e=null,a.d.C(t,e))},e.prefetchDNS=function(t){"string"===typeof t&&a.d.D(t)},e.preinit=function(t,e){if("string"===typeof t&&e&&"string"===typeof e.as){var n=e.as,r=l(n,e.crossOrigin),i="string"===typeof e.integrity?e.integrity:void 0,s="string"===typeof e.fetchPriority?e.fetchPriority:void 0;"style"===n?a.d.S(t,"string"===typeof e.precedence?e.precedence:void 0,{crossOrigin:r,integrity:i,fetchPriority:s}):"script"===n&&a.d.X(t,{crossOrigin:r,integrity:i,fetchPriority:s,nonce:"string"===typeof e.nonce?e.nonce:void 0})}},e.preinitModule=function(t,e){if("string"===typeof t)if("object"===typeof e&&null!==e){if(null==e.as||"script"===e.as){var n=l(e.as,e.crossOrigin);a.d.M(t,{crossOrigin:n,integrity:"string"===typeof e.integrity?e.integrity:void 0,nonce:"string"===typeof e.nonce?e.nonce:void 0})}}else null==e&&a.d.M(t)},e.preload=function(t,e){if("string"===typeof t&&"object"===typeof e&&null!==e&&"string"===typeof e.as){var n=e.as,r=l(n,e.crossOrigin);a.d.L(t,n,{crossOrigin:r,integrity:"string"===typeof e.integrity?e.integrity:void 0,nonce:"string"===typeof e.nonce?e.nonce:void 0,type:"string"===typeof e.type?e.type:void 0,fetchPriority:"string"===typeof e.fetchPriority?e.fetchPriority:void 0,referrerPolicy:"string"===typeof e.referrerPolicy?e.referrerPolicy:void 0,imageSrcSet:"string"===typeof e.imageSrcSet?e.imageSrcSet:void 0,imageSizes:"string"===typeof e.imageSizes?e.imageSizes:void 0,media:"string"===typeof e.media?e.media:void 0})}},e.preloadModule=function(t,e){if("string"===typeof t)if(e){var n=l(e.as,e.crossOrigin);a.d.m(t,{as:"string"===typeof e.as&&"script"!==e.as?e.as:void 0,crossOrigin:n,integrity:"string"===typeof e.integrity?e.integrity:void 0})}else a.d.m(t)},e.requestFormReset=function(t){a.d.r(t)},e.unstable_batchedUpdates=function(t,e){return t(e)},e.useFormState=function(t,e,n){return u.H.useFormState(t,e,n)},e.useFormStatus=function(){return u.H.useHostTransitionStatus()},e.version="19.0.0"},763:(t,e,n)=>{"use strict";t.exports=n(983)},790:function(t,e,n){!function(t){"use strict";function e(t){return Math.max(0,t)}function r(t,e){return t<=0?0:e}var i=Object.freeze({__proto__:null,activate:e,measure:r});function s(t){return 1/(1+Math.exp(-t))}function a(t,e){return t*(1-t)*e}var o=Object.freeze({__proto__:null,activate:s,measure:a});function u(t){return Math.tanh(t)}function l(t,e){return(1-t*t)*e}var c=Object.freeze({__proto__:null,activate:u,measure:l});function h(t){return t>0?t:.01*t}function p(t,e){return t>0?e:.01*e}var d=Object.freeze({__proto__:null,activate:h,measure:p}),f=Object.freeze({__proto__:null,relu:i,sigmoid:o,tanh:c,leakyRelu:d}),m="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{};function g(t,e,n){return t(n={path:e,exports:{},require:function(t,e){return y(t,void 0===e||null===e?n.path:e)}},n.exports),n.exports}function y(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var b=g((function(t,e){var n;n=function(){return function(){function t(e,n,r){function i(a,o){if(!n[a]){if(!e[a]){var u="function"==typeof y&&y;if(!o&&u)return u(a,!0);if(s)return s(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[a]={exports:{}};e[a][0].call(c.exports,(function(t){return i(e[a][1][t]||t)}),c,c.exports,t,e,n,r)}return n[a].exports}for(var s="function"==typeof y&&y,a=0;a<r.length;a++)i(r[a]);return i}return t}()({1:[function(t,e,n){!function(t,r){r("object"===typeof n&&"undefined"!==typeof e?n:(t=t||self).acorn={})}(this,(function(t){var e={3:"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile",5:"class enum extends super const export import",6:"enum",strict:"implements interface let package private protected public static yield",strictBind:"eval arguments"},n="break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this",r={5:n,"5module":n+" export import",6:n+" const class extends export import super"},i=/^in(stanceof)?$/,s="\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0370-\u0374\u0376\u0377\u037a-\u037d\u037f\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u052f\u0531-\u0556\u0559\u0560-\u0588\u05d0-\u05ea\u05ef-\u05f2\u0620-\u064a\u066e\u066f\u0671-\u06d3\u06d5\u06e5\u06e6\u06ee\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07ca-\u07ea\u07f4\u07f5\u07fa\u0800-\u0815\u081a\u0824\u0828\u0840-\u0858\u0860-\u086a\u08a0-\u08b4\u08b6-\u08bd\u0904-\u0939\u093d\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc\u09dd\u09df-\u09e1\u09f0\u09f1\u09fc\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0\u0ae1\u0af9\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3d\u0b5c\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c39\u0c3d\u0c58-\u0c5a\u0c60\u0c61\u0c80\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0\u0ce1\u0cf1\u0cf2\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d4e\u0d54-\u0d56\u0d5f-\u0d61\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32\u0e33\u0e40-\u0e46\u0e81\u0e82\u0e84\u0e86-\u0e8a\u0e8c-\u0ea3\u0ea5\u0ea7-\u0eb0\u0eb2\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0edc-\u0edf\u0f00\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8c\u1000-\u102a\u103f\u1050-\u1055\u105a-\u105d\u1061\u1065\u1066\u106e-\u1070\u1075-\u1081\u108e\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f5\u13f8-\u13fd\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f8\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u1820-\u1878\u1880-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191e\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19b0-\u19c9\u1a00-\u1a16\u1a20-\u1a54\u1aa7\u1b05-\u1b33\u1b45-\u1b4b\u1b83-\u1ba0\u1bae\u1baf\u1bba-\u1be5\u1c00-\u1c23\u1c4d-\u1c4f\u1c5a-\u1c7d\u1c80-\u1c88\u1c90-\u1cba\u1cbd-\u1cbf\u1ce9-\u1cec\u1cee-\u1cf3\u1cf5\u1cf6\u1cfa\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2118-\u211d\u2124\u2126\u2128\u212a-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cee\u2cf2\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303c\u3041-\u3096\u309b-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312f\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fef\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua61f\ua62a\ua62b\ua640-\ua66e\ua67f-\ua69d\ua6a0-\ua6ef\ua717-\ua71f\ua722-\ua788\ua78b-\ua7bf\ua7c2-\ua7c6\ua7f7-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8f2-\ua8f7\ua8fb\ua8fd\ua8fe\ua90a-\ua925\ua930-\ua946\ua960-\ua97c\ua984-\ua9b2\ua9cf\ua9e0-\ua9e4\ua9e6-\ua9ef\ua9fa-\ua9fe\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa60-\uaa76\uaa7a\uaa7e-\uaaaf\uaab1\uaab5\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb-\uaadd\uaae0-\uaaea\uaaf2-\uaaf4\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uab30-\uab5a\uab5c-\uab67\uab70-\uabe2\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc",a="\u200c\u200d\xb7\u0300-\u036f\u0387\u0483-\u0487\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u0669\u0670\u06d6-\u06dc\u06df-\u06e4\u06e7\u06e8\u06ea-\u06ed\u06f0-\u06f9\u0711\u0730-\u074a\u07a6-\u07b0\u07c0-\u07c9\u07eb-\u07f3\u07fd\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0859-\u085b\u08d3-\u08e1\u08e3-\u0903\u093a-\u093c\u093e-\u094f\u0951-\u0957\u0962\u0963\u0966-\u096f\u0981-\u0983\u09bc\u09be-\u09c4\u09c7\u09c8\u09cb-\u09cd\u09d7\u09e2\u09e3\u09e6-\u09ef\u09fe\u0a01-\u0a03\u0a3c\u0a3e-\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a66-\u0a71\u0a75\u0a81-\u0a83\u0abc\u0abe-\u0ac5\u0ac7-\u0ac9\u0acb-\u0acd\u0ae2\u0ae3\u0ae6-\u0aef\u0afa-\u0aff\u0b01-\u0b03\u0b3c\u0b3e-\u0b44\u0b47\u0b48\u0b4b-\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b66-\u0b6f\u0b82\u0bbe-\u0bc2\u0bc6-\u0bc8\u0bca-\u0bcd\u0bd7\u0be6-\u0bef\u0c00-\u0c04\u0c3e-\u0c44\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0c66-\u0c6f\u0c81-\u0c83\u0cbc\u0cbe-\u0cc4\u0cc6-\u0cc8\u0cca-\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0ce6-\u0cef\u0d00-\u0d03\u0d3b\u0d3c\u0d3e-\u0d44\u0d46-\u0d48\u0d4a-\u0d4d\u0d57\u0d62\u0d63\u0d66-\u0d6f\u0d82\u0d83\u0dca\u0dcf-\u0dd4\u0dd6\u0dd8-\u0ddf\u0de6-\u0def\u0df2\u0df3\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0e50-\u0e59\u0eb1\u0eb4-\u0ebc\u0ec8-\u0ecd\u0ed0-\u0ed9\u0f18\u0f19\u0f20-\u0f29\u0f35\u0f37\u0f39\u0f3e\u0f3f\u0f71-\u0f84\u0f86\u0f87\u0f8d-\u0f97\u0f99-\u0fbc\u0fc6\u102b-\u103e\u1040-\u1049\u1056-\u1059\u105e-\u1060\u1062-\u1064\u1067-\u106d\u1071-\u1074\u1082-\u108d\u108f-\u109d\u135d-\u135f\u1369-\u1371\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b4-\u17d3\u17dd\u17e0-\u17e9\u180b-\u180d\u1810-\u1819\u18a9\u1920-\u192b\u1930-\u193b\u1946-\u194f\u19d0-\u19da\u1a17-\u1a1b\u1a55-\u1a5e\u1a60-\u1a7c\u1a7f-\u1a89\u1a90-\u1a99\u1ab0-\u1abd\u1b00-\u1b04\u1b34-\u1b44\u1b50-\u1b59\u1b6b-\u1b73\u1b80-\u1b82\u1ba1-\u1bad\u1bb0-\u1bb9\u1be6-\u1bf3\u1c24-\u1c37\u1c40-\u1c49\u1c50-\u1c59\u1cd0-\u1cd2\u1cd4-\u1ce8\u1ced\u1cf4\u1cf7-\u1cf9\u1dc0-\u1df9\u1dfb-\u1dff\u203f\u2040\u2054\u20d0-\u20dc\u20e1\u20e5-\u20f0\u2cef-\u2cf1\u2d7f\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua620-\ua629\ua66f\ua674-\ua67d\ua69e\ua69f\ua6f0\ua6f1\ua802\ua806\ua80b\ua823-\ua827\ua880\ua881\ua8b4-\ua8c5\ua8d0-\ua8d9\ua8e0-\ua8f1\ua8ff-\ua909\ua926-\ua92d\ua947-\ua953\ua980-\ua983\ua9b3-\ua9c0\ua9d0-\ua9d9\ua9e5\ua9f0-\ua9f9\uaa29-\uaa36\uaa43\uaa4c\uaa4d\uaa50-\uaa59\uaa7b-\uaa7d\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uaaeb-\uaaef\uaaf5\uaaf6\uabe3-\uabea\uabec\uabed\uabf0-\uabf9\ufb1e\ufe00-\ufe0f\ufe20-\ufe2f\ufe33\ufe34\ufe4d-\ufe4f\uff10-\uff19\uff3f",o=new RegExp("["+s+"]"),u=new RegExp("["+s+a+"]");s=a=null;var l=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,157,310,10,21,11,7,153,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,477,28,11,0,9,21,155,22,13,52,76,44,33,24,27,35,30,0,12,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,85,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,159,52,19,3,21,0,33,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,230,43,117,63,32,0,161,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,35,56,264,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,270,921,103,110,18,195,2749,1070,4050,582,8634,568,8,30,114,29,19,47,17,3,32,20,6,18,689,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,754,9486,286,50,2,18,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,2357,44,11,6,17,0,370,43,1301,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42710,42,4148,12,221,3,5761,15,7472,3104,541],c=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,525,10,176,2,54,14,32,9,16,3,46,10,54,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,4,9,83,11,7,0,161,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,193,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,84,14,5,9,243,14,166,9,232,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,406,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,19306,9,135,4,60,6,26,9,1014,0,2,54,8,3,19723,1,5319,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,262,6,10,9,419,13,1495,6,110,6,6,9,792487,239];function h(t,e){for(var n=65536,r=0;r<e.length;r+=2){if((n+=e[r])>t)return!1;if((n+=e[r+1])>=t)return!0}}function p(t,e){return t<65?36===t:t<91||(t<97?95===t:t<123||(t<=65535?t>=170&&o.test(String.fromCharCode(t)):!1!==e&&h(t,l)))}function d(t,e){return t<48?36===t:t<58||!(t<65)&&(t<91||(t<97?95===t:t<123||(t<=65535?t>=170&&u.test(String.fromCharCode(t)):!1!==e&&(h(t,l)||h(t,c)))))}var f=function(t,e){void 0===e&&(e={}),this.label=t,this.keyword=e.keyword,this.beforeExpr=!!e.beforeExpr,this.startsExpr=!!e.startsExpr,this.isLoop=!!e.isLoop,this.isAssign=!!e.isAssign,this.prefix=!!e.prefix,this.postfix=!!e.postfix,this.binop=e.binop||null,this.updateContext=null};function m(t,e){return new f(t,{beforeExpr:!0,binop:e})}var g={beforeExpr:!0},y={startsExpr:!0},b={};function x(t,e){return void 0===e&&(e={}),e.keyword=t,b[t]=new f(t,e)}var v={num:new f("num",y),regexp:new f("regexp",y),string:new f("string",y),name:new f("name",y),eof:new f("eof"),bracketL:new f("[",{beforeExpr:!0,startsExpr:!0}),bracketR:new f("]"),braceL:new f("{",{beforeExpr:!0,startsExpr:!0}),braceR:new f("}"),parenL:new f("(",{beforeExpr:!0,startsExpr:!0}),parenR:new f(")"),comma:new f(",",g),semi:new f(";",g),colon:new f(":",g),dot:new f("."),question:new f("?",g),arrow:new f("=>",g),template:new f("template"),invalidTemplate:new f("invalidTemplate"),ellipsis:new f("...",g),backQuote:new f("`",y),dollarBraceL:new f("${",{beforeExpr:!0,startsExpr:!0}),eq:new f("=",{beforeExpr:!0,isAssign:!0}),assign:new f("_=",{beforeExpr:!0,isAssign:!0}),incDec:new f("++/--",{prefix:!0,postfix:!0,startsExpr:!0}),prefix:new f("!/~",{beforeExpr:!0,prefix:!0,startsExpr:!0}),logicalOR:m("||",1),logicalAND:m("&&",2),bitwiseOR:m("|",3),bitwiseXOR:m("^",4),bitwiseAND:m("&",5),equality:m("==/!=/===/!==",6),relational:m("</>/<=/>=",7),bitShift:m("<</>>/>>>",8),plusMin:new f("+/-",{beforeExpr:!0,binop:9,prefix:!0,startsExpr:!0}),modulo:m("%",10),star:m("*",10),slash:m("/",10),starstar:new f("**",{beforeExpr:!0}),_break:x("break"),_case:x("case",g),_catch:x("catch"),_continue:x("continue"),_debugger:x("debugger"),_default:x("default",g),_do:x("do",{isLoop:!0,beforeExpr:!0}),_else:x("else",g),_finally:x("finally"),_for:x("for",{isLoop:!0}),_function:x("function",y),_if:x("if"),_return:x("return",g),_switch:x("switch"),_throw:x("throw",g),_try:x("try"),_var:x("var"),_const:x("const"),_while:x("while",{isLoop:!0}),_with:x("with"),_new:x("new",{beforeExpr:!0,startsExpr:!0}),_this:x("this",y),_super:x("super",y),_class:x("class",y),_extends:x("extends",g),_export:x("export"),_import:x("import",y),_null:x("null",y),_true:x("true",y),_false:x("false",y),_in:x("in",{beforeExpr:!0,binop:7}),_instanceof:x("instanceof",{beforeExpr:!0,binop:7}),_typeof:x("typeof",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_void:x("void",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_delete:x("delete",{beforeExpr:!0,prefix:!0,startsExpr:!0})},w=/\r\n?|\n|\u2028|\u2029/,S=new RegExp(w.source,"g");function k(t,e){return 10===t||13===t||!e&&(8232===t||8233===t)}var T=/[\u1680\u2000-\u200a\u202f\u205f\u3000\ufeff]/,A=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,E=Object.prototype,_=E.hasOwnProperty,L=E.toString;function C(t,e){return _.call(t,e)}var I=Array.isArray||function(t){return"[object Array]"===L.call(t)};function $(t){return new RegExp("^(?:"+t.replace(/ /g,"|")+")$")}var O=function(t,e){this.line=t,this.column=e};O.prototype.offset=function(t){return new O(this.line,this.column+t)};var R=function(t,e,n){this.start=e,this.end=n,null!==t.sourceFile&&(this.source=t.sourceFile)};function D(t,e){for(var n=1,r=0;;){S.lastIndex=r;var i=S.exec(t);if(!(i&&i.index<e))return new O(n,e-r);++n,r=i.index+i[0].length}}var z={ecmaVersion:10,sourceType:"script",onInsertedSemicolon:null,onTrailingComma:null,allowReserved:null,allowReturnOutsideFunction:!1,allowImportExportEverywhere:!1,allowAwaitOutsideFunction:!1,allowHashBang:!1,locations:!1,onToken:null,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null,preserveParens:!1};function M(t){var e={};for(var n in z)e[n]=t&&C(t,n)?t[n]:z[n];if(e.ecmaVersion>=2015&&(e.ecmaVersion-=2009),null==e.allowReserved&&(e.allowReserved=e.ecmaVersion<5),I(e.onToken)){var r=e.onToken;e.onToken=function(t){return r.push(t)}}return I(e.onComment)&&(e.onComment=P(e,e.onComment)),e}function P(t,e){return function(n,r,i,s,a,o){var u={type:n?"Block":"Line",value:r,start:i,end:s};t.locations&&(u.loc=new R(this,a,o)),t.ranges&&(u.range=[i,s]),e.push(u)}}var N=1,F=2,V=N|F,K=4,j=8,B=16,U=32,G=64,W=128;function H(t,e){return F|(t?K:0)|(e?j:0)}var X=0,q=1,Y=2,J=3,Q=4,Z=5,tt=function(t,n,i){this.options=t=M(t),this.sourceFile=t.sourceFile,this.keywords=$(r[t.ecmaVersion>=6?6:"module"===t.sourceType?"5module":5]);var s="";if(!0!==t.allowReserved){for(var a=t.ecmaVersion;!(s=e[a]);a--);"module"===t.sourceType&&(s+=" await")}this.reservedWords=$(s);var o=(s?s+" ":"")+e.strict;this.reservedWordsStrict=$(o),this.reservedWordsStrictBind=$(o+" "+e.strictBind),this.input=String(n),this.containsEsc=!1,i?(this.pos=i,this.lineStart=this.input.lastIndexOf("\n",i-1)+1,this.curLine=this.input.slice(0,this.lineStart).split(w).length):(this.pos=this.lineStart=0,this.curLine=1),this.type=v.eof,this.value=null,this.start=this.end=this.pos,this.startLoc=this.endLoc=this.curPosition(),this.lastTokEndLoc=this.lastTokStartLoc=null,this.lastTokStart=this.lastTokEnd=this.pos,this.context=this.initialContext(),this.exprAllowed=!0,this.inModule="module"===t.sourceType,this.strict=this.inModule||this.strictDirective(this.pos),this.potentialArrowAt=-1,this.yieldPos=this.awaitPos=this.awaitIdentPos=0,this.labels=[],this.undefinedExports={},0===this.pos&&t.allowHashBang&&"#!"===this.input.slice(0,2)&&this.skipLineComment(2),this.scopeStack=[],this.enterScope(N),this.regexpState=null},et={inFunction:{configurable:!0},inGenerator:{configurable:!0},inAsync:{configurable:!0},allowSuper:{configurable:!0},allowDirectSuper:{configurable:!0},treatFunctionsAsVar:{configurable:!0}};tt.prototype.parse=function(){var t=this.options.program||this.startNode();return this.nextToken(),this.parseTopLevel(t)},et.inFunction.get=function(){return(this.currentVarScope().flags&F)>0},et.inGenerator.get=function(){return(this.currentVarScope().flags&j)>0},et.inAsync.get=function(){return(this.currentVarScope().flags&K)>0},et.allowSuper.get=function(){return(this.currentThisScope().flags&G)>0},et.allowDirectSuper.get=function(){return(this.currentThisScope().flags&W)>0},et.treatFunctionsAsVar.get=function(){return this.treatFunctionsAsVarInScope(this.currentScope())},tt.prototype.inNonArrowFunction=function(){return(this.currentThisScope().flags&F)>0},tt.extend=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];for(var n=this,r=0;r<t.length;r++)n=t[r](n);return n},tt.parse=function(t,e){return new this(e,t).parse()},tt.parseExpressionAt=function(t,e,n){var r=new this(n,t,e);return r.nextToken(),r.parseExpression()},tt.tokenizer=function(t,e){return new this(e,t)},Object.defineProperties(tt.prototype,et);var nt=tt.prototype,rt=/^(?:'((?:\\.|[^'])*?)'|"((?:\\.|[^"])*?)")/;function it(){this.shorthandAssign=this.trailingComma=this.parenthesizedAssign=this.parenthesizedBind=this.doubleProto=-1}nt.strictDirective=function(t){for(;;){A.lastIndex=t,t+=A.exec(this.input)[0].length;var e=rt.exec(this.input.slice(t));if(!e)return!1;if("use strict"===(e[1]||e[2]))return!0;t+=e[0].length,A.lastIndex=t,t+=A.exec(this.input)[0].length,";"===this.input[t]&&t++}},nt.eat=function(t){return this.type===t&&(this.next(),!0)},nt.isContextual=function(t){return this.type===v.name&&this.value===t&&!this.containsEsc},nt.eatContextual=function(t){return!!this.isContextual(t)&&(this.next(),!0)},nt.expectContextual=function(t){this.eatContextual(t)||this.unexpected()},nt.canInsertSemicolon=function(){return this.type===v.eof||this.type===v.braceR||w.test(this.input.slice(this.lastTokEnd,this.start))},nt.insertSemicolon=function(){if(this.canInsertSemicolon())return this.options.onInsertedSemicolon&&this.options.onInsertedSemicolon(this.lastTokEnd,this.lastTokEndLoc),!0},nt.semicolon=function(){this.eat(v.semi)||this.insertSemicolon()||this.unexpected()},nt.afterTrailingComma=function(t,e){if(this.type===t)return this.options.onTrailingComma&&this.options.onTrailingComma(this.lastTokStart,this.lastTokStartLoc),e||this.next(),!0},nt.expect=function(t){this.eat(t)||this.unexpected()},nt.unexpected=function(t){this.raise(null!=t?t:this.start,"Unexpected token")},nt.checkPatternErrors=function(t,e){if(t){t.trailingComma>-1&&this.raiseRecoverable(t.trailingComma,"Comma is not permitted after the rest element");var n=e?t.parenthesizedAssign:t.parenthesizedBind;n>-1&&this.raiseRecoverable(n,"Parenthesized pattern")}},nt.checkExpressionErrors=function(t,e){if(!t)return!1;var n=t.shorthandAssign,r=t.doubleProto;if(!e)return n>=0||r>=0;n>=0&&this.raise(n,"Shorthand property assignments are valid only in destructuring patterns"),r>=0&&this.raiseRecoverable(r,"Redefinition of __proto__ property")},nt.checkYieldAwaitInDefaultParams=function(){this.yieldPos&&(!this.awaitPos||this.yieldPos<this.awaitPos)&&this.raise(this.yieldPos,"Yield expression cannot be a default value"),this.awaitPos&&this.raise(this.awaitPos,"Await expression cannot be a default value")},nt.isSimpleAssignTarget=function(t){return"ParenthesizedExpression"===t.type?this.isSimpleAssignTarget(t.expression):"Identifier"===t.type||"MemberExpression"===t.type};var st=tt.prototype;st.parseTopLevel=function(t){var e={};for(t.body||(t.body=[]);this.type!==v.eof;){var n=this.parseStatement(null,!0,e);t.body.push(n)}if(this.inModule)for(var r=0,i=Object.keys(this.undefinedExports);r<i.length;r+=1){var s=i[r];this.raiseRecoverable(this.undefinedExports[s].start,"Export '"+s+"' is not defined")}return this.adaptDirectivePrologue(t.body),this.next(),t.sourceType=this.options.sourceType,this.finishNode(t,"Program")};var at={kind:"loop"},ot={kind:"switch"};st.isLet=function(t){if(this.options.ecmaVersion<6||!this.isContextual("let"))return!1;A.lastIndex=this.pos;var e=A.exec(this.input),n=this.pos+e[0].length,r=this.input.charCodeAt(n);if(91===r)return!0;if(t)return!1;if(123===r)return!0;if(p(r,!0)){for(var s=n+1;d(this.input.charCodeAt(s),!0);)++s;var a=this.input.slice(n,s);if(!i.test(a))return!0}return!1},st.isAsyncFunction=function(){if(this.options.ecmaVersion<8||!this.isContextual("async"))return!1;A.lastIndex=this.pos;var t=A.exec(this.input),e=this.pos+t[0].length;return!w.test(this.input.slice(this.pos,e))&&"function"===this.input.slice(e,e+8)&&(e+8===this.input.length||!d(this.input.charAt(e+8)))},st.parseStatement=function(t,e,n){var r,i=this.type,s=this.startNode();switch(this.isLet(t)&&(i=v._var,r="let"),i){case v._break:case v._continue:return this.parseBreakContinueStatement(s,i.keyword);case v._debugger:return this.parseDebuggerStatement(s);case v._do:return this.parseDoStatement(s);case v._for:return this.parseForStatement(s);case v._function:return t&&(this.strict||"if"!==t&&"label"!==t)&&this.options.ecmaVersion>=6&&this.unexpected(),this.parseFunctionStatement(s,!1,!t);case v._class:return t&&this.unexpected(),this.parseClass(s,!0);case v._if:return this.parseIfStatement(s);case v._return:return this.parseReturnStatement(s);case v._switch:return this.parseSwitchStatement(s);case v._throw:return this.parseThrowStatement(s);case v._try:return this.parseTryStatement(s);case v._const:case v._var:return r=r||this.value,t&&"var"!==r&&this.unexpected(),this.parseVarStatement(s,r);case v._while:return this.parseWhileStatement(s);case v._with:return this.parseWithStatement(s);case v.braceL:return this.parseBlock(!0,s);case v.semi:return this.parseEmptyStatement(s);case v._export:case v._import:if(this.options.ecmaVersion>10&&i===v._import){A.lastIndex=this.pos;var a=A.exec(this.input),o=this.pos+a[0].length;if(40===this.input.charCodeAt(o))return this.parseExpressionStatement(s,this.parseExpression())}return this.options.allowImportExportEverywhere||(e||this.raise(this.start,"'import' and 'export' may only appear at the top level"),this.inModule||this.raise(this.start,"'import' and 'export' may appear only with 'sourceType: module'")),i===v._import?this.parseImport(s):this.parseExport(s,n);default:if(this.isAsyncFunction())return t&&this.unexpected(),this.next(),this.parseFunctionStatement(s,!0,!t);var u=this.value,l=this.parseExpression();return i===v.name&&"Identifier"===l.type&&this.eat(v.colon)?this.parseLabeledStatement(s,u,l,t):this.parseExpressionStatement(s,l)}},st.parseBreakContinueStatement=function(t,e){var n="break"===e;this.next(),this.eat(v.semi)||this.insertSemicolon()?t.label=null:this.type!==v.name?this.unexpected():(t.label=this.parseIdent(),this.semicolon());for(var r=0;r<this.labels.length;++r){var i=this.labels[r];if(null==t.label||i.name===t.label.name){if(null!=i.kind&&(n||"loop"===i.kind))break;if(t.label&&n)break}}return r===this.labels.length&&this.raise(t.start,"Unsyntactic "+e),this.finishNode(t,n?"BreakStatement":"ContinueStatement")},st.parseDebuggerStatement=function(t){return this.next(),this.semicolon(),this.finishNode(t,"DebuggerStatement")},st.parseDoStatement=function(t){return this.next(),this.labels.push(at),t.body=this.parseStatement("do"),this.labels.pop(),this.expect(v._while),t.test=this.parseParenExpression(),this.options.ecmaVersion>=6?this.eat(v.semi):this.semicolon(),this.finishNode(t,"DoWhileStatement")},st.parseForStatement=function(t){this.next();var e=this.options.ecmaVersion>=9&&(this.inAsync||!this.inFunction&&this.options.allowAwaitOutsideFunction)&&this.eatContextual("await")?this.lastTokStart:-1;if(this.labels.push(at),this.enterScope(0),this.expect(v.parenL),this.type===v.semi)return e>-1&&this.unexpected(e),this.parseFor(t,null);var n=this.isLet();if(this.type===v._var||this.type===v._const||n){var r=this.startNode(),i=n?"let":this.value;return this.next(),this.parseVar(r,!0,i),this.finishNode(r,"VariableDeclaration"),(this.type===v._in||this.options.ecmaVersion>=6&&this.isContextual("of"))&&1===r.declarations.length?(this.options.ecmaVersion>=9&&(this.type===v._in?e>-1&&this.unexpected(e):t.await=e>-1),this.parseForIn(t,r)):(e>-1&&this.unexpected(e),this.parseFor(t,r))}var s=new it,a=this.parseExpression(!0,s);return this.type===v._in||this.options.ecmaVersion>=6&&this.isContextual("of")?(this.options.ecmaVersion>=9&&(this.type===v._in?e>-1&&this.unexpected(e):t.await=e>-1),this.toAssignable(a,!1,s),this.checkLVal(a),this.parseForIn(t,a)):(this.checkExpressionErrors(s,!0),e>-1&&this.unexpected(e),this.parseFor(t,a))},st.parseFunctionStatement=function(t,e,n){return this.next(),this.parseFunction(t,lt|(n?0:ct),!1,e)},st.parseIfStatement=function(t){return this.next(),t.test=this.parseParenExpression(),t.consequent=this.parseStatement("if"),t.alternate=this.eat(v._else)?this.parseStatement("if"):null,this.finishNode(t,"IfStatement")},st.parseReturnStatement=function(t){return this.inFunction||this.options.allowReturnOutsideFunction||this.raise(this.start,"'return' outside of function"),this.next(),this.eat(v.semi)||this.insertSemicolon()?t.argument=null:(t.argument=this.parseExpression(),this.semicolon()),this.finishNode(t,"ReturnStatement")},st.parseSwitchStatement=function(t){var e;this.next(),t.discriminant=this.parseParenExpression(),t.cases=[],this.expect(v.braceL),this.labels.push(ot),this.enterScope(0);for(var n=!1;this.type!==v.braceR;)if(this.type===v._case||this.type===v._default){var r=this.type===v._case;e&&this.finishNode(e,"SwitchCase"),t.cases.push(e=this.startNode()),e.consequent=[],this.next(),r?e.test=this.parseExpression():(n&&this.raiseRecoverable(this.lastTokStart,"Multiple default clauses"),n=!0,e.test=null),this.expect(v.colon)}else e||this.unexpected(),e.consequent.push(this.parseStatement(null));return this.exitScope(),e&&this.finishNode(e,"SwitchCase"),this.next(),this.labels.pop(),this.finishNode(t,"SwitchStatement")},st.parseThrowStatement=function(t){return this.next(),w.test(this.input.slice(this.lastTokEnd,this.start))&&this.raise(this.lastTokEnd,"Illegal newline after throw"),t.argument=this.parseExpression(),this.semicolon(),this.finishNode(t,"ThrowStatement")};var ut=[];st.parseTryStatement=function(t){if(this.next(),t.block=this.parseBlock(),t.handler=null,this.type===v._catch){var e=this.startNode();if(this.next(),this.eat(v.parenL)){e.param=this.parseBindingAtom();var n="Identifier"===e.param.type;this.enterScope(n?U:0),this.checkLVal(e.param,n?Q:Y),this.expect(v.parenR)}else this.options.ecmaVersion<10&&this.unexpected(),e.param=null,this.enterScope(0);e.body=this.parseBlock(!1),this.exitScope(),t.handler=this.finishNode(e,"CatchClause")}return t.finalizer=this.eat(v._finally)?this.parseBlock():null,t.handler||t.finalizer||this.raise(t.start,"Missing catch or finally clause"),this.finishNode(t,"TryStatement")},st.parseVarStatement=function(t,e){return this.next(),this.parseVar(t,!1,e),this.semicolon(),this.finishNode(t,"VariableDeclaration")},st.parseWhileStatement=function(t){return this.next(),t.test=this.parseParenExpression(),this.labels.push(at),t.body=this.parseStatement("while"),this.labels.pop(),this.finishNode(t,"WhileStatement")},st.parseWithStatement=function(t){return this.strict&&this.raise(this.start,"'with' in strict mode"),this.next(),t.object=this.parseParenExpression(),t.body=this.parseStatement("with"),this.finishNode(t,"WithStatement")},st.parseEmptyStatement=function(t){return this.next(),this.finishNode(t,"EmptyStatement")},st.parseLabeledStatement=function(t,e,n,r){for(var i=0,s=this.labels;i<s.length;i+=1)s[i].name===e&&this.raise(n.start,"Label '"+e+"' is already declared");for(var a=this.type.isLoop?"loop":this.type===v._switch?"switch":null,o=this.labels.length-1;o>=0;o--){var u=this.labels[o];if(u.statementStart!==t.start)break;u.statementStart=this.start,u.kind=a}return this.labels.push({name:e,kind:a,statementStart:this.start}),t.body=this.parseStatement(r?-1===r.indexOf("label")?r+"label":r:"label"),this.labels.pop(),t.label=n,this.finishNode(t,"LabeledStatement")},st.parseExpressionStatement=function(t,e){return t.expression=e,this.semicolon(),this.finishNode(t,"ExpressionStatement")},st.parseBlock=function(t,e){for(void 0===t&&(t=!0),void 0===e&&(e=this.startNode()),e.body=[],this.expect(v.braceL),t&&this.enterScope(0);!this.eat(v.braceR);){var n=this.parseStatement(null);e.body.push(n)}return t&&this.exitScope(),this.finishNode(e,"BlockStatement")},st.parseFor=function(t,e){return t.init=e,this.expect(v.semi),t.test=this.type===v.semi?null:this.parseExpression(),this.expect(v.semi),t.update=this.type===v.parenR?null:this.parseExpression(),this.expect(v.parenR),t.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(t,"ForStatement")},st.parseForIn=function(t,e){var n=this.type===v._in;return this.next(),"VariableDeclaration"===e.type&&null!=e.declarations[0].init&&(!n||this.options.ecmaVersion<8||this.strict||"var"!==e.kind||"Identifier"!==e.declarations[0].id.type)?this.raise(e.start,(n?"for-in":"for-of")+" loop variable declaration may not have an initializer"):"AssignmentPattern"===e.type&&this.raise(e.start,"Invalid left-hand side in for-loop"),t.left=e,t.right=n?this.parseExpression():this.parseMaybeAssign(),this.expect(v.parenR),t.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(t,n?"ForInStatement":"ForOfStatement")},st.parseVar=function(t,e,n){for(t.declarations=[],t.kind=n;;){var r=this.startNode();if(this.parseVarId(r,n),this.eat(v.eq)?r.init=this.parseMaybeAssign(e):"const"!==n||this.type===v._in||this.options.ecmaVersion>=6&&this.isContextual("of")?"Identifier"===r.id.type||e&&(this.type===v._in||this.isContextual("of"))?r.init=null:this.raise(this.lastTokEnd,"Complex binding patterns require an initialization value"):this.unexpected(),t.declarations.push(this.finishNode(r,"VariableDeclarator")),!this.eat(v.comma))break}return t},st.parseVarId=function(t,e){t.id=this.parseBindingAtom(),this.checkLVal(t.id,"var"===e?q:Y,!1)};var lt=1,ct=2,ht=4;st.parseFunction=function(t,e,n,r){this.initFunction(t),(this.options.ecmaVersion>=9||this.options.ecmaVersion>=6&&!r)&&(this.type===v.star&&e&ct&&this.unexpected(),t.generator=this.eat(v.star)),this.options.ecmaVersion>=8&&(t.async=!!r),e&lt&&(t.id=e&ht&&this.type!==v.name?null:this.parseIdent(),!t.id||e&ct||this.checkLVal(t.id,this.strict||t.generator||t.async?this.treatFunctionsAsVar?q:Y:J));var i=this.yieldPos,s=this.awaitPos,a=this.awaitIdentPos;return this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(H(t.async,t.generator)),e&lt||(t.id=this.type===v.name?this.parseIdent():null),this.parseFunctionParams(t),this.parseFunctionBody(t,n,!1),this.yieldPos=i,this.awaitPos=s,this.awaitIdentPos=a,this.finishNode(t,e&lt?"FunctionDeclaration":"FunctionExpression")},st.parseFunctionParams=function(t){this.expect(v.parenL),t.params=this.parseBindingList(v.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams()},st.parseClass=function(t,e){this.next();var n=this.strict;this.strict=!0,this.parseClassId(t,e),this.parseClassSuper(t);var r=this.startNode(),i=!1;for(r.body=[],this.expect(v.braceL);!this.eat(v.braceR);){var s=this.parseClassElement(null!==t.superClass);s&&(r.body.push(s),"MethodDefinition"===s.type&&"constructor"===s.kind&&(i&&this.raise(s.start,"Duplicate constructor in the same class"),i=!0))}return t.body=this.finishNode(r,"ClassBody"),this.strict=n,this.finishNode(t,e?"ClassDeclaration":"ClassExpression")},st.parseClassElement=function(t){var e=this;if(this.eat(v.semi))return null;var n=this.startNode(),r=function(t,r){void 0===r&&(r=!1);var i=e.start,s=e.startLoc;return!!e.eatContextual(t)&&(!(e.type===v.parenL||r&&e.canInsertSemicolon())||(n.key&&e.unexpected(),n.computed=!1,n.key=e.startNodeAt(i,s),n.key.name=t,e.finishNode(n.key,"Identifier"),!1))};n.kind="method",n.static=r("static");var i=this.eat(v.star),s=!1;i||(this.options.ecmaVersion>=8&&r("async",!0)?(s=!0,i=this.options.ecmaVersion>=9&&this.eat(v.star)):r("get")?n.kind="get":r("set")&&(n.kind="set")),n.key||this.parsePropertyName(n);var a=n.key,o=!1;return n.computed||n.static||!("Identifier"===a.type&&"constructor"===a.name||"Literal"===a.type&&"constructor"===a.value)?n.static&&"Identifier"===a.type&&"prototype"===a.name&&this.raise(a.start,"Classes may not have a static property named prototype"):("method"!==n.kind&&this.raise(a.start,"Constructor can't have get/set modifier"),i&&this.raise(a.start,"Constructor can't be a generator"),s&&this.raise(a.start,"Constructor can't be an async method"),n.kind="constructor",o=t),this.parseClassMethod(n,i,s,o),"get"===n.kind&&0!==n.value.params.length&&this.raiseRecoverable(n.value.start,"getter should have no params"),"set"===n.kind&&1!==n.value.params.length&&this.raiseRecoverable(n.value.start,"setter should have exactly one param"),"set"===n.kind&&"RestElement"===n.value.params[0].type&&this.raiseRecoverable(n.value.params[0].start,"Setter cannot use rest params"),n},st.parseClassMethod=function(t,e,n,r){return t.value=this.parseMethod(e,n,r),this.finishNode(t,"MethodDefinition")},st.parseClassId=function(t,e){this.type===v.name?(t.id=this.parseIdent(),e&&this.checkLVal(t.id,Y,!1)):(!0===e&&this.unexpected(),t.id=null)},st.parseClassSuper=function(t){t.superClass=this.eat(v._extends)?this.parseExprSubscripts():null},st.parseExport=function(t,e){if(this.next(),this.eat(v.star))return this.expectContextual("from"),this.type!==v.string&&this.unexpected(),t.source=this.parseExprAtom(),this.semicolon(),this.finishNode(t,"ExportAllDeclaration");if(this.eat(v._default)){var n;if(this.checkExport(e,"default",this.lastTokStart),this.type===v._function||(n=this.isAsyncFunction())){var r=this.startNode();this.next(),n&&this.next(),t.declaration=this.parseFunction(r,lt|ht,!1,n)}else if(this.type===v._class){var i=this.startNode();t.declaration=this.parseClass(i,"nullableID")}else t.declaration=this.parseMaybeAssign(),this.semicolon();return this.finishNode(t,"ExportDefaultDeclaration")}if(this.shouldParseExportStatement())t.declaration=this.parseStatement(null),"VariableDeclaration"===t.declaration.type?this.checkVariableExport(e,t.declaration.declarations):this.checkExport(e,t.declaration.id.name,t.declaration.id.start),t.specifiers=[],t.source=null;else{if(t.declaration=null,t.specifiers=this.parseExportSpecifiers(e),this.eatContextual("from"))this.type!==v.string&&this.unexpected(),t.source=this.parseExprAtom();else{for(var s=0,a=t.specifiers;s<a.length;s+=1){var o=a[s];this.checkUnreserved(o.local),this.checkLocalExport(o.local)}t.source=null}this.semicolon()}return this.finishNode(t,"ExportNamedDeclaration")},st.checkExport=function(t,e,n){t&&(C(t,e)&&this.raiseRecoverable(n,"Duplicate export '"+e+"'"),t[e]=!0)},st.checkPatternExport=function(t,e){var n=e.type;if("Identifier"===n)this.checkExport(t,e.name,e.start);else if("ObjectPattern"===n)for(var r=0,i=e.properties;r<i.length;r+=1){var s=i[r];this.checkPatternExport(t,s)}else if("ArrayPattern"===n)for(var a=0,o=e.elements;a<o.length;a+=1){var u=o[a];u&&this.checkPatternExport(t,u)}else"Property"===n?this.checkPatternExport(t,e.value):"AssignmentPattern"===n?this.checkPatternExport(t,e.left):"RestElement"===n?this.checkPatternExport(t,e.argument):"ParenthesizedExpression"===n&&this.checkPatternExport(t,e.expression)},st.checkVariableExport=function(t,e){if(t)for(var n=0,r=e;n<r.length;n+=1){var i=r[n];this.checkPatternExport(t,i.id)}},st.shouldParseExportStatement=function(){return"var"===this.type.keyword||"const"===this.type.keyword||"class"===this.type.keyword||"function"===this.type.keyword||this.isLet()||this.isAsyncFunction()},st.parseExportSpecifiers=function(t){var e=[],n=!0;for(this.expect(v.braceL);!this.eat(v.braceR);){if(n)n=!1;else if(this.expect(v.comma),this.afterTrailingComma(v.braceR))break;var r=this.startNode();r.local=this.parseIdent(!0),r.exported=this.eatContextual("as")?this.parseIdent(!0):r.local,this.checkExport(t,r.exported.name,r.exported.start),e.push(this.finishNode(r,"ExportSpecifier"))}return e},st.parseImport=function(t){return this.next(),this.type===v.string?(t.specifiers=ut,t.source=this.parseExprAtom()):(t.specifiers=this.parseImportSpecifiers(),this.expectContextual("from"),t.source=this.type===v.string?this.parseExprAtom():this.unexpected()),this.semicolon(),this.finishNode(t,"ImportDeclaration")},st.parseImportSpecifiers=function(){var t=[],e=!0;if(this.type===v.name){var n=this.startNode();if(n.local=this.parseIdent(),this.checkLVal(n.local,Y),t.push(this.finishNode(n,"ImportDefaultSpecifier")),!this.eat(v.comma))return t}if(this.type===v.star){var r=this.startNode();return this.next(),this.expectContextual("as"),r.local=this.parseIdent(),this.checkLVal(r.local,Y),t.push(this.finishNode(r,"ImportNamespaceSpecifier")),t}for(this.expect(v.braceL);!this.eat(v.braceR);){if(e)e=!1;else if(this.expect(v.comma),this.afterTrailingComma(v.braceR))break;var i=this.startNode();i.imported=this.parseIdent(!0),this.eatContextual("as")?i.local=this.parseIdent():(this.checkUnreserved(i.imported),i.local=i.imported),this.checkLVal(i.local,Y),t.push(this.finishNode(i,"ImportSpecifier"))}return t},st.adaptDirectivePrologue=function(t){for(var e=0;e<t.length&&this.isDirectiveCandidate(t[e]);++e)t[e].directive=t[e].expression.raw.slice(1,-1)},st.isDirectiveCandidate=function(t){return"ExpressionStatement"===t.type&&"Literal"===t.expression.type&&"string"===typeof t.expression.value&&('"'===this.input[t.start]||"'"===this.input[t.start])};var pt=tt.prototype;pt.toAssignable=function(t,e,n){if(this.options.ecmaVersion>=6&&t)switch(t.type){case"Identifier":this.inAsync&&"await"===t.name&&this.raise(t.start,"Cannot use 'await' as identifier inside an async function");break;case"ObjectPattern":case"ArrayPattern":case"RestElement":break;case"ObjectExpression":t.type="ObjectPattern",n&&this.checkPatternErrors(n,!0);for(var r=0,i=t.properties;r<i.length;r+=1){var s=i[r];this.toAssignable(s,e),"RestElement"!==s.type||"ArrayPattern"!==s.argument.type&&"ObjectPattern"!==s.argument.type||this.raise(s.argument.start,"Unexpected token")}break;case"Property":"init"!==t.kind&&this.raise(t.key.start,"Object pattern can't contain getter or setter"),this.toAssignable(t.value,e);break;case"ArrayExpression":t.type="ArrayPattern",n&&this.checkPatternErrors(n,!0),this.toAssignableList(t.elements,e);break;case"SpreadElement":t.type="RestElement",this.toAssignable(t.argument,e),"AssignmentPattern"===t.argument.type&&this.raise(t.argument.start,"Rest elements cannot have a default value");break;case"AssignmentExpression":"="!==t.operator&&this.raise(t.left.end,"Only '=' operator can be used for specifying default value."),t.type="AssignmentPattern",delete t.operator,this.toAssignable(t.left,e);case"AssignmentPattern":break;case"ParenthesizedExpression":this.toAssignable(t.expression,e,n);break;case"MemberExpression":if(!e)break;default:this.raise(t.start,"Assigning to rvalue")}else n&&this.checkPatternErrors(n,!0);return t},pt.toAssignableList=function(t,e){for(var n=t.length,r=0;r<n;r++){var i=t[r];i&&this.toAssignable(i,e)}if(n){var s=t[n-1];6===this.options.ecmaVersion&&e&&s&&"RestElement"===s.type&&"Identifier"!==s.argument.type&&this.unexpected(s.argument.start)}return t},pt.parseSpread=function(t){var e=this.startNode();return this.next(),e.argument=this.parseMaybeAssign(!1,t),this.finishNode(e,"SpreadElement")},pt.parseRestBinding=function(){var t=this.startNode();return this.next(),6===this.options.ecmaVersion&&this.type!==v.name&&this.unexpected(),t.argument=this.parseBindingAtom(),this.finishNode(t,"RestElement")},pt.parseBindingAtom=function(){if(this.options.ecmaVersion>=6)switch(this.type){case v.bracketL:var t=this.startNode();return this.next(),t.elements=this.parseBindingList(v.bracketR,!0,!0),this.finishNode(t,"ArrayPattern");case v.braceL:return this.parseObj(!0)}return this.parseIdent()},pt.parseBindingList=function(t,e,n){for(var r=[],i=!0;!this.eat(t);)if(i?i=!1:this.expect(v.comma),e&&this.type===v.comma)r.push(null);else{if(n&&this.afterTrailingComma(t))break;if(this.type===v.ellipsis){var s=this.parseRestBinding();this.parseBindingListItem(s),r.push(s),this.type===v.comma&&this.raise(this.start,"Comma is not permitted after the rest element"),this.expect(t);break}var a=this.parseMaybeDefault(this.start,this.startLoc);this.parseBindingListItem(a),r.push(a)}return r},pt.parseBindingListItem=function(t){return t},pt.parseMaybeDefault=function(t,e,n){if(n=n||this.parseBindingAtom(),this.options.ecmaVersion<6||!this.eat(v.eq))return n;var r=this.startNodeAt(t,e);return r.left=n,r.right=this.parseMaybeAssign(),this.finishNode(r,"AssignmentPattern")},pt.checkLVal=function(t,e,n){switch(void 0===e&&(e=X),t.type){case"Identifier":e===Y&&"let"===t.name&&this.raiseRecoverable(t.start,"let is disallowed as a lexically bound name"),this.strict&&this.reservedWordsStrictBind.test(t.name)&&this.raiseRecoverable(t.start,(e?"Binding ":"Assigning to ")+t.name+" in strict mode"),n&&(C(n,t.name)&&this.raiseRecoverable(t.start,"Argument name clash"),n[t.name]=!0),e!==X&&e!==Z&&this.declareName(t.name,e,t.start);break;case"MemberExpression":e&&this.raiseRecoverable(t.start,"Binding member expression");break;case"ObjectPattern":for(var r=0,i=t.properties;r<i.length;r+=1){var s=i[r];this.checkLVal(s,e,n)}break;case"Property":this.checkLVal(t.value,e,n);break;case"ArrayPattern":for(var a=0,o=t.elements;a<o.length;a+=1){var u=o[a];u&&this.checkLVal(u,e,n)}break;case"AssignmentPattern":this.checkLVal(t.left,e,n);break;case"RestElement":this.checkLVal(t.argument,e,n);break;case"ParenthesizedExpression":this.checkLVal(t.expression,e,n);break;default:this.raise(t.start,(e?"Binding":"Assigning to")+" rvalue")}};var dt=tt.prototype;dt.checkPropClash=function(t,e,n){if(!(this.options.ecmaVersion>=9&&"SpreadElement"===t.type)&&!(this.options.ecmaVersion>=6&&(t.computed||t.method||t.shorthand))){var r,i=t.key;switch(i.type){case"Identifier":r=i.name;break;case"Literal":r=String(i.value);break;default:return}var s=t.kind;if(this.options.ecmaVersion>=6)"__proto__"===r&&"init"===s&&(e.proto&&(n?n.doubleProto<0&&(n.doubleProto=i.start):this.raiseRecoverable(i.start,"Redefinition of __proto__ property")),e.proto=!0);else{var a=e[r="$"+r];a?("init"===s?this.strict&&a.init||a.get||a.set:a.init||a[s])&&this.raiseRecoverable(i.start,"Redefinition of property"):a=e[r]={init:!1,get:!1,set:!1},a[s]=!0}}},dt.parseExpression=function(t,e){var n=this.start,r=this.startLoc,i=this.parseMaybeAssign(t,e);if(this.type===v.comma){var s=this.startNodeAt(n,r);for(s.expressions=[i];this.eat(v.comma);)s.expressions.push(this.parseMaybeAssign(t,e));return this.finishNode(s,"SequenceExpression")}return i},dt.parseMaybeAssign=function(t,e,n){if(this.isContextual("yield")){if(this.inGenerator)return this.parseYield(t);this.exprAllowed=!1}var r=!1,i=-1,s=-1;e?(i=e.parenthesizedAssign,s=e.trailingComma,e.parenthesizedAssign=e.trailingComma=-1):(e=new it,r=!0);var a=this.start,o=this.startLoc;this.type!==v.parenL&&this.type!==v.name||(this.potentialArrowAt=this.start);var u=this.parseMaybeConditional(t,e);if(n&&(u=n.call(this,u,a,o)),this.type.isAssign){var l=this.startNodeAt(a,o);return l.operator=this.value,l.left=this.type===v.eq?this.toAssignable(u,!1,e):u,r||(e.parenthesizedAssign=e.trailingComma=e.doubleProto=-1),e.shorthandAssign>=l.left.start&&(e.shorthandAssign=-1),this.checkLVal(u),this.next(),l.right=this.parseMaybeAssign(t),this.finishNode(l,"AssignmentExpression")}return r&&this.checkExpressionErrors(e,!0),i>-1&&(e.parenthesizedAssign=i),s>-1&&(e.trailingComma=s),u},dt.parseMaybeConditional=function(t,e){var n=this.start,r=this.startLoc,i=this.parseExprOps(t,e);if(this.checkExpressionErrors(e))return i;if(this.eat(v.question)){var s=this.startNodeAt(n,r);return s.test=i,s.consequent=this.parseMaybeAssign(),this.expect(v.colon),s.alternate=this.parseMaybeAssign(t),this.finishNode(s,"ConditionalExpression")}return i},dt.parseExprOps=function(t,e){var n=this.start,r=this.startLoc,i=this.parseMaybeUnary(e,!1);return this.checkExpressionErrors(e)||i.start===n&&"ArrowFunctionExpression"===i.type?i:this.parseExprOp(i,n,r,-1,t)},dt.parseExprOp=function(t,e,n,r,i){var s=this.type.binop;if(null!=s&&(!i||this.type!==v._in)&&s>r){var a=this.type===v.logicalOR||this.type===v.logicalAND,o=this.value;this.next();var u=this.start,l=this.startLoc,c=this.parseExprOp(this.parseMaybeUnary(null,!1),u,l,s,i),h=this.buildBinary(e,n,t,c,o,a);return this.parseExprOp(h,e,n,r,i)}return t},dt.buildBinary=function(t,e,n,r,i,s){var a=this.startNodeAt(t,e);return a.left=n,a.operator=i,a.right=r,this.finishNode(a,s?"LogicalExpression":"BinaryExpression")},dt.parseMaybeUnary=function(t,e){var n,r=this.start,i=this.startLoc;if(this.isContextual("await")&&(this.inAsync||!this.inFunction&&this.options.allowAwaitOutsideFunction))n=this.parseAwait(),e=!0;else if(this.type.prefix){var s=this.startNode(),a=this.type===v.incDec;s.operator=this.value,s.prefix=!0,this.next(),s.argument=this.parseMaybeUnary(null,!0),this.checkExpressionErrors(t,!0),a?this.checkLVal(s.argument):this.strict&&"delete"===s.operator&&"Identifier"===s.argument.type?this.raiseRecoverable(s.start,"Deleting local variable in strict mode"):e=!0,n=this.finishNode(s,a?"UpdateExpression":"UnaryExpression")}else{if(n=this.parseExprSubscripts(t),this.checkExpressionErrors(t))return n;for(;this.type.postfix&&!this.canInsertSemicolon();){var o=this.startNodeAt(r,i);o.operator=this.value,o.prefix=!1,o.argument=n,this.checkLVal(n),this.next(),n=this.finishNode(o,"UpdateExpression")}}return!e&&this.eat(v.starstar)?this.buildBinary(r,i,n,this.parseMaybeUnary(null,!1),"**",!1):n},dt.parseExprSubscripts=function(t){var e=this.start,n=this.startLoc,r=this.parseExprAtom(t);if("ArrowFunctionExpression"===r.type&&")"!==this.input.slice(this.lastTokStart,this.lastTokEnd))return r;var i=this.parseSubscripts(r,e,n);return t&&"MemberExpression"===i.type&&(t.parenthesizedAssign>=i.start&&(t.parenthesizedAssign=-1),t.parenthesizedBind>=i.start&&(t.parenthesizedBind=-1)),i},dt.parseSubscripts=function(t,e,n,r){for(var i=this.options.ecmaVersion>=8&&"Identifier"===t.type&&"async"===t.name&&this.lastTokEnd===t.end&&!this.canInsertSemicolon()&&"async"===this.input.slice(t.start,t.end);;){var s=this.parseSubscript(t,e,n,r,i);if(s===t||"ArrowFunctionExpression"===s.type)return s;t=s}},dt.parseSubscript=function(t,e,n,r,i){var s=this.eat(v.bracketL);if(s||this.eat(v.dot)){var a=this.startNodeAt(e,n);a.object=t,a.property=s?this.parseExpression():this.parseIdent("never"!==this.options.allowReserved),a.computed=!!s,s&&this.expect(v.bracketR),t=this.finishNode(a,"MemberExpression")}else if(!r&&this.eat(v.parenL)){var o=new it,u=this.yieldPos,l=this.awaitPos,c=this.awaitIdentPos;this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0;var h=this.parseExprList(v.parenR,this.options.ecmaVersion>=8,!1,o);if(i&&!this.canInsertSemicolon()&&this.eat(v.arrow))return this.checkPatternErrors(o,!1),this.checkYieldAwaitInDefaultParams(),this.awaitIdentPos>0&&this.raise(this.awaitIdentPos,"Cannot use 'await' as identifier inside an async function"),this.yieldPos=u,this.awaitPos=l,this.awaitIdentPos=c,this.parseArrowExpression(this.startNodeAt(e,n),h,!0);this.checkExpressionErrors(o,!0),this.yieldPos=u||this.yieldPos,this.awaitPos=l||this.awaitPos,this.awaitIdentPos=c||this.awaitIdentPos;var p=this.startNodeAt(e,n);p.callee=t,p.arguments=h,t=this.finishNode(p,"CallExpression")}else if(this.type===v.backQuote){var d=this.startNodeAt(e,n);d.tag=t,d.quasi=this.parseTemplate({isTagged:!0}),t=this.finishNode(d,"TaggedTemplateExpression")}return t},dt.parseExprAtom=function(t){this.type===v.slash&&this.readRegexp();var e,n=this.potentialArrowAt===this.start;switch(this.type){case v._super:return this.allowSuper||this.raise(this.start,"'super' keyword outside a method"),e=this.startNode(),this.next(),this.type!==v.parenL||this.allowDirectSuper||this.raise(e.start,"super() call outside constructor of a subclass"),this.type!==v.dot&&this.type!==v.bracketL&&this.type!==v.parenL&&this.unexpected(),this.finishNode(e,"Super");case v._this:return e=this.startNode(),this.next(),this.finishNode(e,"ThisExpression");case v.name:var r=this.start,i=this.startLoc,s=this.containsEsc,a=this.parseIdent(!1);if(this.options.ecmaVersion>=8&&!s&&"async"===a.name&&!this.canInsertSemicolon()&&this.eat(v._function))return this.parseFunction(this.startNodeAt(r,i),0,!1,!0);if(n&&!this.canInsertSemicolon()){if(this.eat(v.arrow))return this.parseArrowExpression(this.startNodeAt(r,i),[a],!1);if(this.options.ecmaVersion>=8&&"async"===a.name&&this.type===v.name&&!s)return a=this.parseIdent(!1),!this.canInsertSemicolon()&&this.eat(v.arrow)||this.unexpected(),this.parseArrowExpression(this.startNodeAt(r,i),[a],!0)}return a;case v.regexp:var o=this.value;return(e=this.parseLiteral(o.value)).regex={pattern:o.pattern,flags:o.flags},e;case v.num:case v.string:return this.parseLiteral(this.value);case v._null:case v._true:case v._false:return(e=this.startNode()).value=this.type===v._null?null:this.type===v._true,e.raw=this.type.keyword,this.next(),this.finishNode(e,"Literal");case v.parenL:var u=this.start,l=this.parseParenAndDistinguishExpression(n);return t&&(t.parenthesizedAssign<0&&!this.isSimpleAssignTarget(l)&&(t.parenthesizedAssign=u),t.parenthesizedBind<0&&(t.parenthesizedBind=u)),l;case v.bracketL:return e=this.startNode(),this.next(),e.elements=this.parseExprList(v.bracketR,!0,!0,t),this.finishNode(e,"ArrayExpression");case v.braceL:return this.parseObj(!1,t);case v._function:return e=this.startNode(),this.next(),this.parseFunction(e,0);case v._class:return this.parseClass(this.startNode(),!1);case v._new:return this.parseNew();case v.backQuote:return this.parseTemplate();case v._import:return this.options.ecmaVersion>=11?this.parseExprImport():this.unexpected();default:this.unexpected()}},dt.parseExprImport=function(){var t=this.startNode();if(this.next(),this.type===v.parenL)return this.parseDynamicImport(t);this.unexpected()},dt.parseDynamicImport=function(t){if(this.next(),t.source=this.parseMaybeAssign(),!this.eat(v.parenR)){var e=this.start;this.eat(v.comma)&&this.eat(v.parenR)?this.raiseRecoverable(e,"Trailing comma is not allowed in import()"):this.unexpected(e)}return this.finishNode(t,"ImportExpression")},dt.parseLiteral=function(t){var e=this.startNode();return e.value=t,e.raw=this.input.slice(this.start,this.end),110===e.raw.charCodeAt(e.raw.length-1)&&(e.bigint=e.raw.slice(0,-1)),this.next(),this.finishNode(e,"Literal")},dt.parseParenExpression=function(){this.expect(v.parenL);var t=this.parseExpression();return this.expect(v.parenR),t},dt.parseParenAndDistinguishExpression=function(t){var e,n=this.start,r=this.startLoc,i=this.options.ecmaVersion>=8;if(this.options.ecmaVersion>=6){this.next();var s,a=this.start,o=this.startLoc,u=[],l=!0,c=!1,h=new it,p=this.yieldPos,d=this.awaitPos;for(this.yieldPos=0,this.awaitPos=0;this.type!==v.parenR;){if(l?l=!1:this.expect(v.comma),i&&this.afterTrailingComma(v.parenR,!0)){c=!0;break}if(this.type===v.ellipsis){s=this.start,u.push(this.parseParenItem(this.parseRestBinding())),this.type===v.comma&&this.raise(this.start,"Comma is not permitted after the rest element");break}u.push(this.parseMaybeAssign(!1,h,this.parseParenItem))}var f=this.start,m=this.startLoc;if(this.expect(v.parenR),t&&!this.canInsertSemicolon()&&this.eat(v.arrow))return this.checkPatternErrors(h,!1),this.checkYieldAwaitInDefaultParams(),this.yieldPos=p,this.awaitPos=d,this.parseParenArrowList(n,r,u);u.length&&!c||this.unexpected(this.lastTokStart),s&&this.unexpected(s),this.checkExpressionErrors(h,!0),this.yieldPos=p||this.yieldPos,this.awaitPos=d||this.awaitPos,u.length>1?((e=this.startNodeAt(a,o)).expressions=u,this.finishNodeAt(e,"SequenceExpression",f,m)):e=u[0]}else e=this.parseParenExpression();if(this.options.preserveParens){var g=this.startNodeAt(n,r);return g.expression=e,this.finishNode(g,"ParenthesizedExpression")}return e},dt.parseParenItem=function(t){return t},dt.parseParenArrowList=function(t,e,n){return this.parseArrowExpression(this.startNodeAt(t,e),n)};var ft=[];dt.parseNew=function(){this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword new");var t=this.startNode(),e=this.parseIdent(!0);if(this.options.ecmaVersion>=6&&this.eat(v.dot)){t.meta=e;var n=this.containsEsc;return t.property=this.parseIdent(!0),("target"!==t.property.name||n)&&this.raiseRecoverable(t.property.start,"The only valid meta property for new is new.target"),this.inNonArrowFunction()||this.raiseRecoverable(t.start,"new.target can only be used in functions"),this.finishNode(t,"MetaProperty")}var r=this.start,i=this.startLoc,s=this.type===v._import;return t.callee=this.parseSubscripts(this.parseExprAtom(),r,i,!0),s&&"ImportExpression"===t.callee.type&&this.raise(r,"Cannot use new with import()"),this.eat(v.parenL)?t.arguments=this.parseExprList(v.parenR,this.options.ecmaVersion>=8,!1):t.arguments=ft,this.finishNode(t,"NewExpression")},dt.parseTemplateElement=function(t){var e=t.isTagged,n=this.startNode();return this.type===v.invalidTemplate?(e||this.raiseRecoverable(this.start,"Bad escape sequence in untagged template literal"),n.value={raw:this.value,cooked:null}):n.value={raw:this.input.slice(this.start,this.end).replace(/\r\n?/g,"\n"),cooked:this.value},this.next(),n.tail=this.type===v.backQuote,this.finishNode(n,"TemplateElement")},dt.parseTemplate=function(t){void 0===t&&(t={});var e=t.isTagged;void 0===e&&(e=!1);var n=this.startNode();this.next(),n.expressions=[];var r=this.parseTemplateElement({isTagged:e});for(n.quasis=[r];!r.tail;)this.type===v.eof&&this.raise(this.pos,"Unterminated template literal"),this.expect(v.dollarBraceL),n.expressions.push(this.parseExpression()),this.expect(v.braceR),n.quasis.push(r=this.parseTemplateElement({isTagged:e}));return this.next(),this.finishNode(n,"TemplateLiteral")},dt.isAsyncProp=function(t){return!t.computed&&"Identifier"===t.key.type&&"async"===t.key.name&&(this.type===v.name||this.type===v.num||this.type===v.string||this.type===v.bracketL||this.type.keyword||this.options.ecmaVersion>=9&&this.type===v.star)&&!w.test(this.input.slice(this.lastTokEnd,this.start))},dt.parseObj=function(t,e){var n=this.startNode(),r=!0,i={};for(n.properties=[],this.next();!this.eat(v.braceR);){if(r)r=!1;else if(this.expect(v.comma),this.options.ecmaVersion>=5&&this.afterTrailingComma(v.braceR))break;var s=this.parseProperty(t,e);t||this.checkPropClash(s,i,e),n.properties.push(s)}return this.finishNode(n,t?"ObjectPattern":"ObjectExpression")},dt.parseProperty=function(t,e){var n,r,i,s,a=this.startNode();if(this.options.ecmaVersion>=9&&this.eat(v.ellipsis))return t?(a.argument=this.parseIdent(!1),this.type===v.comma&&this.raise(this.start,"Comma is not permitted after the rest element"),this.finishNode(a,"RestElement")):(this.type===v.parenL&&e&&(e.parenthesizedAssign<0&&(e.parenthesizedAssign=this.start),e.parenthesizedBind<0&&(e.parenthesizedBind=this.start)),a.argument=this.parseMaybeAssign(!1,e),this.type===v.comma&&e&&e.trailingComma<0&&(e.trailingComma=this.start),this.finishNode(a,"SpreadElement"));this.options.ecmaVersion>=6&&(a.method=!1,a.shorthand=!1,(t||e)&&(i=this.start,s=this.startLoc),t||(n=this.eat(v.star)));var o=this.containsEsc;return this.parsePropertyName(a),!t&&!o&&this.options.ecmaVersion>=8&&!n&&this.isAsyncProp(a)?(r=!0,n=this.options.ecmaVersion>=9&&this.eat(v.star),this.parsePropertyName(a,e)):r=!1,this.parsePropertyValue(a,t,n,r,i,s,e,o),this.finishNode(a,"Property")},dt.parsePropertyValue=function(t,e,n,r,i,s,a,o){if((n||r)&&this.type===v.colon&&this.unexpected(),this.eat(v.colon))t.value=e?this.parseMaybeDefault(this.start,this.startLoc):this.parseMaybeAssign(!1,a),t.kind="init";else if(this.options.ecmaVersion>=6&&this.type===v.parenL)e&&this.unexpected(),t.kind="init",t.method=!0,t.value=this.parseMethod(n,r);else if(e||o||!(this.options.ecmaVersion>=5)||t.computed||"Identifier"!==t.key.type||"get"!==t.key.name&&"set"!==t.key.name||this.type===v.comma||this.type===v.braceR)this.options.ecmaVersion>=6&&!t.computed&&"Identifier"===t.key.type?((n||r)&&this.unexpected(),this.checkUnreserved(t.key),"await"!==t.key.name||this.awaitIdentPos||(this.awaitIdentPos=i),t.kind="init",e?t.value=this.parseMaybeDefault(i,s,t.key):this.type===v.eq&&a?(a.shorthandAssign<0&&(a.shorthandAssign=this.start),t.value=this.parseMaybeDefault(i,s,t.key)):t.value=t.key,t.shorthand=!0):this.unexpected();else{(n||r)&&this.unexpected(),t.kind=t.key.name,this.parsePropertyName(t),t.value=this.parseMethod(!1);var u="get"===t.kind?0:1;if(t.value.params.length!==u){var l=t.value.start;"get"===t.kind?this.raiseRecoverable(l,"getter should have no params"):this.raiseRecoverable(l,"setter should have exactly one param")}else"set"===t.kind&&"RestElement"===t.value.params[0].type&&this.raiseRecoverable(t.value.params[0].start,"Setter cannot use rest params")}},dt.parsePropertyName=function(t){if(this.options.ecmaVersion>=6){if(this.eat(v.bracketL))return t.computed=!0,t.key=this.parseMaybeAssign(),this.expect(v.bracketR),t.key;t.computed=!1}return t.key=this.type===v.num||this.type===v.string?this.parseExprAtom():this.parseIdent("never"!==this.options.allowReserved)},dt.initFunction=function(t){t.id=null,this.options.ecmaVersion>=6&&(t.generator=t.expression=!1),this.options.ecmaVersion>=8&&(t.async=!1)},dt.parseMethod=function(t,e,n){var r=this.startNode(),i=this.yieldPos,s=this.awaitPos,a=this.awaitIdentPos;return this.initFunction(r),this.options.ecmaVersion>=6&&(r.generator=t),this.options.ecmaVersion>=8&&(r.async=!!e),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(H(e,r.generator)|G|(n?W:0)),this.expect(v.parenL),r.params=this.parseBindingList(v.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams(),this.parseFunctionBody(r,!1,!0),this.yieldPos=i,this.awaitPos=s,this.awaitIdentPos=a,this.finishNode(r,"FunctionExpression")},dt.parseArrowExpression=function(t,e,n){var r=this.yieldPos,i=this.awaitPos,s=this.awaitIdentPos;return this.enterScope(H(n,!1)|B),this.initFunction(t),this.options.ecmaVersion>=8&&(t.async=!!n),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,t.params=this.toAssignableList(e,!0),this.parseFunctionBody(t,!0,!1),this.yieldPos=r,this.awaitPos=i,this.awaitIdentPos=s,this.finishNode(t,"ArrowFunctionExpression")},dt.parseFunctionBody=function(t,e,n){var r=e&&this.type!==v.braceL,i=this.strict,s=!1;if(r)t.body=this.parseMaybeAssign(),t.expression=!0,this.checkParams(t,!1);else{var a=this.options.ecmaVersion>=7&&!this.isSimpleParamList(t.params);i&&!a||(s=this.strictDirective(this.end))&&a&&this.raiseRecoverable(t.start,"Illegal 'use strict' directive in function with non-simple parameter list");var o=this.labels;this.labels=[],s&&(this.strict=!0),this.checkParams(t,!i&&!s&&!e&&!n&&this.isSimpleParamList(t.params)),t.body=this.parseBlock(!1),t.expression=!1,this.adaptDirectivePrologue(t.body.body),this.labels=o}this.exitScope(),this.strict&&t.id&&this.checkLVal(t.id,Z),this.strict=i},dt.isSimpleParamList=function(t){for(var e=0,n=t;e<n.length;e+=1)if("Identifier"!==n[e].type)return!1;return!0},dt.checkParams=function(t,e){for(var n={},r=0,i=t.params;r<i.length;r+=1){var s=i[r];this.checkLVal(s,q,e?null:n)}},dt.parseExprList=function(t,e,n,r){for(var i=[],s=!0;!this.eat(t);){if(s)s=!1;else if(this.expect(v.comma),e&&this.afterTrailingComma(t))break;var a=void 0;n&&this.type===v.comma?a=null:this.type===v.ellipsis?(a=this.parseSpread(r),r&&this.type===v.comma&&r.trailingComma<0&&(r.trailingComma=this.start)):a=this.parseMaybeAssign(!1,r),i.push(a)}return i},dt.checkUnreserved=function(t){var e=t.start,n=t.end,r=t.name;this.inGenerator&&"yield"===r&&this.raiseRecoverable(e,"Cannot use 'yield' as identifier inside a generator"),this.inAsync&&"await"===r&&this.raiseRecoverable(e,"Cannot use 'await' as identifier inside an async function"),this.keywords.test(r)&&this.raise(e,"Unexpected keyword '"+r+"'"),this.options.ecmaVersion<6&&-1!==this.input.slice(e,n).indexOf("\\")||(this.strict?this.reservedWordsStrict:this.reservedWords).test(r)&&(this.inAsync||"await"!==r||this.raiseRecoverable(e,"Cannot use keyword 'await' outside an async function"),this.raiseRecoverable(e,"The keyword '"+r+"' is reserved"))},dt.parseIdent=function(t,e){var n=this.startNode();return this.type===v.name?n.name=this.value:this.type.keyword?(n.name=this.type.keyword,"class"!==n.name&&"function"!==n.name||this.lastTokEnd===this.lastTokStart+1&&46===this.input.charCodeAt(this.lastTokStart)||this.context.pop()):this.unexpected(),this.next(!!t),this.finishNode(n,"Identifier"),t||(this.checkUnreserved(n),"await"!==n.name||this.awaitIdentPos||(this.awaitIdentPos=n.start)),n},dt.parseYield=function(t){this.yieldPos||(this.yieldPos=this.start);var e=this.startNode();return this.next(),this.type===v.semi||this.canInsertSemicolon()||this.type!==v.star&&!this.type.startsExpr?(e.delegate=!1,e.argument=null):(e.delegate=this.eat(v.star),e.argument=this.parseMaybeAssign(t)),this.finishNode(e,"YieldExpression")},dt.parseAwait=function(){this.awaitPos||(this.awaitPos=this.start);var t=this.startNode();return this.next(),t.argument=this.parseMaybeUnary(null,!1),this.finishNode(t,"AwaitExpression")};var mt=tt.prototype;mt.raise=function(t,e){var n=D(this.input,t);e+=" ("+n.line+":"+n.column+")";var r=new SyntaxError(e);throw r.pos=t,r.loc=n,r.raisedAt=this.pos,r},mt.raiseRecoverable=mt.raise,mt.curPosition=function(){if(this.options.locations)return new O(this.curLine,this.pos-this.lineStart)};var gt=tt.prototype,yt=function(t){this.flags=t,this.var=[],this.lexical=[],this.functions=[]};gt.enterScope=function(t){this.scopeStack.push(new yt(t))},gt.exitScope=function(){this.scopeStack.pop()},gt.treatFunctionsAsVarInScope=function(t){return t.flags&F||!this.inModule&&t.flags&N},gt.declareName=function(t,e,n){var r=!1;if(e===Y){var i=this.currentScope();r=i.lexical.indexOf(t)>-1||i.functions.indexOf(t)>-1||i.var.indexOf(t)>-1,i.lexical.push(t),this.inModule&&i.flags&N&&delete this.undefinedExports[t]}else if(e===Q)this.currentScope().lexical.push(t);else if(e===J){var s=this.currentScope();r=this.treatFunctionsAsVar?s.lexical.indexOf(t)>-1:s.lexical.indexOf(t)>-1||s.var.indexOf(t)>-1,s.functions.push(t)}else for(var a=this.scopeStack.length-1;a>=0;--a){var o=this.scopeStack[a];if(o.lexical.indexOf(t)>-1&&!(o.flags&U&&o.lexical[0]===t)||!this.treatFunctionsAsVarInScope(o)&&o.functions.indexOf(t)>-1){r=!0;break}if(o.var.push(t),this.inModule&&o.flags&N&&delete this.undefinedExports[t],o.flags&V)break}r&&this.raiseRecoverable(n,"Identifier '"+t+"' has already been declared")},gt.checkLocalExport=function(t){-1===this.scopeStack[0].lexical.indexOf(t.name)&&-1===this.scopeStack[0].var.indexOf(t.name)&&(this.undefinedExports[t.name]=t)},gt.currentScope=function(){return this.scopeStack[this.scopeStack.length-1]},gt.currentVarScope=function(){for(var t=this.scopeStack.length-1;;t--){var e=this.scopeStack[t];if(e.flags&V)return e}},gt.currentThisScope=function(){for(var t=this.scopeStack.length-1;;t--){var e=this.scopeStack[t];if(e.flags&V&&!(e.flags&B))return e}};var bt=function(t,e,n){this.type="",this.start=e,this.end=0,t.options.locations&&(this.loc=new R(t,n)),t.options.directSourceFile&&(this.sourceFile=t.options.directSourceFile),t.options.ranges&&(this.range=[e,0])},xt=tt.prototype;function vt(t,e,n,r){return t.type=e,t.end=n,this.options.locations&&(t.loc.end=r),this.options.ranges&&(t.range[1]=n),t}xt.startNode=function(){return new bt(this,this.start,this.startLoc)},xt.startNodeAt=function(t,e){return new bt(this,t,e)},xt.finishNode=function(t,e){return vt.call(this,t,e,this.lastTokEnd,this.lastTokEndLoc)},xt.finishNodeAt=function(t,e,n,r){return vt.call(this,t,e,n,r)};var wt=function(t,e,n,r,i){this.token=t,this.isExpr=!!e,this.preserveSpace=!!n,this.override=r,this.generator=!!i},St={b_stat:new wt("{",!1),b_expr:new wt("{",!0),b_tmpl:new wt("${",!1),p_stat:new wt("(",!1),p_expr:new wt("(",!0),q_tmpl:new wt("`",!0,!0,(function(t){return t.tryReadTemplateToken()})),f_stat:new wt("function",!1),f_expr:new wt("function",!0),f_expr_gen:new wt("function",!0,!1,null,!0),f_gen:new wt("function",!1,!1,null,!0)},kt=tt.prototype;kt.initialContext=function(){return[St.b_stat]},kt.braceIsBlock=function(t){var e=this.curContext();return e===St.f_expr||e===St.f_stat||(t!==v.colon||e!==St.b_stat&&e!==St.b_expr?t===v._return||t===v.name&&this.exprAllowed?w.test(this.input.slice(this.lastTokEnd,this.start)):t===v._else||t===v.semi||t===v.eof||t===v.parenR||t===v.arrow||(t===v.braceL?e===St.b_stat:t!==v._var&&t!==v._const&&t!==v.name&&!this.exprAllowed):!e.isExpr)},kt.inGeneratorContext=function(){for(var t=this.context.length-1;t>=1;t--){var e=this.context[t];if("function"===e.token)return e.generator}return!1},kt.updateContext=function(t){var e,n=this.type;n.keyword&&t===v.dot?this.exprAllowed=!1:(e=n.updateContext)?e.call(this,t):this.exprAllowed=n.beforeExpr},v.parenR.updateContext=v.braceR.updateContext=function(){if(1!==this.context.length){var t=this.context.pop();t===St.b_stat&&"function"===this.curContext().token&&(t=this.context.pop()),this.exprAllowed=!t.isExpr}else this.exprAllowed=!0},v.braceL.updateContext=function(t){this.context.push(this.braceIsBlock(t)?St.b_stat:St.b_expr),this.exprAllowed=!0},v.dollarBraceL.updateContext=function(){this.context.push(St.b_tmpl),this.exprAllowed=!0},v.parenL.updateContext=function(t){var e=t===v._if||t===v._for||t===v._with||t===v._while;this.context.push(e?St.p_stat:St.p_expr),this.exprAllowed=!0},v.incDec.updateContext=function(){},v._function.updateContext=v._class.updateContext=function(t){!t.beforeExpr||t===v.semi||t===v._else||t===v._return&&w.test(this.input.slice(this.lastTokEnd,this.start))||(t===v.colon||t===v.braceL)&&this.curContext()===St.b_stat?this.context.push(St.f_stat):this.context.push(St.f_expr),this.exprAllowed=!1},v.backQuote.updateContext=function(){this.curContext()===St.q_tmpl?this.context.pop():this.context.push(St.q_tmpl),this.exprAllowed=!1},v.star.updateContext=function(t){if(t===v._function){var e=this.context.length-1;this.context[e]===St.f_expr?this.context[e]=St.f_expr_gen:this.context[e]=St.f_gen}this.exprAllowed=!0},v.name.updateContext=function(t){var e=!1;this.options.ecmaVersion>=6&&t!==v.dot&&("of"===this.value&&!this.exprAllowed||"yield"===this.value&&this.inGeneratorContext())&&(e=!0),this.exprAllowed=e};var Tt="ASCII ASCII_Hex_Digit AHex Alphabetic Alpha Any Assigned Bidi_Control Bidi_C Bidi_Mirrored Bidi_M Case_Ignorable CI Cased Changes_When_Casefolded CWCF Changes_When_Casemapped CWCM Changes_When_Lowercased CWL Changes_When_NFKC_Casefolded CWKCF Changes_When_Titlecased CWT Changes_When_Uppercased CWU Dash Default_Ignorable_Code_Point DI Deprecated Dep Diacritic Dia Emoji Emoji_Component Emoji_Modifier Emoji_Modifier_Base Emoji_Presentation Extender Ext Grapheme_Base Gr_Base Grapheme_Extend Gr_Ext Hex_Digit Hex IDS_Binary_Operator IDSB IDS_Trinary_Operator IDST ID_Continue IDC ID_Start IDS Ideographic Ideo Join_Control Join_C Logical_Order_Exception LOE Lowercase Lower Math Noncharacter_Code_Point NChar Pattern_Syntax Pat_Syn Pattern_White_Space Pat_WS Quotation_Mark QMark Radical Regional_Indicator RI Sentence_Terminal STerm Soft_Dotted SD Terminal_Punctuation Term Unified_Ideograph UIdeo Uppercase Upper Variation_Selector VS White_Space space XID_Continue XIDC XID_Start XIDS",At=Tt+" Extended_Pictographic",Et={9:Tt,10:At,11:At},_t="Cased_Letter LC Close_Punctuation Pe Connector_Punctuation Pc Control Cc cntrl Currency_Symbol Sc Dash_Punctuation Pd Decimal_Number Nd digit Enclosing_Mark Me Final_Punctuation Pf Format Cf Initial_Punctuation Pi Letter L Letter_Number Nl Line_Separator Zl Lowercase_Letter Ll Mark M Combining_Mark Math_Symbol Sm Modifier_Letter Lm Modifier_Symbol Sk Nonspacing_Mark Mn Number N Open_Punctuation Ps Other C Other_Letter Lo Other_Number No Other_Punctuation Po Other_Symbol So Paragraph_Separator Zp Private_Use Co Punctuation P punct Separator Z Space_Separator Zs Spacing_Mark Mc Surrogate Cs Symbol S Titlecase_Letter Lt Unassigned Cn Uppercase_Letter Lu",Lt="Adlam Adlm Ahom Ahom Anatolian_Hieroglyphs Hluw Arabic Arab Armenian Armn Avestan Avst Balinese Bali Bamum Bamu Bassa_Vah Bass Batak Batk Bengali Beng Bhaiksuki Bhks Bopomofo Bopo Brahmi Brah Braille Brai Buginese Bugi Buhid Buhd Canadian_Aboriginal Cans Carian Cari Caucasian_Albanian Aghb Chakma Cakm Cham Cham Cherokee Cher Common Zyyy Coptic Copt Qaac Cuneiform Xsux Cypriot Cprt Cyrillic Cyrl Deseret Dsrt Devanagari Deva Duployan Dupl Egyptian_Hieroglyphs Egyp Elbasan Elba Ethiopic Ethi Georgian Geor Glagolitic Glag Gothic Goth Grantha Gran Greek Grek Gujarati Gujr Gurmukhi Guru Han Hani Hangul Hang Hanunoo Hano Hatran Hatr Hebrew Hebr Hiragana Hira Imperial_Aramaic Armi Inherited Zinh Qaai Inscriptional_Pahlavi Phli Inscriptional_Parthian Prti Javanese Java Kaithi Kthi Kannada Knda Katakana Kana Kayah_Li Kali Kharoshthi Khar Khmer Khmr Khojki Khoj Khudawadi Sind Lao Laoo Latin Latn Lepcha Lepc Limbu Limb Linear_A Lina Linear_B Linb Lisu Lisu Lycian Lyci Lydian Lydi Mahajani Mahj Malayalam Mlym Mandaic Mand Manichaean Mani Marchen Marc Masaram_Gondi Gonm Meetei_Mayek Mtei Mende_Kikakui Mend Meroitic_Cursive Merc Meroitic_Hieroglyphs Mero Miao Plrd Modi Modi Mongolian Mong Mro Mroo Multani Mult Myanmar Mymr Nabataean Nbat New_Tai_Lue Talu Newa Newa Nko Nkoo Nushu Nshu Ogham Ogam Ol_Chiki Olck Old_Hungarian Hung Old_Italic Ital Old_North_Arabian Narb Old_Permic Perm Old_Persian Xpeo Old_South_Arabian Sarb Old_Turkic Orkh Oriya Orya Osage Osge Osmanya Osma Pahawh_Hmong Hmng Palmyrene Palm Pau_Cin_Hau Pauc Phags_Pa Phag Phoenician Phnx Psalter_Pahlavi Phlp Rejang Rjng Runic Runr Samaritan Samr Saurashtra Saur Sharada Shrd Shavian Shaw Siddham Sidd SignWriting Sgnw Sinhala Sinh Sora_Sompeng Sora Soyombo Soyo Sundanese Sund Syloti_Nagri Sylo Syriac Syrc Tagalog Tglg Tagbanwa Tagb Tai_Le Tale Tai_Tham Lana Tai_Viet Tavt Takri Takr Tamil Taml Tangut Tang Telugu Telu Thaana Thaa Thai Thai Tibetan Tibt Tifinagh Tfng Tirhuta Tirh Ugaritic Ugar Vai Vaii Warang_Citi Wara Yi Yiii Zanabazar_Square Zanb",Ct=Lt+" Dogra Dogr Gunjala_Gondi Gong Hanifi_Rohingya Rohg Makasar Maka Medefaidrin Medf Old_Sogdian Sogo Sogdian Sogd",It={9:Lt,10:Ct,11:Ct+" Elymaic Elym Nandinagari Nand Nyiakeng_Puachue_Hmong Hmnp Wancho Wcho"},$t={};function Ot(t){var e=$t[t]={binary:$(Et[t]+" "+_t),nonBinary:{General_Category:$(_t),Script:$(It[t])}};e.nonBinary.Script_Extensions=e.nonBinary.Script,e.nonBinary.gc=e.nonBinary.General_Category,e.nonBinary.sc=e.nonBinary.Script,e.nonBinary.scx=e.nonBinary.Script_Extensions}Ot(9),Ot(10),Ot(11);var Rt=tt.prototype,Dt=function(t){this.parser=t,this.validFlags="gim"+(t.options.ecmaVersion>=6?"uy":"")+(t.options.ecmaVersion>=9?"s":""),this.unicodeProperties=$t[t.options.ecmaVersion>=11?11:t.options.ecmaVersion],this.source="",this.flags="",this.start=0,this.switchU=!1,this.switchN=!1,this.pos=0,this.lastIntValue=0,this.lastStringValue="",this.lastAssertionIsQuantifiable=!1,this.numCapturingParens=0,this.maxBackReference=0,this.groupNames=[],this.backReferenceNames=[]};function zt(t){return t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode(55296+(t>>10),56320+(1023&t)))}function Mt(t){return 36===t||t>=40&&t<=43||46===t||63===t||t>=91&&t<=94||t>=123&&t<=125}function Pt(t){return p(t,!0)||36===t||95===t}function Nt(t){return d(t,!0)||36===t||95===t||8204===t||8205===t}function Ft(t){return t>=65&&t<=90||t>=97&&t<=122}function Vt(t){return t>=0&&t<=1114111}function Kt(t){return 100===t||68===t||115===t||83===t||119===t||87===t}function jt(t){return Ft(t)||95===t}function Bt(t){return jt(t)||Ut(t)}function Ut(t){return t>=48&&t<=57}function Gt(t){return t>=48&&t<=57||t>=65&&t<=70||t>=97&&t<=102}function Wt(t){return t>=65&&t<=70?t-65+10:t>=97&&t<=102?t-97+10:t-48}function Ht(t){return t>=48&&t<=55}Dt.prototype.reset=function(t,e,n){var r=-1!==n.indexOf("u");this.start=0|t,this.source=e+"",this.flags=n,this.switchU=r&&this.parser.options.ecmaVersion>=6,this.switchN=r&&this.parser.options.ecmaVersion>=9},Dt.prototype.raise=function(t){this.parser.raiseRecoverable(this.start,"Invalid regular expression: /"+this.source+"/: "+t)},Dt.prototype.at=function(t){var e=this.source,n=e.length;if(t>=n)return-1;var r=e.charCodeAt(t);if(!this.switchU||r<=55295||r>=57344||t+1>=n)return r;var i=e.charCodeAt(t+1);return i>=56320&&i<=57343?(r<<10)+i-56613888:r},Dt.prototype.nextIndex=function(t){var e=this.source,n=e.length;if(t>=n)return n;var r,i=e.charCodeAt(t);return!this.switchU||i<=55295||i>=57344||t+1>=n||(r=e.charCodeAt(t+1))<56320||r>57343?t+1:t+2},Dt.prototype.current=function(){return this.at(this.pos)},Dt.prototype.lookahead=function(){return this.at(this.nextIndex(this.pos))},Dt.prototype.advance=function(){this.pos=this.nextIndex(this.pos)},Dt.prototype.eat=function(t){return this.current()===t&&(this.advance(),!0)},Rt.validateRegExpFlags=function(t){for(var e=t.validFlags,n=t.flags,r=0;r<n.length;r++){var i=n.charAt(r);-1===e.indexOf(i)&&this.raise(t.start,"Invalid regular expression flag"),n.indexOf(i,r+1)>-1&&this.raise(t.start,"Duplicate regular expression flag")}},Rt.validateRegExpPattern=function(t){this.regexp_pattern(t),!t.switchN&&this.options.ecmaVersion>=9&&t.groupNames.length>0&&(t.switchN=!0,this.regexp_pattern(t))},Rt.regexp_pattern=function(t){t.pos=0,t.lastIntValue=0,t.lastStringValue="",t.lastAssertionIsQuantifiable=!1,t.numCapturingParens=0,t.maxBackReference=0,t.groupNames.length=0,t.backReferenceNames.length=0,this.regexp_disjunction(t),t.pos!==t.source.length&&(t.eat(41)&&t.raise("Unmatched ')'"),(t.eat(93)||t.eat(125))&&t.raise("Lone quantifier brackets")),t.maxBackReference>t.numCapturingParens&&t.raise("Invalid escape");for(var e=0,n=t.backReferenceNames;e<n.length;e+=1){var r=n[e];-1===t.groupNames.indexOf(r)&&t.raise("Invalid named capture referenced")}},Rt.regexp_disjunction=function(t){for(this.regexp_alternative(t);t.eat(124);)this.regexp_alternative(t);this.regexp_eatQuantifier(t,!0)&&t.raise("Nothing to repeat"),t.eat(123)&&t.raise("Lone quantifier brackets")},Rt.regexp_alternative=function(t){for(;t.pos<t.source.length&&this.regexp_eatTerm(t););},Rt.regexp_eatTerm=function(t){return this.regexp_eatAssertion(t)?(t.lastAssertionIsQuantifiable&&this.regexp_eatQuantifier(t)&&t.switchU&&t.raise("Invalid quantifier"),!0):!!(t.switchU?this.regexp_eatAtom(t):this.regexp_eatExtendedAtom(t))&&(this.regexp_eatQuantifier(t),!0)},Rt.regexp_eatAssertion=function(t){var e=t.pos;if(t.lastAssertionIsQuantifiable=!1,t.eat(94)||t.eat(36))return!0;if(t.eat(92)){if(t.eat(66)||t.eat(98))return!0;t.pos=e}if(t.eat(40)&&t.eat(63)){var n=!1;if(this.options.ecmaVersion>=9&&(n=t.eat(60)),t.eat(61)||t.eat(33))return this.regexp_disjunction(t),t.eat(41)||t.raise("Unterminated group"),t.lastAssertionIsQuantifiable=!n,!0}return t.pos=e,!1},Rt.regexp_eatQuantifier=function(t,e){return void 0===e&&(e=!1),!!this.regexp_eatQuantifierPrefix(t,e)&&(t.eat(63),!0)},Rt.regexp_eatQuantifierPrefix=function(t,e){return t.eat(42)||t.eat(43)||t.eat(63)||this.regexp_eatBracedQuantifier(t,e)},Rt.regexp_eatBracedQuantifier=function(t,e){var n=t.pos;if(t.eat(123)){var r=0,i=-1;if(this.regexp_eatDecimalDigits(t)&&(r=t.lastIntValue,t.eat(44)&&this.regexp_eatDecimalDigits(t)&&(i=t.lastIntValue),t.eat(125)))return-1!==i&&i<r&&!e&&t.raise("numbers out of order in {} quantifier"),!0;t.switchU&&!e&&t.raise("Incomplete quantifier"),t.pos=n}return!1},Rt.regexp_eatAtom=function(t){return this.regexp_eatPatternCharacters(t)||t.eat(46)||this.regexp_eatReverseSolidusAtomEscape(t)||this.regexp_eatCharacterClass(t)||this.regexp_eatUncapturingGroup(t)||this.regexp_eatCapturingGroup(t)},Rt.regexp_eatReverseSolidusAtomEscape=function(t){var e=t.pos;if(t.eat(92)){if(this.regexp_eatAtomEscape(t))return!0;t.pos=e}return!1},Rt.regexp_eatUncapturingGroup=function(t){var e=t.pos;if(t.eat(40)){if(t.eat(63)&&t.eat(58)){if(this.regexp_disjunction(t),t.eat(41))return!0;t.raise("Unterminated group")}t.pos=e}return!1},Rt.regexp_eatCapturingGroup=function(t){if(t.eat(40)){if(this.options.ecmaVersion>=9?this.regexp_groupSpecifier(t):63===t.current()&&t.raise("Invalid group"),this.regexp_disjunction(t),t.eat(41))return t.numCapturingParens+=1,!0;t.raise("Unterminated group")}return!1},Rt.regexp_eatExtendedAtom=function(t){return t.eat(46)||this.regexp_eatReverseSolidusAtomEscape(t)||this.regexp_eatCharacterClass(t)||this.regexp_eatUncapturingGroup(t)||this.regexp_eatCapturingGroup(t)||this.regexp_eatInvalidBracedQuantifier(t)||this.regexp_eatExtendedPatternCharacter(t)},Rt.regexp_eatInvalidBracedQuantifier=function(t){return this.regexp_eatBracedQuantifier(t,!0)&&t.raise("Nothing to repeat"),!1},Rt.regexp_eatSyntaxCharacter=function(t){var e=t.current();return!!Mt(e)&&(t.lastIntValue=e,t.advance(),!0)},Rt.regexp_eatPatternCharacters=function(t){for(var e=t.pos,n=0;-1!==(n=t.current())&&!Mt(n);)t.advance();return t.pos!==e},Rt.regexp_eatExtendedPatternCharacter=function(t){var e=t.current();return!(-1===e||36===e||e>=40&&e<=43||46===e||63===e||91===e||94===e||124===e)&&(t.advance(),!0)},Rt.regexp_groupSpecifier=function(t){if(t.eat(63)){if(this.regexp_eatGroupName(t))return-1!==t.groupNames.indexOf(t.lastStringValue)&&t.raise("Duplicate capture group name"),void t.groupNames.push(t.lastStringValue);t.raise("Invalid group")}},Rt.regexp_eatGroupName=function(t){if(t.lastStringValue="",t.eat(60)){if(this.regexp_eatRegExpIdentifierName(t)&&t.eat(62))return!0;t.raise("Invalid capture group name")}return!1},Rt.regexp_eatRegExpIdentifierName=function(t){if(t.lastStringValue="",this.regexp_eatRegExpIdentifierStart(t)){for(t.lastStringValue+=zt(t.lastIntValue);this.regexp_eatRegExpIdentifierPart(t);)t.lastStringValue+=zt(t.lastIntValue);return!0}return!1},Rt.regexp_eatRegExpIdentifierStart=function(t){var e=t.pos,n=t.current();return t.advance(),92===n&&this.regexp_eatRegExpUnicodeEscapeSequence(t)&&(n=t.lastIntValue),Pt(n)?(t.lastIntValue=n,!0):(t.pos=e,!1)},Rt.regexp_eatRegExpIdentifierPart=function(t){var e=t.pos,n=t.current();return t.advance(),92===n&&this.regexp_eatRegExpUnicodeEscapeSequence(t)&&(n=t.lastIntValue),Nt(n)?(t.lastIntValue=n,!0):(t.pos=e,!1)},Rt.regexp_eatAtomEscape=function(t){return!!(this.regexp_eatBackReference(t)||this.regexp_eatCharacterClassEscape(t)||this.regexp_eatCharacterEscape(t)||t.switchN&&this.regexp_eatKGroupName(t))||(t.switchU&&(99===t.current()&&t.raise("Invalid unicode escape"),t.raise("Invalid escape")),!1)},Rt.regexp_eatBackReference=function(t){var e=t.pos;if(this.regexp_eatDecimalEscape(t)){var n=t.lastIntValue;if(t.switchU)return n>t.maxBackReference&&(t.maxBackReference=n),!0;if(n<=t.numCapturingParens)return!0;t.pos=e}return!1},Rt.regexp_eatKGroupName=function(t){if(t.eat(107)){if(this.regexp_eatGroupName(t))return t.backReferenceNames.push(t.lastStringValue),!0;t.raise("Invalid named reference")}return!1},Rt.regexp_eatCharacterEscape=function(t){return this.regexp_eatControlEscape(t)||this.regexp_eatCControlLetter(t)||this.regexp_eatZero(t)||this.regexp_eatHexEscapeSequence(t)||this.regexp_eatRegExpUnicodeEscapeSequence(t)||!t.switchU&&this.regexp_eatLegacyOctalEscapeSequence(t)||this.regexp_eatIdentityEscape(t)},Rt.regexp_eatCControlLetter=function(t){var e=t.pos;if(t.eat(99)){if(this.regexp_eatControlLetter(t))return!0;t.pos=e}return!1},Rt.regexp_eatZero=function(t){return 48===t.current()&&!Ut(t.lookahead())&&(t.lastIntValue=0,t.advance(),!0)},Rt.regexp_eatControlEscape=function(t){var e=t.current();return 116===e?(t.lastIntValue=9,t.advance(),!0):110===e?(t.lastIntValue=10,t.advance(),!0):118===e?(t.lastIntValue=11,t.advance(),!0):102===e?(t.lastIntValue=12,t.advance(),!0):114===e&&(t.lastIntValue=13,t.advance(),!0)},Rt.regexp_eatControlLetter=function(t){var e=t.current();return!!Ft(e)&&(t.lastIntValue=e%32,t.advance(),!0)},Rt.regexp_eatRegExpUnicodeEscapeSequence=function(t){var e=t.pos;if(t.eat(117)){if(this.regexp_eatFixedHexDigits(t,4)){var n=t.lastIntValue;if(t.switchU&&n>=55296&&n<=56319){var r=t.pos;if(t.eat(92)&&t.eat(117)&&this.regexp_eatFixedHexDigits(t,4)){var i=t.lastIntValue;if(i>=56320&&i<=57343)return t.lastIntValue=1024*(n-55296)+(i-56320)+65536,!0}t.pos=r,t.lastIntValue=n}return!0}if(t.switchU&&t.eat(123)&&this.regexp_eatHexDigits(t)&&t.eat(125)&&Vt(t.lastIntValue))return!0;t.switchU&&t.raise("Invalid unicode escape"),t.pos=e}return!1},Rt.regexp_eatIdentityEscape=function(t){if(t.switchU)return!!this.regexp_eatSyntaxCharacter(t)||!!t.eat(47)&&(t.lastIntValue=47,!0);var e=t.current();return!(99===e||t.switchN&&107===e)&&(t.lastIntValue=e,t.advance(),!0)},Rt.regexp_eatDecimalEscape=function(t){t.lastIntValue=0;var e=t.current();if(e>=49&&e<=57){do{t.lastIntValue=10*t.lastIntValue+(e-48),t.advance()}while((e=t.current())>=48&&e<=57);return!0}return!1},Rt.regexp_eatCharacterClassEscape=function(t){var e=t.current();if(Kt(e))return t.lastIntValue=-1,t.advance(),!0;if(t.switchU&&this.options.ecmaVersion>=9&&(80===e||112===e)){if(t.lastIntValue=-1,t.advance(),t.eat(123)&&this.regexp_eatUnicodePropertyValueExpression(t)&&t.eat(125))return!0;t.raise("Invalid property name")}return!1},Rt.regexp_eatUnicodePropertyValueExpression=function(t){var e=t.pos;if(this.regexp_eatUnicodePropertyName(t)&&t.eat(61)){var n=t.lastStringValue;if(this.regexp_eatUnicodePropertyValue(t)){var r=t.lastStringValue;return this.regexp_validateUnicodePropertyNameAndValue(t,n,r),!0}}if(t.pos=e,this.regexp_eatLoneUnicodePropertyNameOrValue(t)){var i=t.lastStringValue;return this.regexp_validateUnicodePropertyNameOrValue(t,i),!0}return!1},Rt.regexp_validateUnicodePropertyNameAndValue=function(t,e,n){C(t.unicodeProperties.nonBinary,e)||t.raise("Invalid property name"),t.unicodeProperties.nonBinary[e].test(n)||t.raise("Invalid property value")},Rt.regexp_validateUnicodePropertyNameOrValue=function(t,e){t.unicodeProperties.binary.test(e)||t.raise("Invalid property name")},Rt.regexp_eatUnicodePropertyName=function(t){var e=0;for(t.lastStringValue="";jt(e=t.current());)t.lastStringValue+=zt(e),t.advance();return""!==t.lastStringValue},Rt.regexp_eatUnicodePropertyValue=function(t){var e=0;for(t.lastStringValue="";Bt(e=t.current());)t.lastStringValue+=zt(e),t.advance();return""!==t.lastStringValue},Rt.regexp_eatLoneUnicodePropertyNameOrValue=function(t){return this.regexp_eatUnicodePropertyValue(t)},Rt.regexp_eatCharacterClass=function(t){if(t.eat(91)){if(t.eat(94),this.regexp_classRanges(t),t.eat(93))return!0;t.raise("Unterminated character class")}return!1},Rt.regexp_classRanges=function(t){for(;this.regexp_eatClassAtom(t);){var e=t.lastIntValue;if(t.eat(45)&&this.regexp_eatClassAtom(t)){var n=t.lastIntValue;!t.switchU||-1!==e&&-1!==n||t.raise("Invalid character class"),-1!==e&&-1!==n&&e>n&&t.raise("Range out of order in character class")}}},Rt.regexp_eatClassAtom=function(t){var e=t.pos;if(t.eat(92)){if(this.regexp_eatClassEscape(t))return!0;if(t.switchU){var n=t.current();(99===n||Ht(n))&&t.raise("Invalid class escape"),t.raise("Invalid escape")}t.pos=e}var r=t.current();return 93!==r&&(t.lastIntValue=r,t.advance(),!0)},Rt.regexp_eatClassEscape=function(t){var e=t.pos;if(t.eat(98))return t.lastIntValue=8,!0;if(t.switchU&&t.eat(45))return t.lastIntValue=45,!0;if(!t.switchU&&t.eat(99)){if(this.regexp_eatClassControlLetter(t))return!0;t.pos=e}return this.regexp_eatCharacterClassEscape(t)||this.regexp_eatCharacterEscape(t)},Rt.regexp_eatClassControlLetter=function(t){var e=t.current();return!(!Ut(e)&&95!==e)&&(t.lastIntValue=e%32,t.advance(),!0)},Rt.regexp_eatHexEscapeSequence=function(t){var e=t.pos;if(t.eat(120)){if(this.regexp_eatFixedHexDigits(t,2))return!0;t.switchU&&t.raise("Invalid escape"),t.pos=e}return!1},Rt.regexp_eatDecimalDigits=function(t){var e=t.pos,n=0;for(t.lastIntValue=0;Ut(n=t.current());)t.lastIntValue=10*t.lastIntValue+(n-48),t.advance();return t.pos!==e},Rt.regexp_eatHexDigits=function(t){var e=t.pos,n=0;for(t.lastIntValue=0;Gt(n=t.current());)t.lastIntValue=16*t.lastIntValue+Wt(n),t.advance();return t.pos!==e},Rt.regexp_eatLegacyOctalEscapeSequence=function(t){if(this.regexp_eatOctalDigit(t)){var e=t.lastIntValue;if(this.regexp_eatOctalDigit(t)){var n=t.lastIntValue;e<=3&&this.regexp_eatOctalDigit(t)?t.lastIntValue=64*e+8*n+t.lastIntValue:t.lastIntValue=8*e+n}else t.lastIntValue=e;return!0}return!1},Rt.regexp_eatOctalDigit=function(t){var e=t.current();return Ht(e)?(t.lastIntValue=e-48,t.advance(),!0):(t.lastIntValue=0,!1)},Rt.regexp_eatFixedHexDigits=function(t,e){var n=t.pos;t.lastIntValue=0;for(var r=0;r<e;++r){var i=t.current();if(!Gt(i))return t.pos=n,!1;t.lastIntValue=16*t.lastIntValue+Wt(i),t.advance()}return!0};var Xt=function(t){this.type=t.type,this.value=t.value,this.start=t.start,this.end=t.end,t.options.locations&&(this.loc=new R(t,t.startLoc,t.endLoc)),t.options.ranges&&(this.range=[t.start,t.end])},qt=tt.prototype;function Yt(t){return t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode(55296+(t>>10),56320+(1023&t)))}qt.next=function(t){!t&&this.type.keyword&&this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword "+this.type.keyword),this.options.onToken&&this.options.onToken(new Xt(this)),this.lastTokEnd=this.end,this.lastTokStart=this.start,this.lastTokEndLoc=this.endLoc,this.lastTokStartLoc=this.startLoc,this.nextToken()},qt.getToken=function(){return this.next(),new Xt(this)},"undefined"!==typeof Symbol&&(qt[Symbol.iterator]=function(){var t=this;return{next:function(){var e=t.getToken();return{done:e.type===v.eof,value:e}}}}),qt.curContext=function(){return this.context[this.context.length-1]},qt.nextToken=function(){var t=this.curContext();return t&&t.preserveSpace||this.skipSpace(),this.start=this.pos,this.options.locations&&(this.startLoc=this.curPosition()),this.pos>=this.input.length?this.finishToken(v.eof):t.override?t.override(this):void this.readToken(this.fullCharCodeAtPos())},qt.readToken=function(t){return p(t,this.options.ecmaVersion>=6)||92===t?this.readWord():this.getTokenFromCode(t)},qt.fullCharCodeAtPos=function(){var t=this.input.charCodeAt(this.pos);return t<=55295||t>=57344?t:(t<<10)+this.input.charCodeAt(this.pos+1)-56613888},qt.skipBlockComment=function(){var t,e=this.options.onComment&&this.curPosition(),n=this.pos,r=this.input.indexOf("*/",this.pos+=2);if(-1===r&&this.raise(this.pos-2,"Unterminated comment"),this.pos=r+2,this.options.locations)for(S.lastIndex=n;(t=S.exec(this.input))&&t.index<this.pos;)++this.curLine,this.lineStart=t.index+t[0].length;this.options.onComment&&this.options.onComment(!0,this.input.slice(n+2,r),n,this.pos,e,this.curPosition())},qt.skipLineComment=function(t){for(var e=this.pos,n=this.options.onComment&&this.curPosition(),r=this.input.charCodeAt(this.pos+=t);this.pos<this.input.length&&!k(r);)r=this.input.charCodeAt(++this.pos);this.options.onComment&&this.options.onComment(!1,this.input.slice(e+t,this.pos),e,this.pos,n,this.curPosition())},qt.skipSpace=function(){t:for(;this.pos<this.input.length;){var t=this.input.charCodeAt(this.pos);switch(t){case 32:case 160:++this.pos;break;case 13:10===this.input.charCodeAt(this.pos+1)&&++this.pos;case 10:case 8232:case 8233:++this.pos,this.options.locations&&(++this.curLine,this.lineStart=this.pos);break;case 47:switch(this.input.charCodeAt(this.pos+1)){case 42:this.skipBlockComment();break;case 47:this.skipLineComment(2);break;default:break t}break;default:if(!(t>8&&t<14||t>=5760&&T.test(String.fromCharCode(t))))break t;++this.pos}}},qt.finishToken=function(t,e){this.end=this.pos,this.options.locations&&(this.endLoc=this.curPosition());var n=this.type;this.type=t,this.value=e,this.updateContext(n)},qt.readToken_dot=function(){var t=this.input.charCodeAt(this.pos+1);if(t>=48&&t<=57)return this.readNumber(!0);var e=this.input.charCodeAt(this.pos+2);return this.options.ecmaVersion>=6&&46===t&&46===e?(this.pos+=3,this.finishToken(v.ellipsis)):(++this.pos,this.finishToken(v.dot))},qt.readToken_slash=function(){var t=this.input.charCodeAt(this.pos+1);return this.exprAllowed?(++this.pos,this.readRegexp()):61===t?this.finishOp(v.assign,2):this.finishOp(v.slash,1)},qt.readToken_mult_modulo_exp=function(t){var e=this.input.charCodeAt(this.pos+1),n=1,r=42===t?v.star:v.modulo;return this.options.ecmaVersion>=7&&42===t&&42===e&&(++n,r=v.starstar,e=this.input.charCodeAt(this.pos+2)),61===e?this.finishOp(v.assign,n+1):this.finishOp(r,n)},qt.readToken_pipe_amp=function(t){var e=this.input.charCodeAt(this.pos+1);return e===t?this.finishOp(124===t?v.logicalOR:v.logicalAND,2):61===e?this.finishOp(v.assign,2):this.finishOp(124===t?v.bitwiseOR:v.bitwiseAND,1)},qt.readToken_caret=function(){return 61===this.input.charCodeAt(this.pos+1)?this.finishOp(v.assign,2):this.finishOp(v.bitwiseXOR,1)},qt.readToken_plus_min=function(t){var e=this.input.charCodeAt(this.pos+1);return e===t?45!==e||this.inModule||62!==this.input.charCodeAt(this.pos+2)||0!==this.lastTokEnd&&!w.test(this.input.slice(this.lastTokEnd,this.pos))?this.finishOp(v.incDec,2):(this.skipLineComment(3),this.skipSpace(),this.nextToken()):61===e?this.finishOp(v.assign,2):this.finishOp(v.plusMin,1)},qt.readToken_lt_gt=function(t){var e=this.input.charCodeAt(this.pos+1),n=1;return e===t?(n=62===t&&62===this.input.charCodeAt(this.pos+2)?3:2,61===this.input.charCodeAt(this.pos+n)?this.finishOp(v.assign,n+1):this.finishOp(v.bitShift,n)):33!==e||60!==t||this.inModule||45!==this.input.charCodeAt(this.pos+2)||45!==this.input.charCodeAt(this.pos+3)?(61===e&&(n=2),this.finishOp(v.relational,n)):(this.skipLineComment(4),this.skipSpace(),this.nextToken())},qt.readToken_eq_excl=function(t){var e=this.input.charCodeAt(this.pos+1);return 61===e?this.finishOp(v.equality,61===this.input.charCodeAt(this.pos+2)?3:2):61===t&&62===e&&this.options.ecmaVersion>=6?(this.pos+=2,this.finishToken(v.arrow)):this.finishOp(61===t?v.eq:v.prefix,1)},qt.getTokenFromCode=function(t){switch(t){case 46:return this.readToken_dot();case 40:return++this.pos,this.finishToken(v.parenL);case 41:return++this.pos,this.finishToken(v.parenR);case 59:return++this.pos,this.finishToken(v.semi);case 44:return++this.pos,this.finishToken(v.comma);case 91:return++this.pos,this.finishToken(v.bracketL);case 93:return++this.pos,this.finishToken(v.bracketR);case 123:return++this.pos,this.finishToken(v.braceL);case 125:return++this.pos,this.finishToken(v.braceR);case 58:return++this.pos,this.finishToken(v.colon);case 63:return++this.pos,this.finishToken(v.question);case 96:if(this.options.ecmaVersion<6)break;return++this.pos,this.finishToken(v.backQuote);case 48:var e=this.input.charCodeAt(this.pos+1);if(120===e||88===e)return this.readRadixNumber(16);if(this.options.ecmaVersion>=6){if(111===e||79===e)return this.readRadixNumber(8);if(98===e||66===e)return this.readRadixNumber(2)}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.readNumber(!1);case 34:case 39:return this.readString(t);case 47:return this.readToken_slash();case 37:case 42:return this.readToken_mult_modulo_exp(t);case 124:case 38:return this.readToken_pipe_amp(t);case 94:return this.readToken_caret();case 43:case 45:return this.readToken_plus_min(t);case 60:case 62:return this.readToken_lt_gt(t);case 61:case 33:return this.readToken_eq_excl(t);case 126:return this.finishOp(v.prefix,1)}this.raise(this.pos,"Unexpected character '"+Yt(t)+"'")},qt.finishOp=function(t,e){var n=this.input.slice(this.pos,this.pos+e);return this.pos+=e,this.finishToken(t,n)},qt.readRegexp=function(){for(var t,e,n=this.pos;;){this.pos>=this.input.length&&this.raise(n,"Unterminated regular expression");var r=this.input.charAt(this.pos);if(w.test(r)&&this.raise(n,"Unterminated regular expression"),t)t=!1;else{if("["===r)e=!0;else if("]"===r&&e)e=!1;else if("/"===r&&!e)break;t="\\"===r}++this.pos}var i=this.input.slice(n,this.pos);++this.pos;var s=this.pos,a=this.readWord1();this.containsEsc&&this.unexpected(s);var o=this.regexpState||(this.regexpState=new Dt(this));o.reset(n,i,a),this.validateRegExpFlags(o),this.validateRegExpPattern(o);var u=null;try{u=new RegExp(i,a)}catch(l){}return this.finishToken(v.regexp,{pattern:i,flags:a,value:u})},qt.readInt=function(t,e){for(var n=this.pos,r=0,i=0,s=null==e?1/0:e;i<s;++i){var a=this.input.charCodeAt(this.pos),o=void 0;if((o=a>=97?a-97+10:a>=65?a-65+10:a>=48&&a<=57?a-48:1/0)>=t)break;++this.pos,r=r*t+o}return this.pos===n||null!=e&&this.pos-n!==e?null:r},qt.readRadixNumber=function(t){var e=this.pos;this.pos+=2;var n=this.readInt(t);return null==n&&this.raise(this.start+2,"Expected number in radix "+t),this.options.ecmaVersion>=11&&110===this.input.charCodeAt(this.pos)?(n="undefined"!==typeof BigInt?BigInt(this.input.slice(e,this.pos)):null,++this.pos):p(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(v.num,n)},qt.readNumber=function(t){var e=this.pos;t||null!==this.readInt(10)||this.raise(e,"Invalid number");var n=this.pos-e>=2&&48===this.input.charCodeAt(e);n&&this.strict&&this.raise(e,"Invalid number");var r=this.input.charCodeAt(this.pos);if(!n&&!t&&this.options.ecmaVersion>=11&&110===r){var i=this.input.slice(e,this.pos),s="undefined"!==typeof BigInt?BigInt(i):null;return++this.pos,p(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(v.num,s)}n&&/[89]/.test(this.input.slice(e,this.pos))&&(n=!1),46!==r||n||(++this.pos,this.readInt(10),r=this.input.charCodeAt(this.pos)),69!==r&&101!==r||n||(43!==(r=this.input.charCodeAt(++this.pos))&&45!==r||++this.pos,null===this.readInt(10)&&this.raise(e,"Invalid number")),p(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number");var a=this.input.slice(e,this.pos),o=n?parseInt(a,8):parseFloat(a);return this.finishToken(v.num,o)},qt.readCodePoint=function(){var t;if(123===this.input.charCodeAt(this.pos)){this.options.ecmaVersion<6&&this.unexpected();var e=++this.pos;t=this.readHexChar(this.input.indexOf("}",this.pos)-this.pos),++this.pos,t>1114111&&this.invalidStringToken(e,"Code point out of bounds")}else t=this.readHexChar(4);return t},qt.readString=function(t){for(var e="",n=++this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated string constant");var r=this.input.charCodeAt(this.pos);if(r===t)break;92===r?(e+=this.input.slice(n,this.pos),e+=this.readEscapedChar(!1),n=this.pos):(k(r,this.options.ecmaVersion>=10)&&this.raise(this.start,"Unterminated string constant"),++this.pos)}return e+=this.input.slice(n,this.pos++),this.finishToken(v.string,e)};var Jt={};qt.tryReadTemplateToken=function(){this.inTemplateElement=!0;try{this.readTmplToken()}catch(t){if(t!==Jt)throw t;this.readInvalidTemplateToken()}this.inTemplateElement=!1},qt.invalidStringToken=function(t,e){if(this.inTemplateElement&&this.options.ecmaVersion>=9)throw Jt;this.raise(t,e)},qt.readTmplToken=function(){for(var t="",e=this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated template");var n=this.input.charCodeAt(this.pos);if(96===n||36===n&&123===this.input.charCodeAt(this.pos+1))return this.pos!==this.start||this.type!==v.template&&this.type!==v.invalidTemplate?(t+=this.input.slice(e,this.pos),this.finishToken(v.template,t)):36===n?(this.pos+=2,this.finishToken(v.dollarBraceL)):(++this.pos,this.finishToken(v.backQuote));if(92===n)t+=this.input.slice(e,this.pos),t+=this.readEscapedChar(!0),e=this.pos;else if(k(n)){switch(t+=this.input.slice(e,this.pos),++this.pos,n){case 13:10===this.input.charCodeAt(this.pos)&&++this.pos;case 10:t+="\n";break;default:t+=String.fromCharCode(n)}this.options.locations&&(++this.curLine,this.lineStart=this.pos),e=this.pos}else++this.pos}},qt.readInvalidTemplateToken=function(){for(;this.pos<this.input.length;this.pos++)switch(this.input[this.pos]){case"\\":++this.pos;break;case"$":if("{"!==this.input[this.pos+1])break;case"`":return this.finishToken(v.invalidTemplate,this.input.slice(this.start,this.pos))}this.raise(this.start,"Unterminated template")},qt.readEscapedChar=function(t){var e=this.input.charCodeAt(++this.pos);switch(++this.pos,e){case 110:return"\n";case 114:return"\r";case 120:return String.fromCharCode(this.readHexChar(2));case 117:return Yt(this.readCodePoint());case 116:return"\t";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 13:10===this.input.charCodeAt(this.pos)&&++this.pos;case 10:return this.options.locations&&(this.lineStart=this.pos,++this.curLine),"";case 56:case 57:if(t){var n=this.pos-1;return this.invalidStringToken(n,"Invalid escape sequence in template string"),null}default:if(e>=48&&e<=55){var r=this.input.substr(this.pos-1,3).match(/^[0-7]+/)[0],i=parseInt(r,8);return i>255&&(r=r.slice(0,-1),i=parseInt(r,8)),this.pos+=r.length-1,e=this.input.charCodeAt(this.pos),"0"===r&&56!==e&&57!==e||!this.strict&&!t||this.invalidStringToken(this.pos-1-r.length,t?"Octal literal in template string":"Octal literal in strict mode"),String.fromCharCode(i)}return k(e)?"":String.fromCharCode(e)}},qt.readHexChar=function(t){var e=this.pos,n=this.readInt(16,t);return null===n&&this.invalidStringToken(e,"Bad character escape sequence"),n},qt.readWord1=function(){this.containsEsc=!1;for(var t="",e=!0,n=this.pos,r=this.options.ecmaVersion>=6;this.pos<this.input.length;){var i=this.fullCharCodeAtPos();if(d(i,r))this.pos+=i<=65535?1:2;else{if(92!==i)break;this.containsEsc=!0,t+=this.input.slice(n,this.pos);var s=this.pos;117!==this.input.charCodeAt(++this.pos)&&this.invalidStringToken(this.pos,"Expecting Unicode escape sequence \\uXXXX"),++this.pos;var a=this.readCodePoint();(e?p:d)(a,r)||this.invalidStringToken(s,"Invalid Unicode escape"),t+=Yt(a),n=this.pos}e=!1}return t+this.input.slice(n,this.pos)},qt.readWord=function(){var t=this.readWord1(),e=v.name;return this.keywords.test(t)&&(e=b[t]),this.finishToken(e,t)};var Qt="7.1.0";function Zt(t,e){return tt.parse(t,e)}function te(t,e,n){return tt.parseExpressionAt(t,e,n)}function ee(t,e){return tt.tokenizer(t,e)}tt.acorn={Parser:tt,version:Qt,defaultOptions:z,Position:O,SourceLocation:R,getLineInfo:D,Node:bt,TokenType:f,tokTypes:v,keywordTypes:b,TokContext:wt,tokContexts:St,isIdentifierChar:d,isIdentifierStart:p,Token:Xt,isNewLine:k,lineBreak:w,lineBreakG:S,nonASCIIwhitespace:T},t.Node=bt,t.Parser=tt,t.Position=O,t.SourceLocation=R,t.TokContext=wt,t.Token=Xt,t.TokenType=f,t.defaultOptions=z,t.getLineInfo=D,t.isIdentifierChar=d,t.isIdentifierStart=p,t.isNewLine=k,t.keywordTypes=b,t.lineBreak=w,t.lineBreakG=S,t.nonASCIIwhitespace=T,t.parse=Zt,t.parseExpressionAt=te,t.tokContexts=St,t.tokTypes=v,t.tokenizer=ee,t.version=Qt,Object.defineProperty(t,"__esModule",{value:!0})}))},{}],2:[function(t,e,n){},{}],3:[function(t,e,n){function r(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{contextName:n="gl",throwGetError:r,useTrackablePrimitives:a,readPixelsFile:u,recording:l=[],variables:c={},onReadPixels:h,onUnrecognizedArgumentLookup:p}=e,d=new Proxy(t,{get:x}),f=[],m={};let g,y=0,b="";return d;function x(e,d){switch(d){case"addComment":return _;case"checkThrowError":return L;case"getReadPixelsVariableName":return g;case"insertVariable":return S;case"reset":return w;case"setIndent":return T;case"toString":return v;case"getContextVariableName":return $}return"function"===typeof t[d]?function(){switch(d){case"getError":return r?l.push(`${b}if (${n}.getError() !== ${n}.NONE) throw new Error('error');`):l.push(`${b}${n}.getError();`),t.getError();case"getExtension":{const e=`${n}Variables${f.length}`;l.push(`${b}const ${e} = ${n}.getExtension('${arguments[0]}');`);const r=t.getExtension(arguments[0]);if(r&&"object"===typeof r){const t=i(r,{getEntity:k,useTrackablePrimitives:a,recording:l,contextName:e,contextVariables:f,variables:c,indent:b,onUnrecognizedArgumentLookup:p});return f.push(t),t}return f.push(null),r}case"readPixels":const e=f.indexOf(arguments[6]);let o;if(-1===e){const t=I(arguments[6]);t?(o=t,l.push(`${b}${t}`)):(o=`${n}Variable${f.length}`,f.push(arguments[6]),l.push(`${b}const ${o} = new ${arguments[6].constructor.name}(${arguments[6].length});`))}else o=`${n}Variable${e}`;g=o;const d=[arguments[0],arguments[1],arguments[2],arguments[3],k(arguments[4]),k(arguments[5]),o];return l.push(`${b}${n}.readPixels(${d.join(", ")});`),u&&E(arguments[2],arguments[3]),h&&h(o,d),t.readPixels.apply(t,arguments);case"drawBuffers":return l.push(`${b}${n}.drawBuffers([${s(arguments[0],{contextName:n,contextVariables:f,getEntity:k,addVariable:A,variables:c,onUnrecognizedArgumentLookup:p})}]);`),t.drawBuffers(arguments[0])}let e=t[d].apply(t,arguments);switch(typeof e){case"undefined":return void l.push(`${b}${C(d,arguments)};`);case"number":case"boolean":if(a&&-1===f.indexOf(o(e))){l.push(`${b}const ${n}Variable${f.length} = ${C(d,arguments)};`),f.push(e=o(e));break}default:null===e?l.push(`${C(d,arguments)};`):l.push(`${b}const ${n}Variable${f.length} = ${C(d,arguments)};`),f.push(e)}return e}:(m[t[d]]=d,t[d])}function v(){return l.join("\n")}function w(){for(;l.length>0;)l.pop()}function S(t,e){c[t]=e}function k(t){const e=m[t];return e?n+"."+e:t}function T(t){b=" ".repeat(t)}function A(t,e){const r=`${n}Variable${f.length}`;return l.push(`${b}const ${r} = ${e};`),f.push(t),r}function E(t,e){const r=`${n}Variable${f.length}`,i=`imageDatum${y}`;l.push(`${b}let ${i} = ["P3\\n# ${u}.ppm\\n", ${t}, ' ', ${e}, "\\n255\\n"].join("");`),l.push(`${b}for (let i = 0; i < ${i}.length; i += 4) {`),l.push(`${b}  ${i} += ${r}[i] + ' ' + ${r}[i + 1] + ' ' + ${r}[i + 2] + ' ';`),l.push(`${b}}`),l.push(`${b}if (typeof require !== "undefined") {`),l.push(`${b}  require('fs').writeFileSync('./${u}.ppm', ${i});`),l.push(`${b}}`),y++}function _(t){l.push(`${b}// ${t}`)}function L(){l.push(`${b}(() => {\n${b}const error = ${n}.getError();\n${b}if (error !== ${n}.NONE) {\n${b}  const names = Object.getOwnPropertyNames(gl);\n${b}  for (let i = 0; i < names.length; i++) {\n${b}    const name = names[i];\n${b}    if (${n}[name] === error) {\n${b}      throw new Error('${n} threw ' + name);\n${b}    }\n${b}  }\n${b}}\n${b}})();`)}function C(t,e){return`${n}.${t}(${s(e,{contextName:n,contextVariables:f,getEntity:k,addVariable:A,variables:c,onUnrecognizedArgumentLookup:p})})`}function I(t){if(c)for(const e in c)if(c[e]===t)return e;return null}function $(t){const e=f.indexOf(t);return-1!==e?`${n}Variable${e}`:null}}function i(t,e){const n=new Proxy(t,{get:f}),r={},{contextName:i,contextVariables:a,getEntity:u,useTrackablePrimitives:l,recording:c,variables:h,indent:p,onUnrecognizedArgumentLookup:d}=e;return n;function f(e,n){return"function"===typeof e[n]?function(){if("drawBuffersWEBGL"===n)return c.push(`${p}${i}.drawBuffersWEBGL([${s(arguments[0],{contextName:i,contextVariables:a,getEntity:m,addVariable:y,variables:h,onUnrecognizedArgumentLookup:d})}]);`),t.drawBuffersWEBGL(arguments[0]);let e=t[n].apply(t,arguments);switch(typeof e){case"undefined":return void c.push(`${p}${g(n,arguments)};`);case"number":case"boolean":l&&-1===a.indexOf(o(e))?(c.push(`${p}const ${i}Variable${a.length} = ${g(n,arguments)};`),a.push(e=o(e))):(c.push(`${p}const ${i}Variable${a.length} = ${g(n,arguments)};`),a.push(e));break;default:null===e?c.push(`${g(n,arguments)};`):c.push(`${p}const ${i}Variable${a.length} = ${g(n,arguments)};`),a.push(e)}return e}:(r[t[n]]=n,t[n])}function m(t){return r.hasOwnProperty(t)?`${i}.${r[t]}`:u(t)}function g(t,e){return`${i}.${t}(${s(e,{contextName:i,contextVariables:a,getEntity:m,addVariable:y,variables:h,onUnrecognizedArgumentLookup:d})})`}function y(t,e){const n=`${i}Variable${a.length}`;return a.push(t),c.push(`${p}const ${n} = ${e};`),n}}function s(t,e){const{variables:n,onUnrecognizedArgumentLookup:r}=e;return Array.from(t).map((t=>{const n=i(t);return n||a(t,e)})).join(", ");function i(t){if(n)for(const e in n)if(n.hasOwnProperty(e)&&n[e]===t)return e;return r?r(t):null}}function a(t,e){const{contextName:n,contextVariables:r,getEntity:i,addVariable:s,onUnrecognizedArgumentLookup:a}=e;if("undefined"===typeof t)return"undefined";if(null===t)return"null";const o=r.indexOf(t);if(o>-1)return`${n}Variable${o}`;switch(t.constructor.name){case"String":const e=/\n/.test(t),n=/'/.test(t),r=/"/.test(t);return e?"`"+t+"`":n&&!r?'"'+t+'"':"'"+t+"'";case"Number":case"Boolean":return i(t);case"Array":return s(t,`new ${t.constructor.name}([${Array.from(t).join(",")}])`);case"Float32Array":case"Uint8Array":case"Uint16Array":case"Int32Array":return s(t,`new ${t.constructor.name}(${JSON.stringify(Array.from(t))})`);default:if(a){const e=a(t);if(e)return e}throw new Error(`unrecognized argument type ${t.constructor.name}`)}}function o(t){return new t.constructor(t)}"undefined"!==typeof e&&(e.exports={glWiretap:r,glExtensionWiretap:i}),"undefined"!==typeof window&&(r.glExtensionWiretap=i,window.glWiretap=r)},{}],4:[function(t,e,n){function r(t){const e=new Array(t.length);for(let n=0;n<t.length;n++){const r=t[n];r.toArray?e[n]=r.toArray():e[n]=r}return e}function i(){const t=r(arguments),e=new Float32Array(this.output.x);for(let n=0;n<this.output.x;n++)this.thread.x=n,this.thread.y=0,this.thread.z=0,e[n]=this._fn.apply(this,t);return e}function s(){const t=r(arguments),e=new Array(this.output.y);for(let n=0;n<this.output.y;n++){const r=new Float32Array(this.output.x);for(let e=0;e<this.output.x;e++)this.thread.x=e,this.thread.y=n,this.thread.z=0,r[e]=this._fn.apply(this,t);e[n]=r}return e}function a(){const t=r(arguments);for(let e=0;e<this.output.y;e++)for(let n=0;n<this.output.x;n++)this.thread.x=n,this.thread.y=e,this.thread.z=0,this._fn.apply(this,t)}function o(){const t=r(arguments),e=new Array(this.output.z);for(let n=0;n<this.output.z;n++){const r=new Array(this.output.y);for(let e=0;e<this.output.y;e++){const i=new Float32Array(this.output.x);for(let r=0;r<this.output.x;r++)this.thread.x=r,this.thread.y=e,this.thread.z=n,i[r]=this._fn.apply(this,t);r[e]=i}e[n]=r}return e}function u(t){t.setOutput=e=>{t.output=c(e),t.graphical&&l(t)},t.toJSON=()=>{throw new Error("Not usable with gpuMock")},t.setConstants=e=>(t.constants=e,t),t.setGraphical=e=>(t.graphical=e,t),t.setCanvas=e=>(t.canvas=e,t),t.setContext=e=>(t.context=e,t),t.destroy=()=>{},t.validateSettings=()=>{},t.graphical&&t.output&&l(t),t.exec=function(){return new Promise(((e,n)=>{try{e(t.apply(t,arguments))}catch(r){n(r)}}))},t.getPixels=e=>{const{x:n,y:r}=t.output;return e?p(t._imageData.data,n,r):t._imageData.data.slice(0)},t.color=function(e,n,r,i){"undefined"===typeof i&&(i=1),e=Math.floor(255*e),n=Math.floor(255*n),r=Math.floor(255*r),i=Math.floor(255*i);const s=t.output.x,a=t.output.y,o=t.thread.x+(a-t.thread.y-1)*s;t._colorData[4*o+0]=e,t._colorData[4*o+1]=n,t._colorData[4*o+2]=r,t._colorData[4*o+3]=i};const e=()=>t,n=["setWarnVarUsage","setArgumentTypes","setTactic","setOptimizeFloatMemory","setDebug","setLoopMaxIterations","setConstantTypes","setFunctions","setNativeFunctions","setInjectedNative","setPipeline","setPrecision","setOutputToTexture","setImmutable","setStrictIntegers","setDynamicOutput","setHardcodeConstants","setDynamicArguments","setUseLegacyEncoder","setWarnVarUsage","addSubKernel"];for(let r=0;r<n.length;r++)t[n[r]]=e;return t}function l(t){const{x:e,y:n}=t.output;if(t.context&&t.context.createImageData){const r=new Uint8ClampedArray(e*n*4);t._imageData=t.context.createImageData(e,n),t._colorData=r}else{const r=new Uint8ClampedArray(e*n*4);t._imageData={data:r},t._colorData=r}}function c(t){let e=null;if(t.length)if(3===t.length){const[n,r,i]=t;e={x:n,y:r,z:i}}else if(2===t.length){const[n,r]=t;e={x:n,y:r}}else{const[n]=t;e={x:n}}else e=t;return e}function h(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=e.output?c(e.output):null;function r(){return r.output.z?o.apply(r,arguments):r.output.y?r.graphical?a.apply(r,arguments):s.apply(r,arguments):i.apply(r,arguments)}return r._fn=t,r.constants=e.constants||null,r.context=e.context||null,r.canvas=e.canvas||null,r.graphical=e.graphical||!1,r._imageData=null,r._colorData=null,r.output=n,r.thread={x:0,y:0,z:0},u(r)}function p(t,e,n){const r=n/2|0,i=4*e,s=new Uint8ClampedArray(4*e),a=t.slice(0);for(let o=0;o<r;++o){const t=o*i,e=(n-o-1)*i;s.set(a.subarray(t,t+i)),a.copyWithin(t,e,e+i),a.set(s,e)}return a}e.exports={gpuMock:h}},{}],5:[function(t,e,n){const{utils:r}=t("./utils");function i(t,e){const n=e.toString();return new Function(`return function ${t} (${r.getArgumentNamesFromString(n).join(", ")}) {\n  ${r.getFunctionBodyFromString(n)}\n}`)()}e.exports={alias:i}},{"./utils":114}],6:[function(t,e,n){const{FunctionNode:r}=t("../function-node");class i extends r{astFunction(t,e){if(!this.isRootKernel){e.push("function"),e.push(" "),e.push(this.name),e.push("(");for(let t=0;t<this.argumentNames.length;++t){const n=this.argumentNames[t];t>0&&e.push(", "),e.push("user_"),e.push(n)}e.push(") {\n")}for(let n=0;n<t.body.body.length;++n)this.astGeneric(t.body.body[n],e),e.push("\n");return this.isRootKernel||e.push("}\n"),e}astReturnStatement(t,e){const n=this.returnType||this.getType(t.argument);return this.returnType||(this.returnType=n),this.isRootKernel?(e.push(this.leadingReturnStatement),this.astGeneric(t.argument,e),e.push(";\n"),e.push(this.followingReturnStatement),e.push("continue;\n")):this.isSubKernel?(e.push(`subKernelResult_${this.name} = `),this.astGeneric(t.argument,e),e.push(";"),e.push(`return subKernelResult_${this.name};`)):(e.push("return "),this.astGeneric(t.argument,e),e.push(";")),e}astLiteral(t,e){if(isNaN(t.value))throw this.astErrorOutput("Non-numeric literal not supported : "+t.value,t);return e.push(t.value),e}astBinaryExpression(t,e){return e.push("("),this.astGeneric(t.left,e),e.push(t.operator),this.astGeneric(t.right,e),e.push(")"),e}astIdentifierExpression(t,e){if("Identifier"!==t.type)throw this.astErrorOutput("IdentifierExpression - not an Identifier",t);return"Infinity"===t.name?e.push("Infinity"):this.constants&&this.constants.hasOwnProperty(t.name)?e.push("constants_"+t.name):e.push("user_"+t.name),e}astForStatement(t,e){if("ForStatement"!==t.type)throw this.astErrorOutput("Invalid for statement",t);const n=[],r=[],i=[],s=[];let a=null;if(t.init){this.pushState("in-for-loop-init"),this.astGeneric(t.init,n);for(let t=0;t<n.length;t++)n[t].includes&&n[t].includes(",")&&(a=!1);this.popState("in-for-loop-init")}else a=!1;if(t.test?this.astGeneric(t.test,r):a=!1,t.update?this.astGeneric(t.update,i):a=!1,t.body&&(this.pushState("loop-body"),this.astGeneric(t.body,s),this.popState("loop-body")),null===a&&(a=this.isSafe(t.init)&&this.isSafe(t.test)),a)e.push(`for (${n.join("")};${r.join("")};${i.join("")}){\n`),e.push(s.join("")),e.push("}\n");else{const t=this.getInternalVariableName("safeI");n.length>0&&e.push(n.join(""),";\n"),e.push(`for (let ${t}=0;${t}<LOOP_MAX;${t}++){\n`),r.length>0&&e.push(`if (!${r.join("")}) break;\n`),e.push(s.join("")),e.push(`\n${i.join("")};`),e.push("}\n")}return e}astWhileStatement(t,e){if("WhileStatement"!==t.type)throw this.astErrorOutput("Invalid while statement",t);return e.push("for (let i = 0; i < LOOP_MAX; i++) {"),e.push("if ("),this.astGeneric(t.test,e),e.push(") {\n"),this.astGeneric(t.body,e),e.push("} else {\n"),e.push("break;\n"),e.push("}\n"),e.push("}\n"),e}astDoWhileStatement(t,e){if("DoWhileStatement"!==t.type)throw this.astErrorOutput("Invalid while statement",t);return e.push("for (let i = 0; i < LOOP_MAX; i++) {"),this.astGeneric(t.body,e),e.push("if (!"),this.astGeneric(t.test,e),e.push(") {\n"),e.push("break;\n"),e.push("}\n"),e.push("}\n"),e}astAssignmentExpression(t,e){const n=this.getDeclaration(t.left);if(n&&!n.assignable)throw this.astErrorOutput(`Variable ${t.left.name} is not assignable here`,t);return this.astGeneric(t.left,e),e.push(t.operator),this.astGeneric(t.right,e),e}astBlockStatement(t,e){if(this.isState("loop-body")){this.pushState("block-body");for(let n=0;n<t.body.length;n++)this.astGeneric(t.body[n],e);this.popState("block-body")}else{e.push("{\n");for(let n=0;n<t.body.length;n++)this.astGeneric(t.body[n],e);e.push("}\n")}return e}astVariableDeclaration(t,e){e.push(`${t.kind} `);const{declarations:n}=t;for(let r=0;r<n.length;r++){r>0&&e.push(",");const t=n[r],i=this.getDeclaration(t.id);i.valueType||(i.valueType=this.getType(t.init)),this.astGeneric(t,e)}return this.isState("in-for-loop-init")||e.push(";"),e}astIfStatement(t,e){return e.push("if ("),this.astGeneric(t.test,e),e.push(")"),"BlockStatement"===t.consequent.type?this.astGeneric(t.consequent,e):(e.push(" {\n"),this.astGeneric(t.consequent,e),e.push("\n}\n")),t.alternate&&(e.push("else "),"BlockStatement"===t.alternate.type||"IfStatement"===t.alternate.type?this.astGeneric(t.alternate,e):(e.push(" {\n"),this.astGeneric(t.alternate,e),e.push("\n}\n"))),e}astSwitchStatement(t,e){const{discriminant:n,cases:r}=t;e.push("switch ("),this.astGeneric(n,e),e.push(") {\n");for(let i=0;i<r.length;i++)null!==r[i].test?(e.push("case "),this.astGeneric(r[i].test,e),e.push(":\n"),r[i].consequent&&r[i].consequent.length>0&&(this.astGeneric(r[i].consequent,e),e.push("break;\n"))):(e.push("default:\n"),this.astGeneric(r[i].consequent,e),r[i].consequent&&r[i].consequent.length>0&&e.push("break;\n"));e.push("\n}")}astThisExpression(t,e){return e.push("_this"),e}astMemberExpression(t,e){const{signature:n,type:r,property:i,xProperty:s,yProperty:a,zProperty:o,name:u,origin:l}=this.getMemberExpressionDetails(t);switch(n){case"this.thread.value":return e.push(`_this.thread.${u}`),e;case"this.output.value":switch(u){case"x":e.push("outputX");break;case"y":e.push("outputY");break;case"z":e.push("outputZ");break;default:throw this.astErrorOutput("Unexpected expression",t)}return e;case"value":default:throw this.astErrorOutput("Unexpected expression",t);case"value[]":case"value[][]":case"value[][][]":case"value.value":if("Math"===l)return e.push(Math[u]),e;switch(i){case"r":return e.push(`user_${u}[0]`),e;case"g":return e.push(`user_${u}[1]`),e;case"b":return e.push(`user_${u}[2]`),e;case"a":return e.push(`user_${u}[3]`),e}break;case"this.constants.value":case"this.constants.value[]":case"this.constants.value[][]":case"this.constants.value[][][]":break;case"fn()[]":return this.astGeneric(t.object,e),e.push("["),this.astGeneric(t.property,e),e.push("]"),e;case"fn()[][]":return this.astGeneric(t.object.object,e),e.push("["),this.astGeneric(t.object.property,e),e.push("]"),e.push("["),this.astGeneric(t.property,e),e.push("]"),e}if(!t.computed)switch(r){case"Number":case"Integer":case"Float":case"Boolean":return e.push(`${l}_${u}`),e}const c=`${l}_${u}`;{let t,n;if("constants"===l){const e=this.constants[u];n="Input"===this.constantTypes[u],t=n?e.size:null}else n=this.isInput(u),t=n?this.argumentSizes[this.argumentNames.indexOf(u)]:null;e.push(`${c}`),o&&a?n?(e.push("[("),this.astGeneric(o,e),e.push(`*${this.dynamicArguments?"(outputY * outputX)":t[1]*t[0]})+(`),this.astGeneric(a,e),e.push(`*${this.dynamicArguments?"outputX":t[0]})+`),this.astGeneric(s,e),e.push("]")):(e.push("["),this.astGeneric(o,e),e.push("]"),e.push("["),this.astGeneric(a,e),e.push("]"),e.push("["),this.astGeneric(s,e),e.push("]")):a?n?(e.push("[("),this.astGeneric(a,e),e.push(`*${this.dynamicArguments?"outputX":t[0]})+`),this.astGeneric(s,e),e.push("]")):(e.push("["),this.astGeneric(a,e),e.push("]"),e.push("["),this.astGeneric(s,e),e.push("]")):"undefined"!==typeof s&&(e.push("["),this.astGeneric(s,e),e.push("]"))}return e}astCallExpression(t,e){if("CallExpression"!==t.type)throw this.astErrorOutput("Unknown CallExpression",t);let n=this.astMemberExpressionUnroll(t.callee);this.calledFunctions.indexOf(n)<0&&this.calledFunctions.push(n),this.isAstMathFunction(t),this.onFunctionCall&&this.onFunctionCall(this.name,n,t.arguments),e.push(n),e.push("(");const r=this.lookupFunctionArgumentTypes(n)||[];for(let i=0;i<t.arguments.length;++i){const s=t.arguments[i];let a=this.getType(s);r[i]||this.triggerImplyArgumentType(n,i,a,this),i>0&&e.push(", "),this.astGeneric(s,e)}return e.push(")"),e}astArrayExpression(t,e){const n=this.getType(t),r=t.elements.length,i=[];for(let s=0;s<r;++s){const e=[];this.astGeneric(t.elements[s],e),i.push(e.join(""))}switch(n){case"Matrix(2)":case"Matrix(3)":case"Matrix(4)":e.push(`[${i.join(", ")}]`);break;default:e.push(`new Float32Array([${i.join(", ")}])`)}return e}astDebuggerStatement(t,e){return e.push("debugger;"),e}}e.exports={CPUFunctionNode:i}},{"../function-node":10}],7:[function(t,e,n){const{utils:r}=t("../../utils");function i(t,e){const n=[];for(const r in e){if(!e.hasOwnProperty(r))continue;const i=e[r],s=t[r];switch(i){case"Number":case"Integer":case"Float":case"Boolean":n.push(`${r}:${s}`);break;case"Array(2)":case"Array(3)":case"Array(4)":case"Matrix(2)":case"Matrix(3)":case"Matrix(4)":n.push(`${r}:new ${s.constructor.name}(${JSON.stringify(Array.from(s))})`)}}return`{ ${n.join()} }`}function s(t,e){const n=[],s=[],a=[],o=!/^function/.test(t.color.toString());if(n.push("  const { context, canvas, constants: incomingConstants } = settings;",`  const output = new Int32Array(${JSON.stringify(Array.from(t.output))});`,`  const _constantTypes = ${JSON.stringify(t.constantTypes)};`,`  const _constants = ${i(t.constants,t.constantTypes)};`),s.push("    constants: _constants,","    context,","    output,","    thread: {x: 0, y: 0, z: 0},"),t.graphical){n.push(`  const _imageData = context.createImageData(${t.output[0]}, ${t.output[1]});`),n.push(`  const _colorData = new Uint8ClampedArray(${t.output[0]} * ${t.output[1]} * 4);`);const e=r.flattenFunctionToString((o?"function ":"")+t.color.toString(),{thisLookup:e=>{switch(e){case"_colorData":return"_colorData";case"_imageData":return"_imageData";case"output":return"output";case"thread":return"this.thread"}return JSON.stringify(t[e])},findDependency:(t,e)=>null}),i=r.flattenFunctionToString((o?"function ":"")+t.getPixels.toString(),{thisLookup:e=>{switch(e){case"_colorData":return"_colorData";case"_imageData":return"_imageData";case"output":return"output";case"thread":return"this.thread"}return JSON.stringify(t[e])},findDependency:()=>null});s.push("    _imageData,","    _colorData,",`    color: ${e},`),a.push(`  kernel.getPixels = ${i};`)}const u=[],l=Object.keys(t.constantTypes);for(let r=0;r<l.length;r++)u.push(t.constantTypes[l]);if(-1!==t.argumentTypes.indexOf("HTMLImageArray")||-1!==u.indexOf("HTMLImageArray")){const e=r.flattenFunctionToString((o?"function ":"")+t._imageTo3DArray.toString(),{doNotDefine:["canvas"],findDependency:(e,n)=>"this"===e?(o?"function ":"")+t[n].toString():null,thisLookup:t=>{switch(t){case"canvas":return;case"context":return"context"}}});a.push(e),s.push("    _mediaTo2DArray,"),s.push("    _imageTo3DArray,")}else if(-1!==t.argumentTypes.indexOf("HTMLImage")||-1!==u.indexOf("HTMLImage")){const e=r.flattenFunctionToString((o?"function ":"")+t._mediaTo2DArray.toString(),{findDependency:(t,e)=>null,thisLookup:t=>{switch(t){case"canvas":return"settings.canvas";case"context":return"settings.context"}throw new Error("unhandled thisLookup")}});a.push(e),s.push("    _mediaTo2DArray,")}return`function(settings) {\n${n.join("\n")}\n  for (const p in _constantTypes) {\n    if (!_constantTypes.hasOwnProperty(p)) continue;\n    const type = _constantTypes[p];\n    switch (type) {\n      case 'Number':\n      case 'Integer':\n      case 'Float':\n      case 'Boolean':\n      case 'Array(2)':\n      case 'Array(3)':\n      case 'Array(4)':\n      case 'Matrix(2)':\n      case 'Matrix(3)':\n      case 'Matrix(4)':\n        if (incomingConstants.hasOwnProperty(p)) {\n          console.warn('constant ' + p + ' of type ' + type + ' cannot be resigned');\n        }\n        continue;\n    }\n    if (!incomingConstants.hasOwnProperty(p)) {\n      throw new Error('constant ' + p + ' not found');\n    }\n    _constants[p] = incomingConstants[p];\n  }\n  const kernel = (function() {\n${t._kernelString}\n  })\n    .apply({ ${s.join("\n")} });\n  ${a.join("\n")}\n  return kernel;\n}`}e.exports={cpuKernelString:s}},{"../../utils":114}],8:[function(t,e,n){const{Kernel:r}=t("../kernel"),{FunctionBuilder:i}=t("../function-builder"),{CPUFunctionNode:s}=t("./function-node"),{utils:a}=t("../../utils"),{cpuKernelString:o}=t("./kernel-string");class u extends r{static getFeatures(){return this.features}static get features(){return Object.freeze({kernelMap:!0,isIntegerDivisionAccurate:!0})}static get isSupported(){return!0}static isContextMatch(t){return!1}static get mode(){return"cpu"}static nativeFunctionArguments(){return null}static nativeFunctionReturnType(){throw new Error(`Looking up native function return type not supported on ${this.name}`)}static combineKernels(t){return t}static getSignature(t,e){return"cpu"+(e.length>0?":"+e.join(","):"")}constructor(t,e){super(t,e),this.mergeSettings(t.settings||e),this._imageData=null,this._colorData=null,this._kernelString=null,this._prependedString=[],this.thread={x:0,y:0,z:0},this.translatedSources=null}initCanvas(){return"undefined"!==typeof document?document.createElement("canvas"):"undefined"!==typeof OffscreenCanvas?new OffscreenCanvas(0,0):void 0}initContext(){return this.canvas?this.canvas.getContext("2d"):null}initPlugins(t){return[]}validateSettings(t){if(!this.output||0===this.output.length){if(1!==t.length)throw new Error("Auto output only supported for kernels with only one input");const e=a.getVariableType(t[0],this.strictIntegers);if("Array"===e)this.output=a.getDimensions(e);else{if("NumberTexture"!==e&&"ArrayTexture(4)"!==e)throw new Error("Auto output not supported for input type: "+e);this.output=t[0].output}}if(this.graphical&&2!==this.output.length)throw new Error("Output must have 2 dimensions on graphical mode");this.checkOutput()}translateSource(){if(this.leadingReturnStatement=this.output.length>1?"resultX[x] = ":"result[x] = ",this.subKernels){const t=[];for(let e=0;e<this.subKernels.length;e++){const{name:n}=this.subKernels[e];t.push(this.output.length>1?`resultX_${n}[x] = subKernelResult_${n};\n`:`result_${n}[x] = subKernelResult_${n};\n`)}this.followingReturnStatement=t.join("")}const t=i.fromKernel(this,s);this.translatedSources=t.getPrototypes("kernel"),this.graphical||this.returnType||(this.returnType=t.getKernelResultType())}build(){if(this.built)return;if(this.setupConstants(),this.setupArguments(arguments),this.validateSettings(arguments),this.translateSource(),this.graphical){const{canvas:t,output:e}=this;if(!t)throw new Error("no canvas available for using graphical output");const n=e[0],r=e[1]||1;t.width=n,t.height=r,this._imageData=this.context.createImageData(n,r),this._colorData=new Uint8ClampedArray(n*r*4)}const t=this.getKernelString();this.kernelString=t,this.debug&&(console.log("Function output:"),console.log(t));try{this.run=new Function([],t).bind(this)()}catch(e){console.error("An error occurred compiling the javascript: ",e)}this.buildSignature(arguments),this.built=!0}color(t,e,n,r){"undefined"===typeof r&&(r=1),t=Math.floor(255*t),e=Math.floor(255*e),n=Math.floor(255*n),r=Math.floor(255*r);const i=this.output[0],s=this.output[1],a=this.thread.x+(s-this.thread.y-1)*i;this._colorData[4*a+0]=t,this._colorData[4*a+1]=e,this._colorData[4*a+2]=n,this._colorData[4*a+3]=r}getKernelString(){if(null!==this._kernelString)return this._kernelString;let t=null,{translatedSources:e}=this;return e.length>1?e=e.filter((e=>/^function/.test(e)?e:(t=e,!1))):t=e.shift(),this._kernelString=`  const LOOP_MAX = ${this._getLoopMaxString()};\n  ${this.injectedNative||""}\n  const _this = this;\n  ${this._resultKernelHeader()}\n  ${this._processConstants()}\n  return (${this.argumentNames.map((t=>"user_"+t)).join(", ")}) => {\n    ${this._prependedString.join("")}\n    ${this._earlyThrows()}\n    ${this._processArguments()}\n    ${this.graphical?this._graphicalKernelBody(t):this._resultKernelBody(t)}\n    ${e.length>0?e.join("\n"):""}\n  };`}toString(){return o(this)}_getLoopMaxString(){return this.loopMaxIterations?` ${parseInt(this.loopMaxIterations)};`:" 1000;"}_processConstants(){if(!this.constants)return"";const t=[];for(let e in this.constants)switch(this.constantTypes[e]){case"HTMLCanvas":case"OffscreenCanvas":case"HTMLImage":case"ImageBitmap":case"ImageData":case"HTMLVideo":t.push(`    const constants_${e} = this._mediaTo2DArray(this.constants.${e});\n`);break;case"HTMLImageArray":t.push(`    const constants_${e} = this._imageTo3DArray(this.constants.${e});\n`);break;case"Input":t.push(`    const constants_${e} = this.constants.${e}.value;\n`);break;default:t.push(`    const constants_${e} = this.constants.${e};\n`)}return t.join("")}_earlyThrows(){if(this.graphical)return"";if(this.immutable)return"";if(!this.pipeline)return"";const t=[];for(let n=0;n<this.argumentTypes.length;n++)"Array"===this.argumentTypes[n]&&t.push(this.argumentNames[n]);if(0===t.length)return"";const e=[];for(let n=0;n<t.length;n++){const r=t[n],i=this._mapSubKernels((t=>`user_${r} === result_${t.name}`)).join(" || ");e.push(`user_${r} === result${i?` || ${i}`:""}`)}return`if (${e.join(" || ")}) throw new Error('Source and destination arrays are the same.  Use immutable = true');`}_processArguments(){const t=[];for(let e=0;e<this.argumentTypes.length;e++){const n=`user_${this.argumentNames[e]}`;switch(this.argumentTypes[e]){case"HTMLCanvas":case"OffscreenCanvas":case"HTMLImage":case"ImageBitmap":case"ImageData":case"HTMLVideo":t.push(`    ${n} = this._mediaTo2DArray(${n});\n`);break;case"HTMLImageArray":t.push(`    ${n} = this._imageTo3DArray(${n});\n`);break;case"Input":t.push(`    ${n} = ${n}.value;\n`);break;case"ArrayTexture(1)":case"ArrayTexture(2)":case"ArrayTexture(3)":case"ArrayTexture(4)":case"NumberTexture":case"MemoryOptimizedNumberTexture":t.push(`\n    if (${n}.toArray) {\n      if (!_this.textureCache) {\n        _this.textureCache = [];\n        _this.arrayCache = [];\n      }\n      const textureIndex = _this.textureCache.indexOf(${n});\n      if (textureIndex !== -1) {\n        ${n} = _this.arrayCache[textureIndex];\n      } else {\n        _this.textureCache.push(${n});\n        ${n} = ${n}.toArray();\n        _this.arrayCache.push(${n});\n      }\n    }`)}}return t.join("")}_mediaTo2DArray(t){const e=this.canvas,n=t.width>0?t.width:t.videoWidth,r=t.height>0?t.height:t.videoHeight;e.width<n&&(e.width=n),e.height<r&&(e.height=r);const i=this.context;let s;t.constructor===ImageData?s=t.data:(i.drawImage(t,0,0,n,r),s=i.getImageData(0,0,n,r).data);const a=new Array(r);let o=0;for(let u=r-1;u>=0;u--){const t=a[u]=new Array(n);for(let e=0;e<n;e++){const n=new Float32Array(4);n[0]=s[o++]/255,n[1]=s[o++]/255,n[2]=s[o++]/255,n[3]=s[o++]/255,t[e]=n}}return a}getPixels(t){const[e,n]=this.output;return t?a.flipPixels(this._imageData.data,e,n):this._imageData.data.slice(0)}_imageTo3DArray(t){const e=new Array(t.length);for(let n=0;n<t.length;n++)e[n]=this._mediaTo2DArray(t[n]);return e}_resultKernelHeader(){if(this.graphical)return"";if(this.immutable)return"";if(!this.pipeline)return"";switch(this.output.length){case 1:return this._mutableKernel1DResults();case 2:return this._mutableKernel2DResults();case 3:return this._mutableKernel3DResults()}}_resultKernelBody(t){switch(this.output.length){case 1:return(!this.immutable&&this.pipeline?this._resultMutableKernel1DLoop(t):this._resultImmutableKernel1DLoop(t))+this._kernelOutput();case 2:return(!this.immutable&&this.pipeline?this._resultMutableKernel2DLoop(t):this._resultImmutableKernel2DLoop(t))+this._kernelOutput();case 3:return(!this.immutable&&this.pipeline?this._resultMutableKernel3DLoop(t):this._resultImmutableKernel3DLoop(t))+this._kernelOutput();default:throw new Error("unsupported size kernel")}}_graphicalKernelBody(t){if(2===this.output.length)return this._graphicalKernel2DLoop(t)+this._graphicalOutput();throw new Error("unsupported size kernel")}_graphicalOutput(){return"\n    this._imageData.data.set(this._colorData);\n    this.context.putImageData(this._imageData, 0, 0);\n    return;"}_getKernelResultTypeConstructorString(){switch(this.returnType){case"LiteralInteger":case"Number":case"Integer":case"Float":return"Float32Array";case"Array(2)":case"Array(3)":case"Array(4)":return"Array";default:if(this.graphical)return"Float32Array";throw new Error(`unhandled returnType ${this.returnType}`)}}_resultImmutableKernel1DLoop(t){const e=this._getKernelResultTypeConstructorString();return`  const outputX = _this.output[0];\n    const result = new ${e}(outputX);\n    ${this._mapSubKernels((t=>`const result_${t.name} = new ${e}(outputX);\n`)).join("    ")}\n    ${this._mapSubKernels((t=>`let subKernelResult_${t.name};\n`)).join("    ")}\n    for (let x = 0; x < outputX; x++) {\n      this.thread.x = x;\n      this.thread.y = 0;\n      this.thread.z = 0;\n      ${t}\n    }`}_mutableKernel1DResults(){const t=this._getKernelResultTypeConstructorString();return`  const outputX = _this.output[0];\n    const result = new ${t}(outputX);\n    ${this._mapSubKernels((e=>`const result_${e.name} = new ${t}(outputX);\n`)).join("    ")}\n    ${this._mapSubKernels((t=>`let subKernelResult_${t.name};\n`)).join("    ")}`}_resultMutableKernel1DLoop(t){return`  const outputX = _this.output[0];\n    for (let x = 0; x < outputX; x++) {\n      this.thread.x = x;\n      this.thread.y = 0;\n      this.thread.z = 0;\n      ${t}\n    }`}_resultImmutableKernel2DLoop(t){const e=this._getKernelResultTypeConstructorString();return`  const outputX = _this.output[0];\n    const outputY = _this.output[1];\n    const result = new Array(outputY);\n    ${this._mapSubKernels((t=>`const result_${t.name} = new Array(outputY);\n`)).join("    ")}\n    ${this._mapSubKernels((t=>`let subKernelResult_${t.name};\n`)).join("    ")}\n    for (let y = 0; y < outputY; y++) {\n      this.thread.z = 0;\n      this.thread.y = y;\n      const resultX = result[y] = new ${e}(outputX);\n      ${this._mapSubKernels((t=>`const resultX_${t.name} = result_${t.name}[y] = new ${e}(outputX);\n`)).join("")}\n      for (let x = 0; x < outputX; x++) {\n        this.thread.x = x;\n        ${t}\n      }\n    }`}_mutableKernel2DResults(){const t=this._getKernelResultTypeConstructorString();return`  const outputX = _this.output[0];\n    const outputY = _this.output[1];\n    const result = new Array(outputY);\n    ${this._mapSubKernels((t=>`const result_${t.name} = new Array(outputY);\n`)).join("    ")}\n    ${this._mapSubKernels((t=>`let subKernelResult_${t.name};\n`)).join("    ")}\n    for (let y = 0; y < outputY; y++) {\n      const resultX = result[y] = new ${t}(outputX);\n      ${this._mapSubKernels((e=>`const resultX_${e.name} = result_${e.name}[y] = new ${t}(outputX);\n`)).join("")}\n    }`}_resultMutableKernel2DLoop(t){const e=this._getKernelResultTypeConstructorString();return`  const outputX = _this.output[0];\n    const outputY = _this.output[1];\n    for (let y = 0; y < outputY; y++) {\n      this.thread.z = 0;\n      this.thread.y = y;\n      const resultX = result[y];\n      ${this._mapSubKernels((t=>`const resultX_${t.name} = result_${t.name}[y] = new ${e}(outputX);\n`)).join("")}\n      for (let x = 0; x < outputX; x++) {\n        this.thread.x = x;\n        ${t}\n      }\n    }`}_graphicalKernel2DLoop(t){return`  const outputX = _this.output[0];\n    const outputY = _this.output[1];\n    for (let y = 0; y < outputY; y++) {\n      this.thread.z = 0;\n      this.thread.y = y;\n      for (let x = 0; x < outputX; x++) {\n        this.thread.x = x;\n        ${t}\n      }\n    }`}_resultImmutableKernel3DLoop(t){const e=this._getKernelResultTypeConstructorString();return`  const outputX = _this.output[0];\n    const outputY = _this.output[1];\n    const outputZ = _this.output[2];\n    const result = new Array(outputZ);\n    ${this._mapSubKernels((t=>`const result_${t.name} = new Array(outputZ);\n`)).join("    ")}\n    ${this._mapSubKernels((t=>`let subKernelResult_${t.name};\n`)).join("    ")}\n    for (let z = 0; z < outputZ; z++) {\n      this.thread.z = z;\n      const resultY = result[z] = new Array(outputY);\n      ${this._mapSubKernels((t=>`const resultY_${t.name} = result_${t.name}[z] = new Array(outputY);\n`)).join("      ")}\n      for (let y = 0; y < outputY; y++) {\n        this.thread.y = y;\n        const resultX = resultY[y] = new ${e}(outputX);\n        ${this._mapSubKernels((t=>`const resultX_${t.name} = resultY_${t.name}[y] = new ${e}(outputX);\n`)).join("        ")}\n        for (let x = 0; x < outputX; x++) {\n          this.thread.x = x;\n          ${t}\n        }\n      }\n    }`}_mutableKernel3DResults(){const t=this._getKernelResultTypeConstructorString();return`  const outputX = _this.output[0];\n    const outputY = _this.output[1];\n    const outputZ = _this.output[2];\n    const result = new Array(outputZ);\n    ${this._mapSubKernels((t=>`const result_${t.name} = new Array(outputZ);\n`)).join("    ")}\n    ${this._mapSubKernels((t=>`let subKernelResult_${t.name};\n`)).join("    ")}\n    for (let z = 0; z < outputZ; z++) {\n      const resultY = result[z] = new Array(outputY);\n      ${this._mapSubKernels((t=>`const resultY_${t.name} = result_${t.name}[z] = new Array(outputY);\n`)).join("      ")}\n      for (let y = 0; y < outputY; y++) {\n        const resultX = resultY[y] = new ${t}(outputX);\n        ${this._mapSubKernels((e=>`const resultX_${e.name} = resultY_${e.name}[y] = new ${t}(outputX);\n`)).join("        ")}\n      }\n    }`}_resultMutableKernel3DLoop(t){return`  const outputX = _this.output[0];\n    const outputY = _this.output[1];\n    const outputZ = _this.output[2];\n    for (let z = 0; z < outputZ; z++) {\n      this.thread.z = z;\n      const resultY = result[z];\n      for (let y = 0; y < outputY; y++) {\n        this.thread.y = y;\n        const resultX = resultY[y];\n        for (let x = 0; x < outputX; x++) {\n          this.thread.x = x;\n          ${t}\n        }\n      }\n    }`}_kernelOutput(){return this.subKernels?`\n    return {\n      result: result,\n      ${this.subKernels.map((t=>`${t.property}: result_${t.name}`)).join(",\n      ")}\n    };`:"\n    return result;"}_mapSubKernels(t){return null===this.subKernels?[""]:this.subKernels.map(t)}destroy(t){t&&delete this.canvas}static destroyContext(t){}toJSON(){const t=super.toJSON();return t.functionNodes=i.fromKernel(this,s).toJSON(),t}setOutput(t){super.setOutput(t);const[e,n]=this.output;this.graphical&&(this._imageData=this.context.createImageData(e,n),this._colorData=new Uint8ClampedArray(e*n*4))}prependString(t){if(this._kernelString)throw new Error("Kernel already built");this._prependedString.push(t)}hasPrependString(t){return this._prependedString.indexOf(t)>-1}}e.exports={CPUKernel:u}},{"../../utils":114,"../function-builder":9,"../kernel":36,"./function-node":6,"./kernel-string":7}],9:[function(t,e,n){class r{static fromKernel(t,e,n){const{kernelArguments:i,kernelConstants:s,argumentNames:a,argumentSizes:o,argumentBitRatios:u,constants:l,constantBitRatios:c,debug:h,loopMaxIterations:p,nativeFunctions:d,output:f,optimizeFloatMemory:m,precision:g,plugins:y,source:b,subKernels:x,functions:v,leadingReturnStatement:w,followingReturnStatement:S,dynamicArguments:k,dynamicOutput:T}=t,A=new Array(i.length),E={};for(let r=0;r<i.length;r++)A[r]=i[r].type;for(let r=0;r<s.length;r++){const t=s[r];E[t.name]=t.type}const _=(t,e)=>j.needsArgumentType(t,e),L=(t,e,n)=>{j.assignArgumentType(t,e,n)},C=(t,e,n)=>j.lookupReturnType(t,e,n),I=t=>j.lookupFunctionArgumentTypes(t),$=(t,e)=>j.lookupFunctionArgumentName(t,e),O=(t,e)=>j.lookupFunctionArgumentBitRatio(t,e),R=(t,e,n,r)=>{j.assignArgumentType(t,e,n,r)},D=(t,e,n,r)=>{j.assignArgumentBitRatio(t,e,n,r)},z=(t,e,n)=>{j.trackFunctionCall(t,e,n)},M=(t,n)=>{const r=[];for(let e=0;e<t.params.length;e++)r.push(t.params[e].name);const i=new e(n,Object.assign({},P,{returnType:null,ast:t,name:t.id.name,argumentNames:r,lookupReturnType:C,lookupFunctionArgumentTypes:I,lookupFunctionArgumentName:$,lookupFunctionArgumentBitRatio:O,needsArgumentType:_,assignArgumentType:L,triggerImplyArgumentType:R,triggerImplyArgumentBitRatio:D,onFunctionCall:z}));i.traceFunctionAST(t),j.addFunctionNode(i)},P=Object.assign({isRootKernel:!1,onNestedFunction:M,lookupReturnType:C,lookupFunctionArgumentTypes:I,lookupFunctionArgumentName:$,lookupFunctionArgumentBitRatio:O,needsArgumentType:_,assignArgumentType:L,triggerImplyArgumentType:R,triggerImplyArgumentBitRatio:D,onFunctionCall:z,optimizeFloatMemory:m,precision:g,constants:l,constantTypes:E,constantBitRatios:c,debug:h,loopMaxIterations:p,output:f,plugins:y,dynamicArguments:k,dynamicOutput:T},n||{}),N=Object.assign({},P,{isRootKernel:!0,name:"kernel",argumentNames:a,argumentTypes:A,argumentSizes:o,argumentBitRatios:u,leadingReturnStatement:w,followingReturnStatement:S});if("object"===typeof b&&b.functionNodes)return(new r).fromJSON(b.functionNodes,e);const F=new e(b,N);let V=null;v&&(V=v.map((t=>new e(t.source,{returnType:t.returnType,argumentTypes:t.argumentTypes,output:f,plugins:y,constants:l,constantTypes:E,constantBitRatios:c,optimizeFloatMemory:m,precision:g,lookupReturnType:C,lookupFunctionArgumentTypes:I,lookupFunctionArgumentName:$,lookupFunctionArgumentBitRatio:O,needsArgumentType:_,assignArgumentType:L,triggerImplyArgumentType:R,triggerImplyArgumentBitRatio:D,onFunctionCall:z,onNestedFunction:M}))));let K=null;x&&(K=x.map((t=>{const{name:n,source:r}=t;return new e(r,Object.assign({},P,{name:n,isSubKernel:!0,isRootKernel:!1}))})));const j=new r({kernel:t,rootNode:F,functionNodes:V,nativeFunctions:d,subKernelNodes:K});return j}constructor(t){if(t=t||{},this.kernel=t.kernel,this.rootNode=t.rootNode,this.functionNodes=t.functionNodes||[],this.subKernelNodes=t.subKernelNodes||[],this.nativeFunctions=t.nativeFunctions||[],this.functionMap={},this.nativeFunctionNames=[],this.lookupChain=[],this.functionNodeDependencies={},this.functionCalls={},this.rootNode&&(this.functionMap.kernel=this.rootNode),this.functionNodes)for(let e=0;e<this.functionNodes.length;e++)this.functionMap[this.functionNodes[e].name]=this.functionNodes[e];if(this.subKernelNodes)for(let e=0;e<this.subKernelNodes.length;e++)this.functionMap[this.subKernelNodes[e].name]=this.subKernelNodes[e];if(this.nativeFunctions)for(let e=0;e<this.nativeFunctions.length;e++){const t=this.nativeFunctions[e];this.nativeFunctionNames.push(t.name)}}addFunctionNode(t){if(!t.name)throw new Error("functionNode.name needs set");this.functionMap[t.name]=t,t.isRootKernel&&(this.rootNode=t)}traceFunctionCalls(t,e){if(t=t||"kernel",e=e||[],this.nativeFunctionNames.indexOf(t)>-1){const n=e.indexOf(t);if(-1===n)e.push(t);else{const t=e.splice(n,1)[0];e.push(t)}return e}const n=this.functionMap[t];if(n){const r=e.indexOf(t);if(-1===r){e.push(t),n.toString();for(let t=0;t<n.calledFunctions.length;++t)this.traceFunctionCalls(n.calledFunctions[t],e)}else{const t=e.splice(r,1)[0];e.push(t)}}return e}getPrototypeString(t){return this.getPrototypes(t).join("\n")}getPrototypes(t){return this.rootNode&&this.rootNode.toString(),t?this.getPrototypesFromFunctionNames(this.traceFunctionCalls(t,[]).reverse()):this.getPrototypesFromFunctionNames(Object.keys(this.functionMap))}getStringFromFunctionNames(t){const e=[];for(let n=0;n<t.length;++n)this.functionMap[t[n]]&&e.push(this.functionMap[t[n]].toString());return e.join("\n")}getPrototypesFromFunctionNames(t){const e=[];for(let n=0;n<t.length;++n){const r=t[n],i=this.nativeFunctionNames.indexOf(r);if(i>-1){e.push(this.nativeFunctions[i].source);continue}const s=this.functionMap[r];s&&e.push(s.toString())}return e}toJSON(){return this.traceFunctionCalls(this.rootNode.name).reverse().map((t=>{const e=this.nativeFunctions.indexOf(t);if(e>-1)return{name:t,source:this.nativeFunctions[e].source};if(this.functionMap[t])return this.functionMap[t].toJSON();throw new Error(`function ${t} not found`)}))}fromJSON(t,e){this.functionMap={};for(let n=0;n<t.length;n++){const r=t[n];this.functionMap[r.settings.name]=new e(r.ast,r.settings)}return this}getString(t){return t?this.getStringFromFunctionNames(this.traceFunctionCalls(t).reverse()):this.getStringFromFunctionNames(Object.keys(this.functionMap))}lookupReturnType(t,e,n){if("CallExpression"!==e.type)throw new Error(`expected ast type of "CallExpression", but is ${e.type}`);if(this._isNativeFunction(t))return this._lookupNativeFunctionReturnType(t);if(this._isFunction(t)){const r=this._getFunction(t);if(r.returnType)return r.returnType;{for(let i=0;i<this.lookupChain.length;i++)if(this.lookupChain[i].ast===e){if(0===r.argumentTypes.length&&e.arguments.length>0){const t=e.arguments;for(let e=0;e<t.length;e++)this.lookupChain.push({name:n.name,ast:t[i],requestingNode:n}),r.argumentTypes[e]=n.getType(t[e]),this.lookupChain.pop();return r.returnType=r.getType(r.getJsAST())}throw new Error("circlical logic detected!")}this.lookupChain.push({name:n.name,ast:e,requestingNode:n});const t=r.getType(r.getJsAST());return this.lookupChain.pop(),r.returnType=t}}return null}_getFunction(t){return this._isFunction(t),this.functionMap[t]}_isFunction(t){return Boolean(this.functionMap[t])}_getNativeFunction(t){for(let e=0;e<this.nativeFunctions.length;e++)if(this.nativeFunctions[e].name===t)return this.nativeFunctions[e];return null}_isNativeFunction(t){return Boolean(this._getNativeFunction(t))}_lookupNativeFunctionReturnType(t){let e=this._getNativeFunction(t);if(e)return e.returnType;throw new Error(`Native function ${t} not found`)}lookupFunctionArgumentTypes(t){return this._isNativeFunction(t)?this._getNativeFunction(t).argumentTypes:this._isFunction(t)?this._getFunction(t).argumentTypes:null}lookupFunctionArgumentName(t,e){return this._getFunction(t).argumentNames[e]}lookupFunctionArgumentBitRatio(t,e){if(!this._isFunction(t))throw new Error("function not found");if(this.rootNode.name===t){const t=this.rootNode.argumentNames.indexOf(e);if(-1!==t)return this.rootNode.argumentBitRatios[t]}const n=this._getFunction(t),r=n.argumentNames.indexOf(e);if(-1===r)throw new Error("argument not found");const i=n.argumentBitRatios[r];if("number"!==typeof i)throw new Error("argument bit ratio not found");return i}needsArgumentType(t,e){return!!this._isFunction(t)&&!this._getFunction(t).argumentTypes[e]}assignArgumentType(t,e,n,r){if(!this._isFunction(t))return;const i=this._getFunction(t);i.argumentTypes[e]||(i.argumentTypes[e]=n)}assignArgumentBitRatio(t,e,n,r){const i=this._getFunction(t);if(this._isNativeFunction(n))return null;const s=this._getFunction(n),a=i.argumentNames.indexOf(e);if(-1===a)throw new Error(`Argument ${e} not found in arguments from function ${t}`);const o=i.argumentBitRatios[a];if("number"!==typeof o)throw new Error(`Bit ratio for argument ${e} not found in function ${t}`);s.argumentBitRatios||(s.argumentBitRatios=new Array(s.argumentNames.length));const u=s.argumentBitRatios[a];if("number"===typeof u){if(u!==o)throw new Error(`Incompatible bit ratio found at function ${t} at argument ${e}`);return u}return s.argumentBitRatios[a]=o,o}trackFunctionCall(t,e,n){this.functionNodeDependencies[t]||(this.functionNodeDependencies[t]=new Set,this.functionCalls[t]=[]),this.functionNodeDependencies[t].add(e),this.functionCalls[t].push(n)}getKernelResultType(){return this.rootNode.returnType||this.rootNode.getType(this.rootNode.ast)}getSubKernelResultType(t){const e=this.subKernelNodes[t];let n=!1;for(let r=0;r<this.rootNode.functionCalls.length;r++)this.rootNode.functionCalls[r].ast.callee.name===e.name&&(n=!0);if(!n)throw new Error(`SubKernel ${e.name} never called by kernel`);return e.returnType||e.getType(e.getJsAST())}getReturnTypes(){const t={[this.rootNode.name]:this.rootNode.getType(this.rootNode.ast)},e=this.traceFunctionCalls(this.rootNode.name);for(let n=0;n<e.length;n++){const r=e[n],i=this.functionMap[r];t[r]=i.getType(i.ast)}return t}}e.exports={FunctionBuilder:r}},{}],10:[function(t,e,n){const r=t("acorn"),{utils:i}=t("../utils"),{FunctionTracer:s}=t("./function-tracer");class a{constructor(t,e){if(!t&&!e.ast)throw new Error("source parameter is missing");if(e=e||{},this.source=t,this.ast=null,this.name="string"===typeof t?e.isRootKernel?"kernel":e.name||i.getFunctionNameFromString(t):null,this.calledFunctions=[],this.constants={},this.constantTypes={},this.constantBitRatios={},this.isRootKernel=!1,this.isSubKernel=!1,this.debug=null,this.functions=null,this.identifiers=null,this.contexts=null,this.functionCalls=null,this.states=[],this.needsArgumentType=null,this.assignArgumentType=null,this.lookupReturnType=null,this.lookupFunctionArgumentTypes=null,this.lookupFunctionArgumentBitRatio=null,this.triggerImplyArgumentType=null,this.triggerImplyArgumentBitRatio=null,this.onNestedFunction=null,this.onFunctionCall=null,this.optimizeFloatMemory=null,this.precision=null,this.loopMaxIterations=null,this.argumentNames="string"===typeof this.source?i.getArgumentNamesFromString(this.source):null,this.argumentTypes=[],this.argumentSizes=[],this.argumentBitRatios=null,this.returnType=null,this.output=[],this.plugins=null,this.leadingReturnStatement=null,this.followingReturnStatement=null,this.dynamicOutput=null,this.dynamicArguments=null,this.strictTypingChecking=!1,this.fixIntegerDivisionAccuracy=null,e)for(const n in e)e.hasOwnProperty(n)&&this.hasOwnProperty(n)&&(this[n]=e[n]);this.literalTypes={},this.validate(),this._string=null,this._internalVariableNames={}}validate(){if("string"!==typeof this.source&&!this.ast)throw new Error("this.source not a string");if(!this.ast&&!i.isFunctionString(this.source))throw new Error("this.source not a function string");if(!this.name)throw new Error("this.name could not be set");if(this.argumentTypes.length>0&&this.argumentTypes.length!==this.argumentNames.length)throw new Error(`argumentTypes count of ${this.argumentTypes.length} exceeds ${this.argumentNames.length}`);if(this.output.length<1)throw new Error("this.output is not big enough")}isIdentifierConstant(t){return!!this.constants&&this.constants.hasOwnProperty(t)}isInput(t){return"Input"===this.argumentTypes[this.argumentNames.indexOf(t)]}pushState(t){this.states.push(t)}popState(t){if(this.state!==t)throw new Error(`Cannot popState ${t} when in ${this.state}`);this.states.pop()}isState(t){return this.state===t}get state(){return this.states[this.states.length-1]}astMemberExpressionUnroll(t){if("Identifier"===t.type)return t.name;if("ThisExpression"===t.type)return"this";if("MemberExpression"===t.type&&t.object&&t.property)return t.object.hasOwnProperty("name")&&"Math"!==t.object.name?this.astMemberExpressionUnroll(t.property):this.astMemberExpressionUnroll(t.object)+"."+this.astMemberExpressionUnroll(t.property);if(t.hasOwnProperty("expressions")){const e=t.expressions[0];if("Literal"===e.type&&0===e.value&&2===t.expressions.length)return this.astMemberExpressionUnroll(t.expressions[1])}throw this.astErrorOutput("Unknown astMemberExpressionUnroll",t)}getJsAST(t){if(this.ast)return this.ast;if("object"===typeof this.source)return this.traceFunctionAST(this.source),this.ast=this.source;if(null===(t=t||r))throw new Error("Missing JS to AST parser");const e=Object.freeze(t.parse(`const parser_${this.name} = ${this.source};`,{locations:!0})),n=e.body[0].declarations[0].init;if(this.traceFunctionAST(n),!e)throw new Error("Failed to parse JS code");return this.ast=n}traceFunctionAST(t){const{contexts:e,declarations:n,functions:r,identifiers:i,functionCalls:a}=new s(t);this.contexts=e,this.identifiers=i,this.functionCalls=a,this.functions=r;for(let s=0;s<n.length;s++){const t=n[s],{ast:e,inForLoopInit:r,inForLoopTest:i}=t,{init:a}=e,o=this.getDependencies(a);let u=null;if(r&&i)u="Integer";else if(a){const t=this.getType(a);switch(t){case"Integer":case"Float":case"Number":u="MemberExpression"===a.type?t:"Number";break;case"LiteralInteger":u="Number";break;default:u=t}}t.valueType=u,t.dependencies=o,t.isSafe=this.isSafeDependencies(o)}for(let s=0;s<r.length;s++)this.onNestedFunction(r[s],this.source)}getDeclaration(t){for(let e=0;e<this.identifiers.length;e++){const n=this.identifiers[e];if(t===n.ast)return n.declaration}return null}getVariableType(t){if("Identifier"!==t.type)throw new Error(`ast of ${t.type} not "Identifier"`);let e=null;const n=this.argumentNames.indexOf(t.name);if(-1===n){const e=this.getDeclaration(t);if(e)return e.valueType}else{const t=this.argumentTypes[n];t&&(e=t)}if(!e&&this.strictTypingChecking)throw new Error(`Declaration of ${name} not found`);return e}getLookupType(t){if(!o.hasOwnProperty(t))throw new Error(`unknown typeLookupMap ${t}`);return o[t]}getConstantType(t){if(this.constantTypes[t]){const e=this.constantTypes[t];return"Float"===e?"Number":e}throw new Error(`Type for constant "${t}" not declared`)}toString(){return this._string?this._string:this._string=this.astGeneric(this.getJsAST(),[]).join("").trim()}toJSON(){const t={source:this.source,name:this.name,constants:this.constants,constantTypes:this.constantTypes,isRootKernel:this.isRootKernel,isSubKernel:this.isSubKernel,debug:this.debug,output:this.output,loopMaxIterations:this.loopMaxIterations,argumentNames:this.argumentNames,argumentTypes:this.argumentTypes,argumentSizes:this.argumentSizes,returnType:this.returnType,leadingReturnStatement:this.leadingReturnStatement,followingReturnStatement:this.followingReturnStatement};return{ast:this.ast,settings:t}}getType(t){if(Array.isArray(t))return this.getType(t[t.length-1]);switch(t.type){case"BlockStatement":return this.getType(t.body);case"ArrayExpression":switch(this.getType(t.elements[0])){case"Array(2)":case"Array(3)":case"Array(4)":return`Matrix(${t.elements.length})`}return`Array(${t.elements.length})`;case"Literal":const e=this.astKey(t);return this.literalTypes[e]?this.literalTypes[e]:Number.isInteger(t.value)?"LiteralInteger":!0===t.value||!1===t.value?"Boolean":"Number";case"AssignmentExpression":return this.getType(t.left);case"CallExpression":if(this.isAstMathFunction(t))return"Number";if(!t.callee||!t.callee.name){if("SequenceExpression"===t.callee.type&&t.callee.expressions[t.callee.expressions.length-1].property.name){const e=t.callee.expressions[t.callee.expressions.length-1].property.name;return this.inferArgumentTypesIfNeeded(e,t.arguments),this.lookupReturnType(e,t,this)}if("this.color"===this.getVariableSignature(t.callee,!0))return null;if("MemberExpression"===t.callee.type&&t.callee.object&&t.callee.property&&t.callee.property.name&&t.arguments){const e=t.callee.property.name;return this.inferArgumentTypesIfNeeded(e,t.arguments),this.lookupReturnType(e,t,this)}throw this.astErrorOutput("Unknown call expression",t)}if(t.callee&&t.callee.name){const e=t.callee.name;return this.inferArgumentTypesIfNeeded(e,t.arguments),this.lookupReturnType(e,t,this)}throw this.astErrorOutput(`Unhandled getType Type "${t.type}"`,t);case"LogicalExpression":return"Boolean";case"BinaryExpression":switch(t.operator){case"%":case"/":if(this.fixIntegerDivisionAccuracy)return"Number";break;case">":case"<":return"Boolean";case"&":case"|":case"^":case"<<":case">>":case">>>":return"Integer"}const n=this.getType(t.left);if(this.isState("skip-literal-correction"))return n;if("LiteralInteger"===n){const e=this.getType(t.right);return"LiteralInteger"===e?t.left.value%1===0?"Integer":"Float":e}return o[n]||n;case"UpdateExpression":case"ReturnStatement":return this.getType(t.argument);case"UnaryExpression":return"~"===t.operator?"Integer":this.getType(t.argument);case"VariableDeclaration":{const e=t.declarations;let n;for(let t=0;t<e.length;t++){const r=e[t];n=this.getType(r)}if(!n)throw this.astErrorOutput("Unable to find type for declaration",t);return n}case"VariableDeclarator":const r=this.getDeclaration(t.id);if(!r)throw this.astErrorOutput("Unable to find declarator",t);if(!r.valueType)throw this.astErrorOutput("Unable to find declarator valueType",t);return r.valueType;case"Identifier":if("Infinity"===t.name)return"Number";if(this.isAstVariable(t)&&"value"===this.getVariableSignature(t))return this.getCheckVariableType(t);const i=this.findIdentifierOrigin(t);return i&&i.init?this.getType(i.init):null;case"MemberExpression":if(this.isAstMathFunction(t)){switch(t.property.name){case"ceil":case"floor":case"round":return"Integer"}return"Number"}if(this.isAstVariable(t)){switch(this.getVariableSignature(t)){case"value[]":return this.getLookupType(this.getCheckVariableType(t.object));case"value[][]":return this.getLookupType(this.getCheckVariableType(t.object.object));case"value[][][]":return this.getLookupType(this.getCheckVariableType(t.object.object.object));case"value[][][][]":return this.getLookupType(this.getCheckVariableType(t.object.object.object.object));case"value.thread.value":case"this.thread.value":return"Integer";case"this.output.value":return this.dynamicOutput?"Integer":"LiteralInteger";case"this.constants.value":return this.getConstantType(t.property.name);case"this.constants.value[]":return this.getLookupType(this.getConstantType(t.object.property.name));case"this.constants.value[][]":return this.getLookupType(this.getConstantType(t.object.object.property.name));case"this.constants.value[][][]":return this.getLookupType(this.getConstantType(t.object.object.object.property.name));case"this.constants.value[][][][]":return this.getLookupType(this.getConstantType(t.object.object.object.object.property.name));case"fn()[]":case"fn()[][]":case"fn()[][][]":return this.getLookupType(this.getType(t.object));case"value.value":if(this.isAstMathVariable(t))return"Number";switch(t.property.name){case"r":case"g":case"b":case"a":return this.getLookupType(this.getCheckVariableType(t.object))}case"[][]":return"Number"}throw this.astErrorOutput("Unhandled getType MemberExpression",t)}throw this.astErrorOutput("Unhandled getType MemberExpression",t);case"ConditionalExpression":case"IfStatement":return this.getType(t.consequent);case"FunctionDeclaration":case"FunctionExpression":const s=this.findLastReturn(t.body);return s?this.getType(s):null;case"SequenceExpression":return this.getType(t.expressions[t.expressions.length-1]);default:throw this.astErrorOutput(`Unhandled getType Type "${t.type}"`,t)}}getCheckVariableType(t){const e=this.getVariableType(t);if(!e)throw this.astErrorOutput(`${t.type} is not defined`,t);return e}inferArgumentTypesIfNeeded(t,e){for(let n=0;n<e.length;n++){if(!this.needsArgumentType(t,n))continue;const r=this.getType(e[n]);if(!r)throw this.astErrorOutput(`Unable to infer argument ${n}`,e[n]);this.assignArgumentType(t,n,r)}}isAstMathVariable(t){const e=["E","PI","SQRT2","SQRT1_2","LN2","LN10","LOG2E","LOG10E"];return"MemberExpression"===t.type&&t.object&&"Identifier"===t.object.type&&"Math"===t.object.name&&t.property&&"Identifier"===t.property.type&&e.indexOf(t.property.name)>-1}isAstMathFunction(t){const e=["abs","acos","acosh","asin","asinh","atan","atan2","atanh","cbrt","ceil","clz32","cos","cosh","expm1","exp","floor","fround","imul","log","log2","log10","log1p","max","min","pow","random","round","sign","sin","sinh","sqrt","tan","tanh","trunc"];return"CallExpression"===t.type&&t.callee&&"MemberExpression"===t.callee.type&&t.callee.object&&"Identifier"===t.callee.object.type&&"Math"===t.callee.object.name&&t.callee.property&&"Identifier"===t.callee.property.type&&e.indexOf(t.callee.property.name)>-1}isAstVariable(t){return"Identifier"===t.type||"MemberExpression"===t.type}isSafe(t){return this.isSafeDependencies(this.getDependencies(t))}isSafeDependencies(t){return!t||!t.every||t.every((t=>t.isSafe))}getDependencies(t,e,n){if(e||(e=[]),!t)return null;if(Array.isArray(t)){for(let r=0;r<t.length;r++)this.getDependencies(t[r],e,n);return e}switch(t.type){case"AssignmentExpression":return this.getDependencies(t.left,e,n),this.getDependencies(t.right,e,n),e;case"ConditionalExpression":return this.getDependencies(t.test,e,n),this.getDependencies(t.alternate,e,n),this.getDependencies(t.consequent,e,n),e;case"Literal":e.push({origin:"literal",value:t.value,isSafe:!0!==n&&t.value>-1/0&&t.value<1/0&&!isNaN(t.value)});break;case"VariableDeclarator":return this.getDependencies(t.init,e,n);case"Identifier":const r=this.getDeclaration(t);if(r)e.push({name:t.name,origin:"declaration",isSafe:!n&&this.isSafeDependencies(r.dependencies)});else if(this.argumentNames.indexOf(t.name)>-1)e.push({name:t.name,origin:"argument",isSafe:!1});else if(this.strictTypingChecking)throw new Error(`Cannot find identifier origin "${t.name}"`);break;case"FunctionDeclaration":return this.getDependencies(t.body.body[t.body.body.length-1],e,n);case"ReturnStatement":return this.getDependencies(t.argument,e);case"BinaryExpression":case"LogicalExpression":return n="/"===t.operator||"*"===t.operator,this.getDependencies(t.left,e,n),this.getDependencies(t.right,e,n),e;case"UnaryExpression":case"UpdateExpression":return this.getDependencies(t.argument,e,n);case"VariableDeclaration":return this.getDependencies(t.declarations,e,n);case"ArrayExpression":return e.push({origin:"declaration",isSafe:!0}),e;case"CallExpression":return e.push({origin:"function",isSafe:!0}),e;case"MemberExpression":const i=this.getMemberExpressionDetails(t);switch(i.signature){case"value[]":this.getDependencies(t.object,e,n);break;case"value[][]":this.getDependencies(t.object.object,e,n);break;case"value[][][]":this.getDependencies(t.object.object.object,e,n);break;case"this.output.value":this.dynamicOutput&&e.push({name:i.name,origin:"output",isSafe:!1})}if(i)return i.property&&this.getDependencies(i.property,e,n),i.xProperty&&this.getDependencies(i.xProperty,e,n),i.yProperty&&this.getDependencies(i.yProperty,e,n),i.zProperty&&this.getDependencies(i.zProperty,e,n),e;case"SequenceExpression":return this.getDependencies(t.expressions,e,n);default:throw this.astErrorOutput(`Unhandled type ${t.type} in getDependencies`,t)}return e}getVariableSignature(t,e){if(!this.isAstVariable(t))throw new Error(`ast of type "${t.type}" is not a variable signature`);if("Identifier"===t.type)return"value";const n=[];for(;t;)t.computed?n.push("[]"):"ThisExpression"===t.type?n.unshift("this"):t.property&&t.property.name?"x"===t.property.name||"y"===t.property.name||"z"===t.property.name?n.unshift(e?"."+t.property.name:".value"):"constants"===t.property.name||"thread"===t.property.name||"output"===t.property.name?n.unshift("."+t.property.name):n.unshift(e?"."+t.property.name:".value"):t.name?n.unshift(e?t.name:"value"):t.callee&&t.callee.name?n.unshift(e?t.callee.name+"()":"fn()"):t.elements?n.unshift("[]"):n.unshift("unknown"),t=t.object;const r=n.join("");return e||["value","value[]","value[][]","value[][][]","value[][][][]","value.value","value.thread.value","this.thread.value","this.output.value","this.constants.value","this.constants.value[]","this.constants.value[][]","this.constants.value[][][]","this.constants.value[][][][]","fn()[]","fn()[][]","fn()[][][]","[][]"].indexOf(r)>-1?r:null}build(){return this.toString().length>0}astGeneric(t,e){if(null===t)throw this.astErrorOutput("NULL ast",t);if(Array.isArray(t)){for(let n=0;n<t.length;n++)this.astGeneric(t[n],e);return e}switch(t.type){case"FunctionDeclaration":return this.astFunctionDeclaration(t,e);case"FunctionExpression":return this.astFunctionExpression(t,e);case"ReturnStatement":return this.astReturnStatement(t,e);case"Literal":return this.astLiteral(t,e);case"BinaryExpression":return this.astBinaryExpression(t,e);case"Identifier":return this.astIdentifierExpression(t,e);case"AssignmentExpression":return this.astAssignmentExpression(t,e);case"ExpressionStatement":return this.astExpressionStatement(t,e);case"EmptyStatement":return this.astEmptyStatement(t,e);case"BlockStatement":return this.astBlockStatement(t,e);case"IfStatement":return this.astIfStatement(t,e);case"SwitchStatement":return this.astSwitchStatement(t,e);case"BreakStatement":return this.astBreakStatement(t,e);case"ContinueStatement":return this.astContinueStatement(t,e);case"ForStatement":return this.astForStatement(t,e);case"WhileStatement":return this.astWhileStatement(t,e);case"DoWhileStatement":return this.astDoWhileStatement(t,e);case"VariableDeclaration":return this.astVariableDeclaration(t,e);case"VariableDeclarator":return this.astVariableDeclarator(t,e);case"ThisExpression":return this.astThisExpression(t,e);case"SequenceExpression":return this.astSequenceExpression(t,e);case"UnaryExpression":return this.astUnaryExpression(t,e);case"UpdateExpression":return this.astUpdateExpression(t,e);case"LogicalExpression":return this.astLogicalExpression(t,e);case"MemberExpression":return this.astMemberExpression(t,e);case"CallExpression":return this.astCallExpression(t,e);case"ArrayExpression":return this.astArrayExpression(t,e);case"DebuggerStatement":return this.astDebuggerStatement(t,e);case"ConditionalExpression":return this.astConditionalExpression(t,e)}throw this.astErrorOutput("Unknown ast type : "+t.type,t)}astErrorOutput(t,e){if("string"!==typeof this.source)return new Error(t);const n=i.getAstString(this.source,e),r=this.source.substr(e.start).split(/\n/),s=r.length>0?r[r.length-1]:0;return new Error(`${t} on line ${r.length}, position ${s.length}:\n ${n}`)}astDebuggerStatement(t,e){return e}astConditionalExpression(t,e){if("ConditionalExpression"!==t.type)throw this.astErrorOutput("Not a conditional expression",t);return e.push("("),this.astGeneric(t.test,e),e.push("?"),this.astGeneric(t.consequent,e),e.push(":"),this.astGeneric(t.alternate,e),e.push(")"),e}astFunction(t,e){throw new Error(`"astFunction" not defined on ${this.constructor.name}`)}astFunctionDeclaration(t,e){return this.isChildFunction(t)?e:this.astFunction(t,e)}astFunctionExpression(t,e){return this.isChildFunction(t)?e:this.astFunction(t,e)}isChildFunction(t){for(let e=0;e<this.functions.length;e++)if(this.functions[e]===t)return!0;return!1}astReturnStatement(t,e){return e}astLiteral(t,e){return this.literalTypes[this.astKey(t)]="Number",e}astBinaryExpression(t,e){return e}astIdentifierExpression(t,e){return e}astAssignmentExpression(t,e){return e}astExpressionStatement(t,e){return this.astGeneric(t.expression,e),e.push(";"),e}astEmptyStatement(t,e){return e}astBlockStatement(t,e){return e}astIfStatement(t,e){return e}astSwitchStatement(t,e){return e}astBreakStatement(t,e){return e.push("break;"),e}astContinueStatement(t,e){return e.push("continue;\n"),e}astForStatement(t,e){return e}astWhileStatement(t,e){return e}astDoWhileStatement(t,e){return e}astVariableDeclarator(t,e){return this.astGeneric(t.id,e),null!==t.init&&(e.push("="),this.astGeneric(t.init,e)),e}astThisExpression(t,e){return e}astSequenceExpression(t,e){const{expressions:n}=t,r=[];for(let i=0;i<n.length;i++){const t=n[i],e=[];this.astGeneric(t,e),r.push(e.join(""))}return r.length>1?e.push("(",r.join(","),")"):e.push(r[0]),e}astUnaryExpression(t,e){return this.checkAndUpconvertBitwiseUnary(t,e)||(t.prefix?(e.push(t.operator),this.astGeneric(t.argument,e)):(this.astGeneric(t.argument,e),e.push(t.operator))),e}checkAndUpconvertBitwiseUnary(t,e){}astUpdateExpression(t,e){return t.prefix?(e.push(t.operator),this.astGeneric(t.argument,e)):(this.astGeneric(t.argument,e),e.push(t.operator)),e}astLogicalExpression(t,e){return e.push("("),this.astGeneric(t.left,e),e.push(t.operator),this.astGeneric(t.right,e),e.push(")"),e}astMemberExpression(t,e){return e}astCallExpression(t,e){return e}astArrayExpression(t,e){return e}getMemberExpressionDetails(t){if("MemberExpression"!==t.type)throw this.astErrorOutput(`Expression ${t.type} not a MemberExpression`,t);let e=null,n=null;const r=this.getVariableSignature(t);switch(r){case"value":return null;case"value.thread.value":case"this.thread.value":case"this.output.value":return{signature:r,type:"Integer",name:t.property.name};case"value[]":if("string"!==typeof t.object.name)throw this.astErrorOutput("Unexpected expression",t);return e=t.object.name,{name:e,origin:"user",signature:r,type:this.getVariableType(t.object),xProperty:t.property};case"value[][]":if("string"!==typeof t.object.object.name)throw this.astErrorOutput("Unexpected expression",t);return e=t.object.object.name,{name:e,origin:"user",signature:r,type:this.getVariableType(t.object.object),yProperty:t.object.property,xProperty:t.property};case"value[][][]":if("string"!==typeof t.object.object.object.name)throw this.astErrorOutput("Unexpected expression",t);return e=t.object.object.object.name,{name:e,origin:"user",signature:r,type:this.getVariableType(t.object.object.object),zProperty:t.object.object.property,yProperty:t.object.property,xProperty:t.property};case"value[][][][]":if("string"!==typeof t.object.object.object.object.name)throw this.astErrorOutput("Unexpected expression",t);return e=t.object.object.object.object.name,{name:e,origin:"user",signature:r,type:this.getVariableType(t.object.object.object.object),zProperty:t.object.object.property,yProperty:t.object.property,xProperty:t.property};case"value.value":if("string"!==typeof t.property.name)throw this.astErrorOutput("Unexpected expression",t);if(this.isAstMathVariable(t))return e=t.property.name,{name:e,origin:"Math",type:"Number",signature:r};switch(t.property.name){case"r":case"g":case"b":case"a":return e=t.object.name,{name:e,property:t.property.name,origin:"user",signature:r,type:"Number"};default:throw this.astErrorOutput("Unexpected expression",t)}case"this.constants.value":if("string"!==typeof t.property.name)throw this.astErrorOutput("Unexpected expression",t);if(e=t.property.name,n=this.getConstantType(e),!n)throw this.astErrorOutput("Constant has no type",t);return{name:e,type:n,origin:"constants",signature:r};case"this.constants.value[]":if("string"!==typeof t.object.property.name)throw this.astErrorOutput("Unexpected expression",t);if(e=t.object.property.name,n=this.getConstantType(e),!n)throw this.astErrorOutput("Constant has no type",t);return{name:e,type:n,origin:"constants",signature:r,xProperty:t.property};case"this.constants.value[][]":if("string"!==typeof t.object.object.property.name)throw this.astErrorOutput("Unexpected expression",t);if(e=t.object.object.property.name,n=this.getConstantType(e),!n)throw this.astErrorOutput("Constant has no type",t);return{name:e,type:n,origin:"constants",signature:r,yProperty:t.object.property,xProperty:t.property};case"this.constants.value[][][]":if("string"!==typeof t.object.object.object.property.name)throw this.astErrorOutput("Unexpected expression",t);if(e=t.object.object.object.property.name,n=this.getConstantType(e),!n)throw this.astErrorOutput("Constant has no type",t);return{name:e,type:n,origin:"constants",signature:r,zProperty:t.object.object.property,yProperty:t.object.property,xProperty:t.property};case"fn()[]":case"fn()[][]":case"[][]":return{signature:r,property:t.property};default:throw this.astErrorOutput("Unexpected expression",t)}}findIdentifierOrigin(t){const e=[this.ast];for(;e.length>0;){const n=e[0];if("VariableDeclarator"===n.type&&n.id&&n.id.name&&n.id.name===t.name)return n;if(e.shift(),n.argument)e.push(n.argument);else if(n.body)e.push(n.body);else if(n.declarations)e.push(n.declarations);else if(Array.isArray(n))for(let t=0;t<n.length;t++)e.push(n[t])}return null}findLastReturn(t){const e=[t||this.ast];for(;e.length>0;){const t=e.pop();if("ReturnStatement"===t.type)return t;if("FunctionDeclaration"!==t.type)if(t.argument)e.push(t.argument);else if(t.body)e.push(t.body);else if(t.declarations)e.push(t.declarations);else if(Array.isArray(t))for(let n=0;n<t.length;n++)e.push(t[n]);else t.consequent?e.push(t.consequent):t.cases&&e.push(t.cases)}return null}getInternalVariableName(t){return this._internalVariableNames.hasOwnProperty(t)||(this._internalVariableNames[t]=0),this._internalVariableNames[t]++,1===this._internalVariableNames[t]?t:t+this._internalVariableNames[t]}astKey(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:",";if(!t.start||!t.end)throw new Error("AST start and end needed");return`${t.start}${e}${t.end}`}}const o={Number:"Number",Float:"Float",Integer:"Integer",Array:"Number","Array(2)":"Number","Array(3)":"Number","Array(4)":"Number","Matrix(2)":"Number","Matrix(3)":"Number","Matrix(4)":"Number",Array2D:"Number",Array3D:"Number",Input:"Number",HTMLCanvas:"Array(4)",OffscreenCanvas:"Array(4)",HTMLImage:"Array(4)",ImageBitmap:"Array(4)",ImageData:"Array(4)",HTMLVideo:"Array(4)",HTMLImageArray:"Array(4)",NumberTexture:"Number",MemoryOptimizedNumberTexture:"Number","Array1D(2)":"Array(2)","Array1D(3)":"Array(3)","Array1D(4)":"Array(4)","Array2D(2)":"Array(2)","Array2D(3)":"Array(3)","Array2D(4)":"Array(4)","Array3D(2)":"Array(2)","Array3D(3)":"Array(3)","Array3D(4)":"Array(4)","ArrayTexture(1)":"Number","ArrayTexture(2)":"Array(2)","ArrayTexture(3)":"Array(3)","ArrayTexture(4)":"Array(4)"};e.exports={FunctionNode:a}},{"../utils":114,"./function-tracer":11,acorn:1}],11:[function(t,e,n){const{utils:r}=t("../utils");function i(t){return t.length>0?t[t.length-1]:null}const s={trackIdentifiers:"trackIdentifiers",memberExpression:"memberExpression",inForLoopInit:"inForLoopInit"};class a{constructor(t){this.runningContexts=[],this.functionContexts=[],this.contexts=[],this.functionCalls=[],this.declarations=[],this.identifiers=[],this.functions=[],this.returnStatements=[],this.trackedIdentifiers=null,this.states=[],this.newFunctionContext(),this.scan(t)}isState(t){return this.states[this.states.length-1]===t}hasState(t){return this.states.indexOf(t)>-1}pushState(t){this.states.push(t)}popState(t){if(!this.isState(t))throw new Error(`Cannot pop the non-active state "${t}"`);this.states.pop()}get currentFunctionContext(){return i(this.functionContexts)}get currentContext(){return i(this.runningContexts)}newFunctionContext(){const t={"@contextType":"function"};this.contexts.push(t),this.functionContexts.push(t)}newContext(t){const e=Object.assign({"@contextType":"const/let"},this.currentContext);this.contexts.push(e),this.runningContexts.push(e),t();const{currentFunctionContext:n}=this;for(const r in n)n.hasOwnProperty(r)&&!e.hasOwnProperty(r)&&(e[r]=n[r]);return this.runningContexts.pop(),e}useFunctionContext(t){const e=i(this.functionContexts);this.runningContexts.push(e),t(),this.runningContexts.pop()}getIdentifiers(t){const e=this.trackedIdentifiers=[];return this.pushState(s.trackIdentifiers),t(),this.trackedIdentifiers=null,this.popState(s.trackIdentifiers),e}getDeclaration(t){const{currentContext:e,currentFunctionContext:n,runningContexts:r}=this,i=e[t]||n[t]||null;if(!i&&e===n&&r.length>0){const e=r[r.length-2];if(e[t])return e[t]}return i}scan(t){if(t)if(Array.isArray(t))for(let e=0;e<t.length;e++)this.scan(t[e]);else switch(t.type){case"Program":this.useFunctionContext((()=>{this.scan(t.body)}));break;case"BlockStatement":this.newContext((()=>{this.scan(t.body)}));break;case"AssignmentExpression":case"LogicalExpression":case"BinaryExpression":this.scan(t.left),this.scan(t.right);break;case"UpdateExpression":if("++"===t.operator){const e=this.getDeclaration(t.argument.name);e&&(e.suggestedType="Integer")}this.scan(t.argument);break;case"UnaryExpression":this.scan(t.argument);break;case"VariableDeclaration":"var"===t.kind?this.useFunctionContext((()=>{t.declarations=r.normalizeDeclarations(t),this.scan(t.declarations)})):(t.declarations=r.normalizeDeclarations(t),this.scan(t.declarations));break;case"VariableDeclarator":{const{currentContext:e}=this,n=this.hasState(s.inForLoopInit),r={ast:t,context:e,name:t.id.name,origin:"declaration",inForLoopInit:n,inForLoopTest:null,assignable:e===this.currentFunctionContext||!n&&!e.hasOwnProperty(t.id.name),suggestedType:null,valueType:null,dependencies:null,isSafe:null};e[t.id.name]||(e[t.id.name]=r),this.declarations.push(r),this.scan(t.id),this.scan(t.init);break}case"FunctionExpression":case"FunctionDeclaration":0===this.runningContexts.length?this.scan(t.body):this.functions.push(t);break;case"IfStatement":this.scan(t.test),this.scan(t.consequent),t.alternate&&this.scan(t.alternate);break;case"ForStatement":{let e;const n=this.newContext((()=>{this.pushState(s.inForLoopInit),this.scan(t.init),this.popState(s.inForLoopInit),e=this.getIdentifiers((()=>{this.scan(t.test)})),this.scan(t.update),this.newContext((()=>{this.scan(t.body)}))}));if(e)for(const t in n)"@contextType"!==t&&e.indexOf(t)>-1&&(n[t].inForLoopTest=!0);break}case"DoWhileStatement":case"WhileStatement":this.newContext((()=>{this.scan(t.body),this.scan(t.test)}));break;case"Identifier":this.isState(s.trackIdentifiers)&&this.trackedIdentifiers.push(t.name),this.identifiers.push({context:this.currentContext,declaration:this.getDeclaration(t.name),ast:t});break;case"ReturnStatement":this.returnStatements.push(t),this.scan(t.argument);break;case"MemberExpression":this.pushState(s.memberExpression),this.scan(t.object),this.scan(t.property),this.popState(s.memberExpression);break;case"ExpressionStatement":this.scan(t.expression);break;case"SequenceExpression":this.scan(t.expressions);break;case"CallExpression":this.functionCalls.push({context:this.currentContext,ast:t}),this.scan(t.arguments);break;case"ArrayExpression":this.scan(t.elements);break;case"ConditionalExpression":this.scan(t.test),this.scan(t.alternate),this.scan(t.consequent);break;case"SwitchStatement":this.scan(t.discriminant),this.scan(t.cases);break;case"SwitchCase":this.scan(t.test),this.scan(t.consequent);break;case"ThisExpression":case"Literal":case"DebuggerStatement":case"EmptyStatement":case"BreakStatement":case"ContinueStatement":break;default:throw new Error(`unhandled type "${t.type}"`)}}}e.exports={FunctionTracer:a}},{"../utils":114}],12:[function(t,e,n){const{glWiretap:r}=t("gl-wiretap"),{utils:i}=t("../../utils");function s(t){return t.toString().replace("=>","").replace(/^function /,"").replace(/utils[.]/g,"/*utils.*/")}function a(t,e,n,a,h){n.built||n.build.apply(n,e),e=e?Array.from(e).map((t=>{switch(typeof t){case"boolean":return new Boolean(t);case"number":return new Number(t);default:return t}})):null;const p=[],d=r(n.context,{useTrackablePrimitives:!0,onReadPixels:t=>{if(z.subKernels){if(f){const e=z.subKernels[m++].property;p.push(`    result${isNaN(e)?"."+e:`[${e}]`} = ${o(t,z)};`)}else p.push(`    const result = { result: ${o(t,z)} };`),f=!0;m===z.subKernels.length&&p.push("    return result;")}else t?p.push(`    return ${o(t,z)};`):p.push("    return null;")},onUnrecognizedArgumentLookup:t=>{const e=c(t,z.kernelArguments,[],d);if(e)return e;const n=c(t,z.kernelConstants,S?Object.keys(S).map((t=>S[t])):[],d);return n||null}});let f=!1,m=0;const{source:g,canvas:y,output:b,pipeline:x,graphical:v,loopMaxIterations:w,constants:S,optimizeFloatMemory:k,precision:T,fixIntegerDivisionAccuracy:A,functions:E,nativeFunctions:_,subKernels:L,immutable:C,argumentTypes:I,constantTypes:$,kernelArguments:O,kernelConstants:R,tactic:D}=n,z=new t(g,{canvas:y,context:d,checkContext:!1,output:b,pipeline:x,graphical:v,loopMaxIterations:w,constants:S,optimizeFloatMemory:k,precision:T,fixIntegerDivisionAccuracy:A,functions:E,nativeFunctions:_,subKernels:L,immutable:C,argumentTypes:I,constantTypes:$,tactic:D});let M=[];if(d.setIndent(2),z.build.apply(z,e),M.push(d.toString()),d.reset(),z.kernelArguments.forEach(((t,n)=>{switch(t.type){case"Integer":case"Boolean":case"Number":case"Float":case"Array":case"Array(2)":case"Array(3)":case"Array(4)":case"HTMLCanvas":case"HTMLImage":case"HTMLVideo":case"Input":d.insertVariable(`uploadValue_${t.name}`,t.uploadValue);break;case"HTMLImageArray":for(let r=0;r<e[n].length;r++){const i=e[n];d.insertVariable(`uploadValue_${t.name}[${r}]`,i[r])}break;case"MemoryOptimizedNumberTexture":case"NumberTexture":case"Array1D(2)":case"Array1D(3)":case"Array1D(4)":case"Array2D(2)":case"Array2D(3)":case"Array2D(4)":case"Array3D(2)":case"Array3D(3)":case"Array3D(4)":case"ArrayTexture(1)":case"ArrayTexture(2)":case"ArrayTexture(3)":case"ArrayTexture(4)":d.insertVariable(`uploadValue_${t.name}`,e[n].texture);break;default:throw new Error(`unhandled kernelArgumentType insertion for glWiretap of type ${t.type}`)}})),M.push("/** start of injected functions **/"),M.push(`function ${s(i.flattenTo)}`),M.push(`function ${s(i.flatten2dArrayTo)}`),M.push(`function ${s(i.flatten3dArrayTo)}`),M.push(`function ${s(i.flatten4dArrayTo)}`),M.push(`function ${s(i.isArray)}`),z.renderOutput!==z.renderTexture&&z.formatValues&&M.push(`  const renderOutput = function ${s(z.formatValues)};`),M.push("/** end of injected functions **/"),M.push(`  const innerKernel = function (${z.kernelArguments.map((t=>t.varName)).join(", ")}) {`),d.setIndent(4),z.run.apply(z,e),z.renderKernels?z.renderKernels():z.renderOutput&&z.renderOutput(),M.push("    /** start setup uploads for kernel values **/"),z.kernelArguments.forEach((t=>{M.push("    "+t.getStringValueHandler().split("\n").join("\n    "))})),M.push("    /** end setup uploads for kernel values **/"),M.push(d.toString()),z.renderOutput===z.renderTexture){d.reset();const t=d.getContextVariableName(z.framebuffer);if(z.renderKernels){const e=z.renderKernels(),n=d.getContextVariableName(z.texture.texture);M.push(`    return {\n      result: {\n        texture: ${n},\n        type: '${e.result.type}',\n        toArray: ${l(e.result,n,t)}\n      },`);const{subKernels:r,mappedTextures:i}=z;for(let s=0;s<r.length;s++){const n=i[s],a=r[s],o=e[a.property],u=d.getContextVariableName(n.texture);M.push(`\n      ${a.property}: {\n        texture: ${u},\n        type: '${o.type}',\n        toArray: ${l(o,u,t)}\n      },`)}M.push("    };")}else{const e=z.renderOutput(),n=d.getContextVariableName(z.texture.texture);M.push(`    return {\n        texture: ${n},\n        type: '${e.type}',\n        toArray: ${l(e,n,t)}\n      };`)}}M.push("    "+(h?"\n"+h+"    ":"")),M.push(p.join("\n")),M.push("  };"),z.graphical&&(M.push(u(z)),M.push("  innerKernel.getPixels = getPixels;")),M.push("  return innerKernel;");let P=[];return R.forEach((t=>{P.push(`${t.getStringValueHandler()}`)})),`function kernel(settings) {\n  const { context, constants } = settings;\n  ${P.join("")}\n  ${a||""}\n${M.join("\n")}\n}`}function o(t,e){const n="single"===e.precision?t:`new Float32Array(${t}.buffer)`;return e.output[2]?`renderOutput(${n}, ${e.output[0]}, ${e.output[1]}, ${e.output[2]})`:e.output[1]?`renderOutput(${n}, ${e.output[0]}, ${e.output[1]})`:`renderOutput(${n}, ${e.output[0]})`}function u(t){const e=t.getPixels.toString(),n=!/^function/.test(e);return i.flattenFunctionToString(`${n?"function ":""}${e}`,{findDependency:(t,e)=>"utils"===t?`const ${e} = ${i[e].toString()};`:null,thisLookup:e=>{if("context"===e)return null;if(t.hasOwnProperty(e))return JSON.stringify(t[e]);throw new Error(`unhandled thisLookup ${e}`)}})}function l(t,e,n){const r=t.toArray.toString(),s=!/^function/.test(r);return`() => {\n  function framebuffer() { return ${n}; };\n  ${i.flattenFunctionToString(`${s?"function ":""}${r}`,{findDependency:(e,n)=>{if("utils"===e)return`const ${n} = ${i[n].toString()};`;if("this"===e)return"framebuffer"===n?"":`${s?"function ":""}${t[n].toString()}`;throw new Error("unhandled fromObject")},thisLookup:(n,r)=>{if("texture"===n)return e;if("context"===n)return r?null:"gl";if(t.hasOwnProperty(n))return JSON.stringify(t[n]);throw new Error(`unhandled thisLookup ${n}`)}})}\n  return toArray();\n  }`}function c(t,e,n,r,i){if(null===t)return null;if(null===e)return null;switch(typeof t){case"boolean":case"number":return null}if("undefined"!==typeof HTMLImageElement&&t instanceof HTMLImageElement)for(let s=0;s<e.length;s++){const i=e[s];if("HTMLImageArray"!==i.type&&i)continue;if(i.uploadValue!==t)continue;const a=n[s].indexOf(t);if(-1===a)continue;const o=`uploadValue_${i.name}[${a}]`;return r.insertVariable(o,t),o}for(let s=0;s<e.length;s++){const n=e[s];if(t!==n.uploadValue)continue;const i=`uploadValue_${n.name}`;return r.insertVariable(i,n),i}return null}e.exports={glKernelString:a}},{"../../utils":114,"gl-wiretap":3}],13:[function(t,e,n){const{Kernel:r}=t("../kernel"),{utils:i}=t("../../utils"),{GLTextureArray2Float:s}=t("./texture/array-2-float"),{GLTextureArray2Float2D:a}=t("./texture/array-2-float-2d"),{GLTextureArray2Float3D:o}=t("./texture/array-2-float-3d"),{GLTextureArray3Float:u}=t("./texture/array-3-float"),{GLTextureArray3Float2D:l}=t("./texture/array-3-float-2d"),{GLTextureArray3Float3D:c}=t("./texture/array-3-float-3d"),{GLTextureArray4Float:h}=t("./texture/array-4-float"),{GLTextureArray4Float2D:p}=t("./texture/array-4-float-2d"),{GLTextureArray4Float3D:d}=t("./texture/array-4-float-3d"),{GLTextureFloat:f}=t("./texture/float"),{GLTextureFloat2D:m}=t("./texture/float-2d"),{GLTextureFloat3D:g}=t("./texture/float-3d"),{GLTextureMemoryOptimized:y}=t("./texture/memory-optimized"),{GLTextureMemoryOptimized2D:b}=t("./texture/memory-optimized-2d"),{GLTextureMemoryOptimized3D:x}=t("./texture/memory-optimized-3d"),{GLTextureUnsigned:v}=t("./texture/unsigned"),{GLTextureUnsigned2D:w}=t("./texture/unsigned-2d"),{GLTextureUnsigned3D:S}=t("./texture/unsigned-3d"),{GLTextureGraphical:k}=t("./texture/graphical");class T extends r{static get mode(){return"gpu"}static getIsFloatRead(){const t=new this("function kernelFunction() {\n      return 1;\n    }",{context:this.testContext,canvas:this.testCanvas,validate:!1,output:[1],precision:"single",returnType:"Number",tactic:"speed"});t.build(),t.run();const e=t.renderOutput();return t.destroy(!0),1===e[0]}static getIsIntegerDivisionAccurate(){function t(t,e){return t[this.thread.x]/e[this.thread.x]}const e=new this(t.toString(),{context:this.testContext,canvas:this.testCanvas,validate:!1,output:[2],returnType:"Number",precision:"unsigned",tactic:"speed"}),n=[[6,6030401],[3,3991]];e.build.apply(e,n),e.run.apply(e,n);const r=e.renderOutput();return e.destroy(!0),2===r[0]&&1511===r[1]}static getIsSpeedTacticSupported(){function t(t){return t[this.thread.x]}const e=new this(t.toString(),{context:this.testContext,canvas:this.testCanvas,validate:!1,output:[4],returnType:"Number",precision:"unsigned",tactic:"speed"}),n=[[0,1,2,3]];e.build.apply(e,n),e.run.apply(e,n);const r=e.renderOutput();return e.destroy(!0),0===Math.round(r[0])&&1===Math.round(r[1])&&2===Math.round(r[2])&&3===Math.round(r[3])}static get testCanvas(){throw new Error(`"testCanvas" not defined on ${this.name}`)}static get testContext(){throw new Error(`"testContext" not defined on ${this.name}`)}static getFeatures(){const t=this.testContext,e=this.getIsDrawBuffers();return Object.freeze({isFloatRead:this.getIsFloatRead(),isIntegerDivisionAccurate:this.getIsIntegerDivisionAccurate(),isSpeedTacticSupported:this.getIsSpeedTacticSupported(),isTextureFloat:this.getIsTextureFloat(),isDrawBuffers:e,kernelMap:e,channelCount:this.getChannelCount(),maxTextureSize:this.getMaxTextureSize(),lowIntPrecision:t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.LOW_INT),lowFloatPrecision:t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.LOW_FLOAT),mediumIntPrecision:t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.MEDIUM_INT),mediumFloatPrecision:t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.MEDIUM_FLOAT),highIntPrecision:t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_INT),highFloatPrecision:t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT)})}static setupFeatureChecks(){throw new Error(`"setupFeatureChecks" not defined on ${this.name}`)}static getSignature(t,e){return t.getVariablePrecisionString()+(e.length>0?":"+e.join(","):"")}setFixIntegerDivisionAccuracy(t){return this.fixIntegerDivisionAccuracy=t,this}setPrecision(t){return this.precision=t,this}setFloatTextures(t){return i.warnDeprecated("method","setFloatTextures","setOptimizeFloatMemory"),this.floatTextures=t,this}static nativeFunctionArguments(t){const e=[],n=[],r=[],i=/^[a-zA-Z_]/,s=/[a-zA-Z_0-9]/;let a=0,o=null,u=null;for(;a<t.length;){const l=t[a],c=t[a+1],h=r.length>0?r[r.length-1]:null;if("FUNCTION_ARGUMENTS"!==h||"/"!==l||"*"!==c)if("MULTI_LINE_COMMENT"!==h||"*"!==l||"/"!==c)if("FUNCTION_ARGUMENTS"!==h||"/"!==l||"/"!==c)if("COMMENT"!==h||"\n"!==l)if(null!==h||"("!==l){if("FUNCTION_ARGUMENTS"===h){if(")"===l){r.pop();break}if("f"===l&&"l"===c&&"o"===t[a+2]&&"a"===t[a+3]&&"t"===t[a+4]&&" "===t[a+5]){r.push("DECLARE_VARIABLE"),u="float",o="",a+=6;continue}if("i"===l&&"n"===c&&"t"===t[a+2]&&" "===t[a+3]){r.push("DECLARE_VARIABLE"),u="int",o="",a+=4;continue}if("v"===l&&"e"===c&&"c"===t[a+2]&&"2"===t[a+3]&&" "===t[a+4]){r.push("DECLARE_VARIABLE"),u="vec2",o="",a+=5;continue}if("v"===l&&"e"===c&&"c"===t[a+2]&&"3"===t[a+3]&&" "===t[a+4]){r.push("DECLARE_VARIABLE"),u="vec3",o="",a+=5;continue}if("v"===l&&"e"===c&&"c"===t[a+2]&&"4"===t[a+3]&&" "===t[a+4]){r.push("DECLARE_VARIABLE"),u="vec4",o="",a+=5;continue}}else if("DECLARE_VARIABLE"===h){if(""===o){if(" "===l){a++;continue}if(!i.test(l))throw new Error("variable name is not expected string")}o+=l,s.test(c)||(r.pop(),n.push(o),e.push(A[u]))}a++}else r.push("FUNCTION_ARGUMENTS"),a++;else r.pop(),a++;else r.push("COMMENT"),a+=2;else r.pop(),a+=2;else r.push("MULTI_LINE_COMMENT"),a+=2}if(r.length>0)throw new Error("GLSL function was not parsable");return{argumentNames:n,argumentTypes:e}}static nativeFunctionReturnType(t){return A[t.match(/int|float|vec[2-4]/)[0]]}static combineKernels(t,e){t.apply(null,arguments);const{texSize:n,context:r,threadDim:s}=e.texSize;let a;if("single"===e.precision){const t=n[0],e=Math.ceil(n[1]/4);a=new Float32Array(t*e*4*4),r.readPixels(0,0,t,4*e,r.RGBA,r.FLOAT,a)}else{const t=new Uint8Array(n[0]*n[1]*4);r.readPixels(0,0,n[0],n[1],r.RGBA,r.UNSIGNED_BYTE,t),a=new Float32Array(t.buffer)}return a=a.subarray(0,s[0]*s[1]*s[2]),1===e.output.length?a:2===e.output.length?i.splitArray(a,e.output[0]):3===e.output.length?i.splitArray(a,e.output[0]*e.output[1]).map((function(t){return i.splitArray(t,e.output[0])})):void 0}constructor(t,e){super(t,e),this.transferValues=null,this.formatValues=null,this.TextureConstructor=null,this.renderOutput=null,this.renderRawOutput=null,this.texSize=null,this.translatedSource=null,this.compiledFragmentShader=null,this.compiledVertexShader=null,this.switchingKernels=null,this._textureSwitched=null,this._mappedTextureSwitched=null}checkTextureSize(){const{features:t}=this.constructor;if(this.texSize[0]>t.maxTextureSize||this.texSize[1]>t.maxTextureSize)throw new Error(`Texture size [${this.texSize[0]},${this.texSize[1]}] generated by kernel is larger than supported size [${t.maxTextureSize},${t.maxTextureSize}]`)}translateSource(){throw new Error(`"translateSource" not defined on ${this.constructor.name}`)}pickRenderStrategy(t){if(this.graphical)return this.renderRawOutput=this.readPackedPixelsToUint8Array,this.transferValues=t=>t,this.TextureConstructor=k,null;if("unsigned"===this.precision)if(this.renderRawOutput=this.readPackedPixelsToUint8Array,this.transferValues=this.readPackedPixelsToFloat32Array,this.pipeline)switch(this.renderOutput=this.renderTexture,null!==this.subKernels&&(this.renderKernels=this.renderKernelsToTextures),this.returnType){case"LiteralInteger":case"Float":case"Number":case"Integer":return this.output[2]>0?(this.TextureConstructor=S,null):this.output[1]>0?(this.TextureConstructor=w,null):(this.TextureConstructor=v,null);case"Array(2)":case"Array(3)":case"Array(4)":return this.requestFallback(t)}else switch(null!==this.subKernels&&(this.renderKernels=this.renderKernelsToArrays),this.returnType){case"LiteralInteger":case"Float":case"Number":case"Integer":return this.renderOutput=this.renderValues,this.output[2]>0?(this.TextureConstructor=S,this.formatValues=i.erect3DPackedFloat,null):this.output[1]>0?(this.TextureConstructor=w,this.formatValues=i.erect2DPackedFloat,null):(this.TextureConstructor=v,this.formatValues=i.erectPackedFloat,null);case"Array(2)":case"Array(3)":case"Array(4)":return this.requestFallback(t)}else{if("single"!==this.precision)throw new Error(`unhandled precision of "${this.precision}"`);if(this.renderRawOutput=this.readFloatPixelsToFloat32Array,this.transferValues=this.readFloatPixelsToFloat32Array,this.pipeline)switch(this.renderOutput=this.renderTexture,null!==this.subKernels&&(this.renderKernels=this.renderKernelsToTextures),this.returnType){case"LiteralInteger":case"Float":case"Number":case"Integer":return this.optimizeFloatMemory?this.output[2]>0?(this.TextureConstructor=x,null):this.output[1]>0?(this.TextureConstructor=b,null):(this.TextureConstructor=y,null):this.output[2]>0?(this.TextureConstructor=g,null):this.output[1]>0?(this.TextureConstructor=m,null):(this.TextureConstructor=f,null);case"Array(2)":return this.output[2]>0?(this.TextureConstructor=o,null):this.output[1]>0?(this.TextureConstructor=a,null):(this.TextureConstructor=s,null);case"Array(3)":return this.output[2]>0?(this.TextureConstructor=c,null):this.output[1]>0?(this.TextureConstructor=l,null):(this.TextureConstructor=u,null);case"Array(4)":return this.output[2]>0?(this.TextureConstructor=d,null):this.output[1]>0?(this.TextureConstructor=p,null):(this.TextureConstructor=h,null)}if(this.renderOutput=this.renderValues,null!==this.subKernels&&(this.renderKernels=this.renderKernelsToArrays),this.optimizeFloatMemory)switch(this.returnType){case"LiteralInteger":case"Float":case"Number":case"Integer":return this.output[2]>0?(this.TextureConstructor=x,this.formatValues=i.erectMemoryOptimized3DFloat,null):this.output[1]>0?(this.TextureConstructor=b,this.formatValues=i.erectMemoryOptimized2DFloat,null):(this.TextureConstructor=y,this.formatValues=i.erectMemoryOptimizedFloat,null);case"Array(2)":return this.output[2]>0?(this.TextureConstructor=o,this.formatValues=i.erect3DArray2,null):this.output[1]>0?(this.TextureConstructor=a,this.formatValues=i.erect2DArray2,null):(this.TextureConstructor=s,this.formatValues=i.erectArray2,null);case"Array(3)":return this.output[2]>0?(this.TextureConstructor=c,this.formatValues=i.erect3DArray3,null):this.output[1]>0?(this.TextureConstructor=l,this.formatValues=i.erect2DArray3,null):(this.TextureConstructor=u,this.formatValues=i.erectArray3,null);case"Array(4)":return this.output[2]>0?(this.TextureConstructor=d,this.formatValues=i.erect3DArray4,null):this.output[1]>0?(this.TextureConstructor=p,this.formatValues=i.erect2DArray4,null):(this.TextureConstructor=h,this.formatValues=i.erectArray4,null)}else switch(this.returnType){case"LiteralInteger":case"Float":case"Number":case"Integer":return this.output[2]>0?(this.TextureConstructor=g,this.formatValues=i.erect3DFloat,null):this.output[1]>0?(this.TextureConstructor=m,this.formatValues=i.erect2DFloat,null):(this.TextureConstructor=f,this.formatValues=i.erectFloat,null);case"Array(2)":return this.output[2]>0?(this.TextureConstructor=o,this.formatValues=i.erect3DArray2,null):this.output[1]>0?(this.TextureConstructor=a,this.formatValues=i.erect2DArray2,null):(this.TextureConstructor=s,this.formatValues=i.erectArray2,null);case"Array(3)":return this.output[2]>0?(this.TextureConstructor=c,this.formatValues=i.erect3DArray3,null):this.output[1]>0?(this.TextureConstructor=l,this.formatValues=i.erect2DArray3,null):(this.TextureConstructor=u,this.formatValues=i.erectArray3,null);case"Array(4)":return this.output[2]>0?(this.TextureConstructor=d,this.formatValues=i.erect3DArray4,null):this.output[1]>0?(this.TextureConstructor=p,this.formatValues=i.erect2DArray4,null):(this.TextureConstructor=h,this.formatValues=i.erectArray4,null)}}throw new Error(`unhandled return type "${this.returnType}"`)}getKernelString(){throw new Error("abstract method call")}getMainResultTexture(){switch(this.returnType){case"LiteralInteger":case"Float":case"Integer":case"Number":return this.getMainResultNumberTexture();case"Array(2)":return this.getMainResultArray2Texture();case"Array(3)":return this.getMainResultArray3Texture();case"Array(4)":return this.getMainResultArray4Texture();default:throw new Error(`unhandled returnType type ${this.returnType}`)}}getMainResultKernelNumberTexture(){throw new Error("abstract method call")}getMainResultSubKernelNumberTexture(){throw new Error("abstract method call")}getMainResultKernelArray2Texture(){throw new Error("abstract method call")}getMainResultSubKernelArray2Texture(){throw new Error("abstract method call")}getMainResultKernelArray3Texture(){throw new Error("abstract method call")}getMainResultSubKernelArray3Texture(){throw new Error("abstract method call")}getMainResultKernelArray4Texture(){throw new Error("abstract method call")}getMainResultSubKernelArray4Texture(){throw new Error("abstract method call")}getMainResultGraphical(){throw new Error("abstract method call")}getMainResultMemoryOptimizedFloats(){throw new Error("abstract method call")}getMainResultPackedPixels(){throw new Error("abstract method call")}getMainResultString(){return this.graphical?this.getMainResultGraphical():"single"===this.precision?this.optimizeFloatMemory?this.getMainResultMemoryOptimizedFloats():this.getMainResultTexture():this.getMainResultPackedPixels()}getMainResultNumberTexture(){return i.linesToString(this.getMainResultKernelNumberTexture())+i.linesToString(this.getMainResultSubKernelNumberTexture())}getMainResultArray2Texture(){return i.linesToString(this.getMainResultKernelArray2Texture())+i.linesToString(this.getMainResultSubKernelArray2Texture())}getMainResultArray3Texture(){return i.linesToString(this.getMainResultKernelArray3Texture())+i.linesToString(this.getMainResultSubKernelArray3Texture())}getMainResultArray4Texture(){return i.linesToString(this.getMainResultKernelArray4Texture())+i.linesToString(this.getMainResultSubKernelArray4Texture())}getFloatTacticDeclaration(){return`precision ${this.getVariablePrecisionString(this.texSize,this.tactic)} float;\n`}getIntTacticDeclaration(){return`precision ${this.getVariablePrecisionString(this.texSize,this.tactic,!0)} int;\n`}getSampler2DTacticDeclaration(){return`precision ${this.getVariablePrecisionString(this.texSize,this.tactic)} sampler2D;\n`}getSampler2DArrayTacticDeclaration(){return`precision ${this.getVariablePrecisionString(this.texSize,this.tactic)} sampler2DArray;\n`}renderTexture(){return this.immutable?this.texture.clone():this.texture}readPackedPixelsToUint8Array(){if("unsigned"!==this.precision)throw new Error('Requires this.precision to be "unsigned"');const{texSize:t,context:e}=this,n=new Uint8Array(t[0]*t[1]*4);return e.readPixels(0,0,t[0],t[1],e.RGBA,e.UNSIGNED_BYTE,n),n}readPackedPixelsToFloat32Array(){return new Float32Array(this.readPackedPixelsToUint8Array().buffer)}readFloatPixelsToFloat32Array(){if("single"!==this.precision)throw new Error('Requires this.precision to be "single"');const{texSize:t,context:e}=this,n=t[0],r=t[1],i=new Float32Array(n*r*4);return e.readPixels(0,0,n,r,e.RGBA,e.FLOAT,i),i}getPixels(t){const{context:e,output:n}=this,[r,s]=n,a=new Uint8Array(r*s*4);return e.readPixels(0,0,r,s,e.RGBA,e.UNSIGNED_BYTE,a),new Uint8ClampedArray((t?a:i.flipPixels(a,r,s)).buffer)}renderKernelsToArrays(){const t={result:this.renderOutput()};for(let e=0;e<this.subKernels.length;e++)t[this.subKernels[e].property]=this.mappedTextures[e].toArray();return t}renderKernelsToTextures(){const t={result:this.renderOutput()};if(this.immutable)for(let e=0;e<this.subKernels.length;e++)t[this.subKernels[e].property]=this.mappedTextures[e].clone();else for(let e=0;e<this.subKernels.length;e++)t[this.subKernels[e].property]=this.mappedTextures[e];return t}resetSwitchingKernels(){const t=this.switchingKernels;return this.switchingKernels=null,t}setOutput(t){const e=this.toKernelOutput(t);if(this.program){if(!this.dynamicOutput)throw new Error("Resizing a kernel with dynamicOutput: false is not possible");const n=[e[0],e[1]||1,e[2]||1],r=i.getKernelTextureSize({optimizeFloatMemory:this.optimizeFloatMemory,precision:this.precision},n),s=this.texSize;if(s){const e=this.getVariablePrecisionString(s,this.tactic),n=this.getVariablePrecisionString(r,this.tactic);if(e!==n)return this.debug&&console.warn("Precision requirement changed, asking GPU instance to recompile"),void this.switchKernels({type:"outputPrecisionMismatch",precision:n,needed:t})}this.output=e,this.threadDim=n,this.texSize=r;const{context:a}=this;if(a.bindFramebuffer(a.FRAMEBUFFER,this.framebuffer),this.updateMaxTexSize(),this.framebuffer.width=this.texSize[0],this.framebuffer.height=this.texSize[1],a.viewport(0,0,this.maxTexSize[0],this.maxTexSize[1]),this.canvas.width=this.maxTexSize[0],this.canvas.height=this.maxTexSize[1],this.texture&&this.texture.delete(),this.texture=null,this._setupOutputTexture(),this.mappedTextures&&this.mappedTextures.length>0){for(let t=0;t<this.mappedTextures.length;t++)this.mappedTextures[t].delete();this.mappedTextures=null,this._setupSubOutputTextures()}}else this.output=e;return this}renderValues(){return this.formatValues(this.transferValues(),this.output[0],this.output[1],this.output[2])}switchKernels(t){this.switchingKernels?this.switchingKernels.push(t):this.switchingKernels=[t]}getVariablePrecisionString(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.texSize,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.tactic,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!e){if(!this.constructor.features.isSpeedTacticSupported)return"highp";const e=this.constructor.features[n?"lowIntPrecision":"lowFloatPrecision"],r=this.constructor.features[n?"mediumIntPrecision":"mediumFloatPrecision"],i=this.constructor.features[n?"highIntPrecision":"highFloatPrecision"],s=Math.log2(t[0]*t[1]);if(s<=e.rangeMax)return"lowp";if(s<=r.rangeMax)return"mediump";if(s<=i.rangeMax)return"highp";throw new Error("The required size exceeds that of the ability of your system")}switch(e){case"speed":return"lowp";case"balanced":return"mediump";case"precision":return"highp";default:throw new Error(`Unknown tactic "${e}" use "speed", "balanced", "precision", or empty for auto`)}}updateTextureArgumentRefs(t,e){if(this.immutable)if(this.texture.texture===e.texture){const{prevArg:n}=t;n&&(1===n.texture._refs&&(this.texture.delete(),this.texture=n.clone(),this._textureSwitched=!0),n.delete()),t.prevArg=e.clone()}else if(this.mappedTextures&&this.mappedTextures.length>0){const{mappedTextures:n}=this;for(let r=0;r<n.length;r++){const i=n[r];if(i.texture===e.texture){const{prevArg:s}=t;return s&&(1===s.texture._refs&&(i.delete(),n[r]=s.clone(),this._mappedTextureSwitched[r]=!0),s.delete()),void(t.prevArg=e.clone())}}}}onActivate(t){if(this._textureSwitched=!0,this.texture=t.texture,this.mappedTextures){for(let t=0;t<this.mappedTextures.length;t++)this._mappedTextureSwitched[t]=!0;this.mappedTextures=t.mappedTextures}}initCanvas(){}}const A={int:"Integer",float:"Number",vec2:"Array(2)",vec3:"Array(3)",vec4:"Array(4)"};e.exports={GLKernel:T}},{"../../utils":114,"../kernel":36,"./texture/array-2-float":16,"./texture/array-2-float-2d":14,"./texture/array-2-float-3d":15,"./texture/array-3-float":19,"./texture/array-3-float-2d":17,"./texture/array-3-float-3d":18,"./texture/array-4-float":22,"./texture/array-4-float-2d":20,"./texture/array-4-float-3d":21,"./texture/float":25,"./texture/float-2d":23,"./texture/float-3d":24,"./texture/graphical":26,"./texture/memory-optimized":30,"./texture/memory-optimized-2d":28,"./texture/memory-optimized-3d":29,"./texture/unsigned":33,"./texture/unsigned-2d":31,"./texture/unsigned-3d":32}],14:[function(t,e,n){const{utils:r}=t("../../../utils"),{GLTextureFloat:i}=t("./float");class s extends i{constructor(t){super(t),this.type="ArrayTexture(2)"}toArray(){return r.erect2DArray2(this.renderValues(),this.output[0],this.output[1])}}e.exports={GLTextureArray2Float2D:s}},{"../../../utils":114,"./float":25}],15:[function(t,e,n){const{utils:r}=t("../../../utils"),{GLTextureFloat:i}=t("./float");class s extends i{constructor(t){super(t),this.type="ArrayTexture(2)"}toArray(){return r.erect3DArray2(this.renderValues(),this.output[0],this.output[1],this.output[2])}}e.exports={GLTextureArray2Float3D:s}},{"../../../utils":114,"./float":25}],16:[function(t,e,n){const{utils:r}=t("../../../utils"),{GLTextureFloat:i}=t("./float");class s extends i{constructor(t){super(t),this.type="ArrayTexture(2)"}toArray(){return r.erectArray2(this.renderValues(),this.output[0],this.output[1])}}e.exports={GLTextureArray2Float:s}},{"../../../utils":114,"./float":25}],17:[function(t,e,n){const{utils:r}=t("../../../utils"),{GLTextureFloat:i}=t("./float");class s extends i{constructor(t){super(t),this.type="ArrayTexture(3)"}toArray(){return r.erect2DArray3(this.renderValues(),this.output[0],this.output[1])}}e.exports={GLTextureArray3Float2D:s}},{"../../../utils":114,"./float":25}],18:[function(t,e,n){const{utils:r}=t("../../../utils"),{GLTextureFloat:i}=t("./float");class s extends i{constructor(t){super(t),this.type="ArrayTexture(3)"}toArray(){return r.erect3DArray3(this.renderValues(),this.output[0],this.output[1],this.output[2])}}e.exports={GLTextureArray3Float3D:s}},{"../../../utils":114,"./float":25}],19:[function(t,e,n){const{utils:r}=t("../../../utils"),{GLTextureFloat:i}=t("./float");class s extends i{constructor(t){super(t),this.type="ArrayTexture(3)"}toArray(){return r.erectArray3(this.renderValues(),this.output[0])}}e.exports={GLTextureArray3Float:s}},{"../../../utils":114,"./float":25}],20:[function(t,e,n){const{utils:r}=t("../../../utils"),{GLTextureFloat:i}=t("./float");class s extends i{constructor(t){super(t),this.type="ArrayTexture(4)"}toArray(){return r.erect2DArray4(this.renderValues(),this.output[0],this.output[1])}}e.exports={GLTextureArray4Float2D:s}},{"../../../utils":114,"./float":25}],21:[function(t,e,n){const{utils:r}=t("../../../utils"),{GLTextureFloat:i}=t("./float");class s extends i{constructor(t){super(t),this.type="ArrayTexture(4)"}toArray(){return r.erect3DArray4(this.renderValues(),this.output[0],this.output[1],this.output[2])}}e.exports={GLTextureArray4Float3D:s}},{"../../../utils":114,"./float":25}],22:[function(t,e,n){const{utils:r}=t("../../../utils"),{GLTextureFloat:i}=t("./float");class s extends i{constructor(t){super(t),this.type="ArrayTexture(4)"}toArray(){return r.erectArray4(this.renderValues(),this.output[0])}}e.exports={GLTextureArray4Float:s}},{"../../../utils":114,"./float":25}],23:[function(t,e,n){const{utils:r}=t("../../../utils"),{GLTextureFloat:i}=t("./float");class s extends i{constructor(t){super(t),this.type="ArrayTexture(1)"}toArray(){return r.erect2DFloat(this.renderValues(),this.output[0],this.output[1])}}e.exports={GLTextureFloat2D:s}},{"../../../utils":114,"./float":25}],24:[function(t,e,n){const{utils:r}=t("../../../utils"),{GLTextureFloat:i}=t("./float");class s extends i{constructor(t){super(t),this.type="ArrayTexture(1)"}toArray(){return r.erect3DFloat(this.renderValues(),this.output[0],this.output[1],this.output[2])}}e.exports={GLTextureFloat3D:s}},{"../../../utils":114,"./float":25}],25:[function(t,e,n){const{utils:r}=t("../../../utils"),{GLTexture:i}=t("./index");class s extends i{get textureType(){return this.context.FLOAT}constructor(t){super(t),this.type="ArrayTexture(1)"}renderRawOutput(){const t=this.context,e=this.size;t.bindFramebuffer(t.FRAMEBUFFER,this.framebuffer()),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,this.texture,0);const n=new Float32Array(e[0]*e[1]*4);return t.readPixels(0,0,e[0],e[1],t.RGBA,t.FLOAT,n),n}renderValues(){return this._deleted?null:this.renderRawOutput()}toArray(){return r.erectFloat(this.renderValues(),this.output[0])}}e.exports={GLTextureFloat:s}},{"../../../utils":114,"./index":27}],26:[function(t,e,n){const{GLTextureUnsigned:r}=t("./unsigned");class i extends r{constructor(t){super(t),this.type="ArrayTexture(4)"}toArray(){return this.renderValues()}}e.exports={GLTextureGraphical:i}},{"./unsigned":33}],27:[function(t,e,n){const{Texture:r}=t("../../../texture");class i extends r{get textureType(){throw new Error(`"textureType" not implemented on ${this.name}`)}clone(){return new this.constructor(this)}beforeMutate(){return this.texture._refs>1&&(this.newTexture(),!0)}cloneTexture(){this.texture._refs--;const{context:t,size:e,texture:n,kernel:r}=this;r.debug&&console.warn("cloning internal texture"),t.bindFramebuffer(t.FRAMEBUFFER,this.framebuffer()),s(t,n),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,n,0);const i=t.createTexture();s(t,i),t.texImage2D(t.TEXTURE_2D,0,this.internalFormat,e[0],e[1],0,this.textureFormat,this.textureType,null),t.copyTexSubImage2D(t.TEXTURE_2D,0,0,0,0,0,e[0],e[1]),i._refs=1,this.texture=i}newTexture(){this.texture._refs--;const t=this.context,e=this.size;this.kernel.debug&&console.warn("new internal texture");const n=t.createTexture();s(t,n),t.texImage2D(t.TEXTURE_2D,0,this.internalFormat,e[0],e[1],0,this.textureFormat,this.textureType,null),n._refs=1,this.texture=n}clear(){if(this.texture._refs){this.texture._refs--;const t=this.context,e=this.texture=t.createTexture();s(t,e);const n=this.size;e._refs=1,t.texImage2D(t.TEXTURE_2D,0,this.internalFormat,n[0],n[1],0,this.textureFormat,this.textureType,null)}const{context:t,texture:e}=this;t.bindFramebuffer(t.FRAMEBUFFER,this.framebuffer()),t.bindTexture(t.TEXTURE_2D,e),s(t,e),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,e,0),t.clearColor(0,0,0,0),t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT)}delete(){this._deleted||(this._deleted=!0,this.texture._refs&&(this.texture._refs--,this.texture._refs)||this.context.deleteTexture(this.texture))}framebuffer(){return this._framebuffer||(this._framebuffer=this.kernel.getRawValueFramebuffer(this.size[0],this.size[1])),this._framebuffer}}function s(t,e){t.activeTexture(t.TEXTURE15),t.bindTexture(t.TEXTURE_2D,e),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.NEAREST)}e.exports={GLTexture:i}},{"../../../texture":113}],28:[function(t,e,n){const{utils:r}=t("../../../utils"),{GLTextureFloat:i}=t("./float");class s extends i{constructor(t){super(t),this.type="MemoryOptimizedNumberTexture"}toArray(){return r.erectMemoryOptimized2DFloat(this.renderValues(),this.output[0],this.output[1])}}e.exports={GLTextureMemoryOptimized2D:s}},{"../../../utils":114,"./float":25}],29:[function(t,e,n){const{utils:r}=t("../../../utils"),{GLTextureFloat:i}=t("./float");class s extends i{constructor(t){super(t),this.type="MemoryOptimizedNumberTexture"}toArray(){return r.erectMemoryOptimized3DFloat(this.renderValues(),this.output[0],this.output[1],this.output[2])}}e.exports={GLTextureMemoryOptimized3D:s}},{"../../../utils":114,"./float":25}],30:[function(t,e,n){const{utils:r}=t("../../../utils"),{GLTextureFloat:i}=t("./float");class s extends i{constructor(t){super(t),this.type="MemoryOptimizedNumberTexture"}toArray(){return r.erectMemoryOptimizedFloat(this.renderValues(),this.output[0])}}e.exports={GLTextureMemoryOptimized:s}},{"../../../utils":114,"./float":25}],31:[function(t,e,n){const{utils:r}=t("../../../utils"),{GLTextureUnsigned:i}=t("./unsigned");class s extends i{constructor(t){super(t),this.type="NumberTexture"}toArray(){return r.erect2DPackedFloat(this.renderValues(),this.output[0],this.output[1])}}e.exports={GLTextureUnsigned2D:s}},{"../../../utils":114,"./unsigned":33}],32:[function(t,e,n){const{utils:r}=t("../../../utils"),{GLTextureUnsigned:i}=t("./unsigned");class s extends i{constructor(t){super(t),this.type="NumberTexture"}toArray(){return r.erect3DPackedFloat(this.renderValues(),this.output[0],this.output[1],this.output[2])}}e.exports={GLTextureUnsigned3D:s}},{"../../../utils":114,"./unsigned":33}],33:[function(t,e,n){const{utils:r}=t("../../../utils"),{GLTexture:i}=t("./index");class s extends i{get textureType(){return this.context.UNSIGNED_BYTE}constructor(t){super(t),this.type="NumberTexture"}renderRawOutput(){const{context:t}=this;t.bindFramebuffer(t.FRAMEBUFFER,this.framebuffer()),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,this.texture,0);const e=new Uint8Array(this.size[0]*this.size[1]*4);return t.readPixels(0,0,this.size[0],this.size[1],t.RGBA,t.UNSIGNED_BYTE,e),e}renderValues(){return this._deleted?null:new Float32Array(this.renderRawOutput().buffer)}toArray(){return r.erectPackedFloat(this.renderValues(),this.output[0])}}e.exports={GLTextureUnsigned:s}},{"../../../utils":114,"./index":27}],34:[function(t,e,n){const r=t("gl"),{WebGLKernel:i}=t("../web-gl/kernel"),{glKernelString:s}=t("../gl/kernel-string");let a=null,o=null,u=null,l=null,c=null;class h extends i{static get isSupported(){return null!==a||(this.setupFeatureChecks(),a=null!==u),a}static setupFeatureChecks(){if(o=null,l=null,"function"===typeof r)try{if(u=r(2,2,{preserveDrawingBuffer:!0}),!u||!u.getExtension)return;l={STACKGL_resize_drawingbuffer:u.getExtension("STACKGL_resize_drawingbuffer"),STACKGL_destroy_context:u.getExtension("STACKGL_destroy_context"),OES_texture_float:u.getExtension("OES_texture_float"),OES_texture_float_linear:u.getExtension("OES_texture_float_linear"),OES_element_index_uint:u.getExtension("OES_element_index_uint"),WEBGL_draw_buffers:u.getExtension("WEBGL_draw_buffers"),WEBGL_color_buffer_float:u.getExtension("WEBGL_color_buffer_float")},c=this.getFeatures()}catch(t){console.warn(t)}}static isContextMatch(t){try{return"ANGLE"===t.getParameter(t.RENDERER)}catch(e){return!1}}static getIsTextureFloat(){return Boolean(l.OES_texture_float)}static getIsDrawBuffers(){return Boolean(l.WEBGL_draw_buffers)}static getChannelCount(){return l.WEBGL_draw_buffers?u.getParameter(l.WEBGL_draw_buffers.MAX_DRAW_BUFFERS_WEBGL):1}static getMaxTextureSize(){return u.getParameter(u.MAX_TEXTURE_SIZE)}static get testCanvas(){return o}static get testContext(){return u}static get features(){return c}initCanvas(){return{}}initContext(){return r(2,2,{preserveDrawingBuffer:!0})}initExtensions(){this.extensions={STACKGL_resize_drawingbuffer:this.context.getExtension("STACKGL_resize_drawingbuffer"),STACKGL_destroy_context:this.context.getExtension("STACKGL_destroy_context"),OES_texture_float:this.context.getExtension("OES_texture_float"),OES_texture_float_linear:this.context.getExtension("OES_texture_float_linear"),OES_element_index_uint:this.context.getExtension("OES_element_index_uint"),WEBGL_draw_buffers:this.context.getExtension("WEBGL_draw_buffers")}}build(){super.build.apply(this,arguments),this.fallbackRequested||this.extensions.STACKGL_resize_drawingbuffer.resize(this.maxTexSize[0],this.maxTexSize[1])}destroyExtensions(){this.extensions.STACKGL_resize_drawingbuffer=null,this.extensions.STACKGL_destroy_context=null,this.extensions.OES_texture_float=null,this.extensions.OES_texture_float_linear=null,this.extensions.OES_element_index_uint=null,this.extensions.WEBGL_draw_buffers=null}static destroyContext(t){const e=t.getExtension("STACKGL_destroy_context");e&&e.destroy&&e.destroy()}toString(){const t="const gl = context || require('gl')(1, 1);\n",e="    if (!context) { gl.getExtension('STACKGL_destroy_context').destroy(); }\n";return s(this.constructor,arguments,this,t,e)}setOutput(t){return super.setOutput(t),this.graphical&&this.extensions.STACKGL_resize_drawingbuffer&&this.extensions.STACKGL_resize_drawingbuffer.resize(this.maxTexSize[0],this.maxTexSize[1]),this}}e.exports={HeadlessGLKernel:h}},{"../gl/kernel-string":12,"../web-gl/kernel":70,gl:2}],35:[function(t,e,n){class r{constructor(t,e){const{name:n,kernel:r,context:i,checkContext:s,onRequestContextHandle:a,onUpdateValueMismatch:o,origin:u,strictIntegers:l,type:c,tactic:h}=e;if(!n)throw new Error("name not set");if(!c)throw new Error("type not set");if(!u)throw new Error("origin not set");if("user"!==u&&"constants"!==u)throw new Error(`origin must be "user" or "constants" value is "${u}"`);if(!a)throw new Error("onRequestContextHandle is not set");this.name=n,this.origin=u,this.tactic=h,this.varName="constants"===u?`constants.${n}`:n,this.kernel=r,this.strictIntegers=l,this.type=t.type||c,this.size=t.size||null,this.index=null,this.context=i,this.checkContext=null===s||void 0===s||s,this.contextHandle=null,this.onRequestContextHandle=a,this.onUpdateValueMismatch=o,this.forceUploadEachRun=null}get id(){return`${this.origin}_${name}`}getSource(){throw new Error(`"getSource" not defined on ${this.constructor.name}`)}updateValue(t){throw new Error(`"updateValue" not defined on ${this.constructor.name}`)}}e.exports={KernelValue:r}},{}],36:[function(t,e,n){const{utils:r}=t("../utils"),{Input:i}=t("../input");class s{static get isSupported(){throw new Error(`"isSupported" not implemented on ${this.name}`)}static isContextMatch(t){throw new Error(`"isContextMatch" not implemented on ${this.name}`)}static getFeatures(){throw new Error(`"getFeatures" not implemented on ${this.name}`)}static destroyContext(t){throw new Error(`"destroyContext" called on ${this.name}`)}static nativeFunctionArguments(){throw new Error(`"nativeFunctionArguments" called on ${this.name}`)}static nativeFunctionReturnType(){throw new Error(`"nativeFunctionReturnType" called on ${this.name}`)}static combineKernels(){throw new Error(`"combineKernels" called on ${this.name}`)}constructor(t,e){if("object"!==typeof t){if("string"!==typeof t)throw new Error("source not a string");if(!r.isFunctionString(t))throw new Error("source not a function string")}this.useLegacyEncoder=!1,this.fallbackRequested=!1,this.onRequestFallback=null,this.argumentNames="string"===typeof t?r.getArgumentNamesFromString(t):null,this.argumentTypes=null,this.argumentSizes=null,this.argumentBitRatios=null,this.kernelArguments=null,this.kernelConstants=null,this.forceUploadKernelConstants=null,this.source=t,this.output=null,this.debug=!1,this.graphical=!1,this.loopMaxIterations=0,this.constants=null,this.constantTypes=null,this.constantBitRatios=null,this.dynamicArguments=!1,this.dynamicOutput=!1,this.canvas=null,this.context=null,this.checkContext=null,this.gpu=null,this.functions=null,this.nativeFunctions=null,this.injectedNative=null,this.subKernels=null,this.validate=!0,this.immutable=!1,this.pipeline=!1,this.precision=null,this.tactic=null,this.plugins=null,this.returnType=null,this.leadingReturnStatement=null,this.followingReturnStatement=null,this.optimizeFloatMemory=null,this.strictIntegers=!1,this.fixIntegerDivisionAccuracy=null,this.built=!1,this.signature=null}mergeSettings(t){for(let e in t)if(t.hasOwnProperty(e)&&this.hasOwnProperty(e)){switch(e){case"output":if(!Array.isArray(t.output)){this.setOutput(t.output);continue}break;case"functions":this.functions=[];for(let e=0;e<t.functions.length;e++)this.addFunction(t.functions[e]);continue;case"graphical":t[e]&&!t.hasOwnProperty("precision")&&(this.precision="unsigned"),this[e]=t[e];continue;case"nativeFunctions":if(!t.nativeFunctions)continue;this.nativeFunctions=[];for(let e=0;e<t.nativeFunctions.length;e++){const n=t.nativeFunctions[e],{name:r,source:i}=n;this.addNativeFunction(r,i,n)}continue}this[e]=t[e]}this.canvas||(this.canvas=this.initCanvas()),this.context||(this.context=this.initContext()),this.plugins||(this.plugins=this.initPlugins(t))}build(){throw new Error(`"build" not defined on ${this.constructor.name}`)}run(){throw new Error(`"run" not defined on ${this.constructor.name}`)}initCanvas(){throw new Error(`"initCanvas" not defined on ${this.constructor.name}`)}initContext(){throw new Error(`"initContext" not defined on ${this.constructor.name}`)}initPlugins(t){throw new Error(`"initPlugins" not defined on ${this.constructor.name}`)}addFunction(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(t.name&&t.source&&t.argumentTypes&&"returnType"in t)this.functions.push(t);else if("settings"in t&&"source"in t)this.functions.push(this.functionToIGPUFunction(t.source,t.settings));else{if("string"!==typeof t&&"function"!==typeof t)throw new Error("function not properly defined");this.functions.push(this.functionToIGPUFunction(t,e))}return this}addNativeFunction(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{argumentTypes:r,argumentNames:i}=n.argumentTypes?a(n.argumentTypes):this.constructor.nativeFunctionArguments(e)||{};return this.nativeFunctions.push({name:t,source:e,settings:n,argumentTypes:r,argumentNames:i,returnType:n.returnType||this.constructor.nativeFunctionReturnType(e)}),this}setupArguments(t){if(this.kernelArguments=[],this.argumentTypes)for(let e=0;e<this.argumentTypes.length;e++)this.kernelArguments.push({type:this.argumentTypes[e]});else if(!this.argumentTypes){this.argumentTypes=[];for(let e=0;e<t.length;e++){const n=r.getVariableType(t[e],this.strictIntegers),i="Integer"===n?"Number":n;this.argumentTypes.push(i),this.kernelArguments.push({type:i})}}this.argumentSizes=new Array(t.length),this.argumentBitRatios=new Int32Array(t.length);for(let e=0;e<t.length;e++){const n=t[e];this.argumentSizes[e]=n.constructor===i?n.size:null,this.argumentBitRatios[e]=this.getBitRatio(n)}if(this.argumentNames.length!==t.length)throw new Error("arguments are miss-aligned")}setupConstants(){this.kernelConstants=[];let t=null===this.constantTypes;if(t&&(this.constantTypes={}),this.constantBitRatios={},this.constants)for(let e in this.constants){if(t){const t=r.getVariableType(this.constants[e],this.strictIntegers);this.constantTypes[e]=t,this.kernelConstants.push({name:e,type:t})}else this.kernelConstants.push({name:e,type:this.constantTypes[e]});this.constantBitRatios[e]=this.getBitRatio(this.constants[e])}}setOptimizeFloatMemory(t){return this.optimizeFloatMemory=t,this}toKernelOutput(t){return t.hasOwnProperty("x")?t.hasOwnProperty("y")?t.hasOwnProperty("z")?[t.x,t.y,t.z]:[t.x,t.y]:[t.x]:t}setOutput(t){return this.output=this.toKernelOutput(t),this}setDebug(t){return this.debug=t,this}setGraphical(t){return this.graphical=t,this.precision="unsigned",this}setLoopMaxIterations(t){return this.loopMaxIterations=t,this}setConstants(t){return this.constants=t,this}setConstantTypes(t){return this.constantTypes=t,this}setFunctions(t){for(let e=0;e<t.length;e++)this.addFunction(t[e]);return this}setNativeFunctions(t){for(let e=0;e<t.length;e++){const n=t[e],{name:r,source:i}=n;this.addNativeFunction(r,i,n)}return this}setInjectedNative(t){return this.injectedNative=t,this}setPipeline(t){return this.pipeline=t,this}setPrecision(t){return this.precision=t,this}setDimensions(t){return r.warnDeprecated("method","setDimensions","setOutput"),this.output=t,this}setOutputToTexture(t){return r.warnDeprecated("method","setOutputToTexture","setPipeline"),this.pipeline=t,this}setImmutable(t){return this.immutable=t,this}setCanvas(t){return this.canvas=t,this}setStrictIntegers(t){return this.strictIntegers=t,this}setDynamicOutput(t){return this.dynamicOutput=t,this}setHardcodeConstants(t){return r.warnDeprecated("method","setHardcodeConstants"),this.setDynamicOutput(t),this.setDynamicArguments(t),this}setDynamicArguments(t){return this.dynamicArguments=t,this}setUseLegacyEncoder(t){return this.useLegacyEncoder=t,this}setWarnVarUsage(t){return r.warnDeprecated("method","setWarnVarUsage"),this}getCanvas(){return r.warnDeprecated("method","getCanvas"),this.canvas}getWebGl(){return r.warnDeprecated("method","getWebGl"),this.context}setContext(t){return this.context=t,this}setArgumentTypes(t){if(Array.isArray(t))this.argumentTypes=t;else{this.argumentTypes=[];for(const e in t){if(!t.hasOwnProperty(e))continue;const n=this.argumentNames.indexOf(e);if(-1===n)throw new Error(`unable to find argument ${e}`);this.argumentTypes[n]=t[e]}}return this}setTactic(t){return this.tactic=t,this}requestFallback(t){if(!this.onRequestFallback)throw new Error(`"onRequestFallback" not defined on ${this.constructor.name}`);return this.fallbackRequested=!0,this.onRequestFallback(t)}validateSettings(){throw new Error(`"validateSettings" not defined on ${this.constructor.name}`)}addSubKernel(t){if(null===this.subKernels&&(this.subKernels=[]),!t.source)throw new Error('subKernel missing "source" property');if(!t.property&&isNaN(t.property))throw new Error('subKernel missing "property" property');if(!t.name)throw new Error('subKernel missing "name" property');return this.subKernels.push(t),this}destroy(t){throw new Error(`"destroy" called on ${this.constructor.name}`)}getBitRatio(t){if("single"===this.precision)return 4;if(Array.isArray(t[0]))return this.getBitRatio(t[0]);if(t.constructor===i)return this.getBitRatio(t.value);switch(t.constructor){case Uint8ClampedArray:case Uint8Array:case Int8Array:return 1;case Uint16Array:case Int16Array:return 2;case Float32Array:case Int32Array:default:return 4}}getPixels(t){throw new Error(`"getPixels" called on ${this.constructor.name}`)}checkOutput(){if(!this.output||!r.isArray(this.output))throw new Error("kernel.output not an array");if(this.output.length<1)throw new Error("kernel.output is empty, needs at least 1 value");for(let t=0;t<this.output.length;t++)if(isNaN(this.output[t])||this.output[t]<1)throw new Error(`${this.constructor.name}.output[${t}] incorrectly defined as \`${this.output[t]}\`, needs to be numeric, and greater than 0`)}prependString(t){throw new Error(`"prependString" called on ${this.constructor.name}`)}hasPrependString(t){throw new Error(`"hasPrependString" called on ${this.constructor.name}`)}toJSON(){return{settings:{output:this.output,pipeline:this.pipeline,argumentNames:this.argumentNames,argumentsTypes:this.argumentTypes,constants:this.constants,pluginNames:this.plugins?this.plugins.map((t=>t.name)):null,returnType:this.returnType}}}buildSignature(t){const e=this.constructor;this.signature=e.getSignature(this,e.getArgumentTypes(this,t))}static getArgumentTypes(t,e){const n=new Array(e.length);for(let i=0;i<e.length;i++){const s=e[i],a=t.argumentTypes[i];if(s.type)n[i]=s.type;else switch(a){case"Number":case"Integer":case"Float":case"ArrayTexture(1)":n[i]=r.getVariableType(s);break;default:n[i]=a}}return n}static getSignature(t,e){throw new Error(`"getSignature" not implemented on ${this.name}`)}functionToIGPUFunction(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("string"!==typeof t&&"function"!==typeof t)throw new Error("source not a string or function");const n="string"===typeof t?t:t.toString();let i=[];return i=Array.isArray(e.argumentTypes)?e.argumentTypes:"object"===typeof e.argumentTypes?r.getArgumentNamesFromString(n).map((t=>e.argumentTypes[t]))||[]:e.argumentTypes||[],{name:r.getFunctionNameFromString(n)||null,source:n,argumentTypes:i,returnType:e.returnType||null}}onActivate(t){}}function a(t){const e=Object.keys(t),n=[];for(let r=0;r<e.length;r++){const i=e[r];n.push(t[i])}return{argumentTypes:n,argumentNames:e}}e.exports={Kernel:s}},{"../input":110,"../utils":114}],37:[function(t,e,n){const r=`__HEADER__;\n__FLOAT_TACTIC_DECLARATION__;\n__INT_TACTIC_DECLARATION__;\n__SAMPLER_2D_TACTIC_DECLARATION__;\n\nconst int LOOP_MAX = __LOOP_MAX__;\n\n__PLUGINS__;\n__CONSTANTS__;\n\nvarying vec2 vTexCoord;\n\nfloat acosh(float x) {\n  return log(x + sqrt(x * x - 1.0));\n}\n\nfloat sinh(float x) {\n  return (pow(${Math.E}, x) - pow(${Math.E}, -x)) / 2.0;\n}\n\nfloat asinh(float x) {\n  return log(x + sqrt(x * x + 1.0));\n}\n\nfloat atan2(float v1, float v2) {\n  if (v1 == 0.0 || v2 == 0.0) return 0.0;\n  return atan(v1 / v2);\n}\n\nfloat atanh(float x) {\n  x = (x + 1.0) / (x - 1.0);\n  if (x < 0.0) {\n    return 0.5 * log(-x);\n  }\n  return 0.5 * log(x);\n}\n\nfloat cbrt(float x) {\n  if (x >= 0.0) {\n    return pow(x, 1.0 / 3.0);\n  } else {\n    return -pow(x, 1.0 / 3.0);\n  }\n}\n\nfloat cosh(float x) {\n  return (pow(${Math.E}, x) + pow(${Math.E}, -x)) / 2.0; \n}\n\nfloat expm1(float x) {\n  return pow(${Math.E}, x) - 1.0; \n}\n\nfloat fround(highp float x) {\n  return x;\n}\n\nfloat imul(float v1, float v2) {\n  return float(int(v1) * int(v2));\n}\n\nfloat log10(float x) {\n  return log2(x) * (1.0 / log2(10.0));\n}\n\nfloat log1p(float x) {\n  return log(1.0 + x);\n}\n\nfloat _pow(float v1, float v2) {\n  if (v2 == 0.0) return 1.0;\n  return pow(v1, v2);\n}\n\nfloat tanh(float x) {\n  float e = exp(2.0 * x);\n  return (e - 1.0) / (e + 1.0);\n}\n\nfloat trunc(float x) {\n  if (x >= 0.0) {\n    return floor(x); \n  } else {\n    return ceil(x);\n  }\n}\n\nvec4 _round(vec4 x) {\n  return floor(x + 0.5);\n}\n\nfloat _round(float x) {\n  return floor(x + 0.5);\n}\n\nconst int BIT_COUNT = 32;\nint modi(int x, int y) {\n  return x - y * (x / y);\n}\n\nint bitwiseOr(int a, int b) {\n  int result = 0;\n  int n = 1;\n  \n  for (int i = 0; i < BIT_COUNT; i++) {\n    if ((modi(a, 2) == 1) || (modi(b, 2) == 1)) {\n      result += n;\n    }\n    a = a / 2;\n    b = b / 2;\n    n = n * 2;\n    if(!(a > 0 || b > 0)) {\n      break;\n    }\n  }\n  return result;\n}\nint bitwiseXOR(int a, int b) {\n  int result = 0;\n  int n = 1;\n  \n  for (int i = 0; i < BIT_COUNT; i++) {\n    if ((modi(a, 2) == 1) != (modi(b, 2) == 1)) {\n      result += n;\n    }\n    a = a / 2;\n    b = b / 2;\n    n = n * 2;\n    if(!(a > 0 || b > 0)) {\n      break;\n    }\n  }\n  return result;\n}\nint bitwiseAnd(int a, int b) {\n  int result = 0;\n  int n = 1;\n  for (int i = 0; i < BIT_COUNT; i++) {\n    if ((modi(a, 2) == 1) && (modi(b, 2) == 1)) {\n      result += n;\n    }\n    a = a / 2;\n    b = b / 2;\n    n = n * 2;\n    if(!(a > 0 && b > 0)) {\n      break;\n    }\n  }\n  return result;\n}\nint bitwiseNot(int a) {\n  int result = 0;\n  int n = 1;\n  \n  for (int i = 0; i < BIT_COUNT; i++) {\n    if (modi(a, 2) == 0) {\n      result += n;    \n    }\n    a = a / 2;\n    n = n * 2;\n  }\n  return result;\n}\nint bitwiseZeroFillLeftShift(int n, int shift) {\n  int maxBytes = BIT_COUNT;\n  for (int i = 0; i < BIT_COUNT; i++) {\n    if (maxBytes >= n) {\n      break;\n    }\n    maxBytes *= 2;\n  }\n  for (int i = 0; i < BIT_COUNT; i++) {\n    if (i >= shift) {\n      break;\n    }\n    n *= 2;\n  }\n\n  int result = 0;\n  int byteVal = 1;\n  for (int i = 0; i < BIT_COUNT; i++) {\n    if (i >= maxBytes) break;\n    if (modi(n, 2) > 0) { result += byteVal; }\n    n = int(n / 2);\n    byteVal *= 2;\n  }\n  return result;\n}\n\nint bitwiseSignedRightShift(int num, int shifts) {\n  return int(floor(float(num) / pow(2.0, float(shifts))));\n}\n\nint bitwiseZeroFillRightShift(int n, int shift) {\n  int maxBytes = BIT_COUNT;\n  for (int i = 0; i < BIT_COUNT; i++) {\n    if (maxBytes >= n) {\n      break;\n    }\n    maxBytes *= 2;\n  }\n  for (int i = 0; i < BIT_COUNT; i++) {\n    if (i >= shift) {\n      break;\n    }\n    n /= 2;\n  }\n  int result = 0;\n  int byteVal = 1;\n  for (int i = 0; i < BIT_COUNT; i++) {\n    if (i >= maxBytes) break;\n    if (modi(n, 2) > 0) { result += byteVal; }\n    n = int(n / 2);\n    byteVal *= 2;\n  }\n  return result;\n}\n\nvec2 integerMod(vec2 x, float y) {\n  vec2 res = floor(mod(x, y));\n  return res * step(1.0 - floor(y), -res);\n}\n\nvec3 integerMod(vec3 x, float y) {\n  vec3 res = floor(mod(x, y));\n  return res * step(1.0 - floor(y), -res);\n}\n\nvec4 integerMod(vec4 x, vec4 y) {\n  vec4 res = floor(mod(x, y));\n  return res * step(1.0 - floor(y), -res);\n}\n\nfloat integerMod(float x, float y) {\n  float res = floor(mod(x, y));\n  return res * (res > floor(y) - 1.0 ? 0.0 : 1.0);\n}\n\nint integerMod(int x, int y) {\n  return x - (y * int(x / y));\n}\n\n__DIVIDE_WITH_INTEGER_CHECK__;\n\n// Here be dragons!\n// DO NOT OPTIMIZE THIS CODE\n// YOU WILL BREAK SOMETHING ON SOMEBODY'S MACHINE\n// LEAVE IT AS IT IS, LEST YOU WASTE YOUR OWN TIME\nconst vec2 MAGIC_VEC = vec2(1.0, -256.0);\nconst vec4 SCALE_FACTOR = vec4(1.0, 256.0, 65536.0, 0.0);\nconst vec4 SCALE_FACTOR_INV = vec4(1.0, 0.00390625, 0.0000152587890625, 0.0); // 1, 1/256, 1/65536\nfloat decode32(vec4 texel) {\n  __DECODE32_ENDIANNESS__;\n  texel *= 255.0;\n  vec2 gte128;\n  gte128.x = texel.b >= 128.0 ? 1.0 : 0.0;\n  gte128.y = texel.a >= 128.0 ? 1.0 : 0.0;\n  float exponent = 2.0 * texel.a - 127.0 + dot(gte128, MAGIC_VEC);\n  float res = exp2(_round(exponent));\n  texel.b = texel.b - 128.0 * gte128.x;\n  res = dot(texel, SCALE_FACTOR) * exp2(_round(exponent-23.0)) + res;\n  res *= gte128.y * -2.0 + 1.0;\n  return res;\n}\n\nfloat decode16(vec4 texel, int index) {\n  int channel = integerMod(index, 2);\n  if (channel == 0) return texel.r * 255.0 + texel.g * 65280.0;\n  if (channel == 1) return texel.b * 255.0 + texel.a * 65280.0;\n  return 0.0;\n}\n\nfloat decode8(vec4 texel, int index) {\n  int channel = integerMod(index, 4);\n  if (channel == 0) return texel.r * 255.0;\n  if (channel == 1) return texel.g * 255.0;\n  if (channel == 2) return texel.b * 255.0;\n  if (channel == 3) return texel.a * 255.0;\n  return 0.0;\n}\n\nvec4 legacyEncode32(float f) {\n  float F = abs(f);\n  float sign = f < 0.0 ? 1.0 : 0.0;\n  float exponent = floor(log2(F));\n  float mantissa = (exp2(-exponent) * F);\n  // exponent += floor(log2(mantissa));\n  vec4 texel = vec4(F * exp2(23.0-exponent)) * SCALE_FACTOR_INV;\n  texel.rg = integerMod(texel.rg, 256.0);\n  texel.b = integerMod(texel.b, 128.0);\n  texel.a = exponent*0.5 + 63.5;\n  texel.ba += vec2(integerMod(exponent+127.0, 2.0), sign) * 128.0;\n  texel = floor(texel);\n  texel *= 0.003921569; // 1/255\n  __ENCODE32_ENDIANNESS__;\n  return texel;\n}\n\n// https://github.com/gpujs/gpu.js/wiki/Encoder-details\nvec4 encode32(float value) {\n  if (value == 0.0) return vec4(0, 0, 0, 0);\n\n  float exponent;\n  float mantissa;\n  vec4  result;\n  float sgn;\n\n  sgn = step(0.0, -value);\n  value = abs(value);\n\n  exponent = floor(log2(value));\n\n  mantissa = value*pow(2.0, -exponent)-1.0;\n  exponent = exponent+127.0;\n  result   = vec4(0,0,0,0);\n\n  result.a = floor(exponent/2.0);\n  exponent = exponent - result.a*2.0;\n  result.a = result.a + 128.0*sgn;\n\n  result.b = floor(mantissa * 128.0);\n  mantissa = mantissa - result.b / 128.0;\n  result.b = result.b + exponent*128.0;\n\n  result.g = floor(mantissa*32768.0);\n  mantissa = mantissa - result.g/32768.0;\n\n  result.r = floor(mantissa*8388608.0);\n  return result/255.0;\n}\n// Dragons end here\n\nint index;\nivec3 threadId;\n\nivec3 indexTo3D(int idx, ivec3 texDim) {\n  int z = int(idx / (texDim.x * texDim.y));\n  idx -= z * int(texDim.x * texDim.y);\n  int y = int(idx / texDim.x);\n  int x = int(integerMod(idx, texDim.x));\n  return ivec3(x, y, z);\n}\n\nfloat get32(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  int index = x + texDim.x * (y + texDim.y * z);\n  int w = texSize.x;\n  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;\n  vec4 texel = texture2D(tex, st / vec2(texSize));\n  return decode32(texel);\n}\n\nfloat get16(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  int index = x + texDim.x * (y + texDim.y * z);\n  int w = texSize.x * 2;\n  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;\n  vec4 texel = texture2D(tex, st / vec2(texSize.x * 2, texSize.y));\n  return decode16(texel, index);\n}\n\nfloat get8(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  int index = x + texDim.x * (y + texDim.y * z);\n  int w = texSize.x * 4;\n  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;\n  vec4 texel = texture2D(tex, st / vec2(texSize.x * 4, texSize.y));\n  return decode8(texel, index);\n}\n\nfloat getMemoryOptimized32(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  int index = x + texDim.x * (y + texDim.y * z);\n  int channel = integerMod(index, 4);\n  index = index / 4;\n  int w = texSize.x;\n  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;\n  vec4 texel = texture2D(tex, st / vec2(texSize));\n  if (channel == 0) return texel.r;\n  if (channel == 1) return texel.g;\n  if (channel == 2) return texel.b;\n  if (channel == 3) return texel.a;\n  return 0.0;\n}\n\nvec4 getImage2D(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  int index = x + texDim.x * (y + texDim.y * z);\n  int w = texSize.x;\n  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;\n  return texture2D(tex, st / vec2(texSize));\n}\n\nfloat getFloatFromSampler2D(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  vec4 result = getImage2D(tex, texSize, texDim, z, y, x);\n  return result[0];\n}\n\nvec2 getVec2FromSampler2D(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  vec4 result = getImage2D(tex, texSize, texDim, z, y, x);\n  return vec2(result[0], result[1]);\n}\n\nvec2 getMemoryOptimizedVec2(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  int index = x + (texDim.x * (y + (texDim.y * z)));\n  int channel = integerMod(index, 2);\n  index = index / 2;\n  int w = texSize.x;\n  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;\n  vec4 texel = texture2D(tex, st / vec2(texSize));\n  if (channel == 0) return vec2(texel.r, texel.g);\n  if (channel == 1) return vec2(texel.b, texel.a);\n  return vec2(0.0, 0.0);\n}\n\nvec3 getVec3FromSampler2D(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  vec4 result = getImage2D(tex, texSize, texDim, z, y, x);\n  return vec3(result[0], result[1], result[2]);\n}\n\nvec3 getMemoryOptimizedVec3(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  int fieldIndex = 3 * (x + texDim.x * (y + texDim.y * z));\n  int vectorIndex = fieldIndex / 4;\n  int vectorOffset = fieldIndex - vectorIndex * 4;\n  int readY = vectorIndex / texSize.x;\n  int readX = vectorIndex - readY * texSize.x;\n  vec4 tex1 = texture2D(tex, (vec2(readX, readY) + 0.5) / vec2(texSize));\n  \n  if (vectorOffset == 0) {\n    return tex1.xyz;\n  } else if (vectorOffset == 1) {\n    return tex1.yzw;\n  } else {\n    readX++;\n    if (readX >= texSize.x) {\n      readX = 0;\n      readY++;\n    }\n    vec4 tex2 = texture2D(tex, vec2(readX, readY) / vec2(texSize));\n    if (vectorOffset == 2) {\n      return vec3(tex1.z, tex1.w, tex2.x);\n    } else {\n      return vec3(tex1.w, tex2.x, tex2.y);\n    }\n  }\n}\n\nvec4 getVec4FromSampler2D(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  return getImage2D(tex, texSize, texDim, z, y, x);\n}\n\nvec4 getMemoryOptimizedVec4(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  int index = x + texDim.x * (y + texDim.y * z);\n  int channel = integerMod(index, 2);\n  int w = texSize.x;\n  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;\n  vec4 texel = texture2D(tex, st / vec2(texSize));\n  return vec4(texel.r, texel.g, texel.b, texel.a);\n}\n\nvec4 actualColor;\nvoid color(float r, float g, float b, float a) {\n  actualColor = vec4(r,g,b,a);\n}\n\nvoid color(float r, float g, float b) {\n  color(r,g,b,1.0);\n}\n\nvoid color(sampler2D image) {\n  actualColor = texture2D(image, vTexCoord);\n}\n\nfloat modulo(float number, float divisor) {\n  if (number < 0.0) {\n    number = abs(number);\n    if (divisor < 0.0) {\n      divisor = abs(divisor);\n    }\n    return -mod(number, divisor);\n  }\n  if (divisor < 0.0) {\n    divisor = abs(divisor);\n  }\n  return mod(number, divisor);\n}\n\n__INJECTED_NATIVE__;\n__MAIN_CONSTANTS__;\n__MAIN_ARGUMENTS__;\n__KERNEL__;\n\nvoid main(void) {\n  index = int(vTexCoord.s * float(uTexSize.x)) + int(vTexCoord.t * float(uTexSize.y)) * uTexSize.x;\n  __MAIN_RESULT__;\n}`;e.exports={fragmentShader:r}},{}],38:[function(t,e,n){const{utils:r}=t("../../utils"),{FunctionNode:i}=t("../function-node");class s extends i{constructor(t,e){super(t,e),e&&e.hasOwnProperty("fixIntegerDivisionAccuracy")&&(this.fixIntegerDivisionAccuracy=e.fixIntegerDivisionAccuracy)}astConditionalExpression(t,e){if("ConditionalExpression"!==t.type)throw this.astErrorOutput("Not a conditional expression",t);const n=this.getType(t.consequent),r=this.getType(t.alternate);return null===n&&null===r?(e.push("if ("),this.astGeneric(t.test,e),e.push(") {"),this.astGeneric(t.consequent,e),e.push(";"),e.push("} else {"),this.astGeneric(t.alternate,e),e.push(";"),e.push("}"),e):(e.push("("),this.astGeneric(t.test,e),e.push("?"),this.astGeneric(t.consequent,e),e.push(":"),this.astGeneric(t.alternate,e),e.push(")"),e)}astFunction(t,e){if(this.isRootKernel)e.push("void");else{this.returnType||this.findLastReturn()&&(this.returnType=this.getType(t.body),"LiteralInteger"===this.returnType&&(this.returnType="Number"));const{returnType:n}=this;if(n){const t=a[n];if(!t)throw new Error(`unknown type ${n}`);e.push(t)}else e.push("void")}if(e.push(" "),e.push(this.name),e.push("("),!this.isRootKernel)for(let n=0;n<this.argumentNames.length;++n){const i=this.argumentNames[n];n>0&&e.push(", ");let s=this.argumentTypes[this.argumentNames.indexOf(i)];if(!s)throw this.astErrorOutput(`Unknown argument ${i} type`,t);"LiteralInteger"===s&&(this.argumentTypes[n]=s="Number");const o=a[s];if(!o)throw this.astErrorOutput("Unexpected expression",t);const u=r.sanitizeName(i);"sampler2D"===o||"sampler2DArray"===o?e.push(`${o} user_${u},ivec2 user_${u}Size,ivec3 user_${u}Dim`):e.push(`${o} user_${u}`)}e.push(") {\n");for(let n=0;n<t.body.body.length;++n)this.astGeneric(t.body.body[n],e),e.push("\n");return e.push("}\n"),e}astReturnStatement(t,e){if(!t.argument)throw this.astErrorOutput("Unexpected return statement",t);this.pushState("skip-literal-correction");const n=this.getType(t.argument);this.popState("skip-literal-correction");const r=[];switch(this.returnType||(this.returnType="LiteralInteger"===n||"Integer"===n?"Number":n),this.returnType){case"LiteralInteger":case"Number":case"Float":switch(n){case"Integer":r.push("float("),this.astGeneric(t.argument,r),r.push(")");break;case"LiteralInteger":this.castLiteralToFloat(t.argument,r),"Integer"===this.getType(t)&&(r.unshift("float("),r.push(")"));break;default:this.astGeneric(t.argument,r)}break;case"Integer":switch(n){case"Float":case"Number":this.castValueToInteger(t.argument,r);break;case"LiteralInteger":this.castLiteralToInteger(t.argument,r);break;default:this.astGeneric(t.argument,r)}break;case"Array(4)":case"Array(3)":case"Array(2)":case"Matrix(2)":case"Matrix(3)":case"Matrix(4)":case"Input":this.astGeneric(t.argument,r);break;default:throw this.astErrorOutput(`unhandled return type ${this.returnType}`,t)}return this.isRootKernel?(e.push(`kernelResult = ${r.join("")};`),e.push("return;")):this.isSubKernel?(e.push(`subKernelResult_${this.name} = ${r.join("")};`),e.push(`return subKernelResult_${this.name};`)):e.push(`return ${r.join("")};`),e}astLiteral(t,e){if(isNaN(t.value))throw this.astErrorOutput("Non-numeric literal not supported : "+t.value,t);const n=this.astKey(t);return Number.isInteger(t.value)?this.isState("casting-to-integer")||this.isState("building-integer")?(this.literalTypes[n]="Integer",e.push(`${t.value}`)):(this.isState("casting-to-float")||this.isState("building-float"),this.literalTypes[n]="Number",e.push(`${t.value}.0`)):this.isState("casting-to-integer")||this.isState("building-integer")?(this.literalTypes[n]="Integer",e.push(Math.round(t.value))):(this.literalTypes[n]="Number",e.push(`${t.value}`)),e}astBinaryExpression(t,e){if(this.checkAndUpconvertOperator(t,e))return e;if(this.fixIntegerDivisionAccuracy&&"/"===t.operator){switch(e.push("divWithIntCheck("),this.pushState("building-float"),this.getType(t.left)){case"Integer":this.castValueToFloat(t.left,e);break;case"LiteralInteger":this.castLiteralToFloat(t.left,e);break;default:this.astGeneric(t.left,e)}switch(e.push(", "),this.getType(t.right)){case"Integer":this.castValueToFloat(t.right,e);break;case"LiteralInteger":this.castLiteralToFloat(t.right,e);break;default:this.astGeneric(t.right,e)}return this.popState("building-float"),e.push(")"),e}e.push("(");const n=this.getType(t.left)||"Number",r=this.getType(t.right)||"Number";if(!n||!r)throw this.astErrorOutput("Unhandled binary expression",t);const i=n+" & "+r;switch(i){case"Integer & Integer":this.pushState("building-integer"),this.astGeneric(t.left,e),e.push(o[t.operator]||t.operator),this.astGeneric(t.right,e),this.popState("building-integer");break;case"Number & Float":case"Float & Number":case"Float & Float":case"Number & Number":this.pushState("building-float"),this.astGeneric(t.left,e),e.push(o[t.operator]||t.operator),this.astGeneric(t.right,e),this.popState("building-float");break;case"LiteralInteger & LiteralInteger":this.isState("casting-to-integer")||this.isState("building-integer")?(this.pushState("building-integer"),this.astGeneric(t.left,e),e.push(o[t.operator]||t.operator),this.astGeneric(t.right,e),this.popState("building-integer")):(this.pushState("building-float"),this.castLiteralToFloat(t.left,e),e.push(o[t.operator]||t.operator),this.castLiteralToFloat(t.right,e),this.popState("building-float"));break;case"Integer & Float":case"Integer & Number":if((">"===t.operator||"<"===t.operator&&"Literal"===t.right.type)&&!Number.isInteger(t.right.value)){this.pushState("building-float"),this.castValueToFloat(t.left,e),e.push(o[t.operator]||t.operator),this.astGeneric(t.right,e),this.popState("building-float");break}if(this.pushState("building-integer"),this.astGeneric(t.left,e),e.push(o[t.operator]||t.operator),this.pushState("casting-to-integer"),"Literal"===t.right.type){const n=[];if(this.astGeneric(t.right,n),"Integer"!==this.getType(t.right))throw this.astErrorOutput("Unhandled binary expression with literal",t);e.push(n.join(""))}else e.push("int("),this.astGeneric(t.right,e),e.push(")");this.popState("casting-to-integer"),this.popState("building-integer");break;case"Integer & LiteralInteger":this.pushState("building-integer"),this.astGeneric(t.left,e),e.push(o[t.operator]||t.operator),this.castLiteralToInteger(t.right,e),this.popState("building-integer");break;case"Number & Integer":case"Float & Integer":this.pushState("building-float"),this.astGeneric(t.left,e),e.push(o[t.operator]||t.operator),this.castValueToFloat(t.right,e),this.popState("building-float");break;case"Float & LiteralInteger":case"Number & LiteralInteger":this.pushState("building-float"),this.astGeneric(t.left,e),e.push(o[t.operator]||t.operator),this.castLiteralToFloat(t.right,e),this.popState("building-float");break;case"LiteralInteger & Float":case"LiteralInteger & Number":this.isState("casting-to-integer")?(this.pushState("building-integer"),this.castLiteralToInteger(t.left,e),e.push(o[t.operator]||t.operator),this.castValueToInteger(t.right,e),this.popState("building-integer")):(this.pushState("building-float"),this.astGeneric(t.left,e),e.push(o[t.operator]||t.operator),this.pushState("casting-to-float"),this.astGeneric(t.right,e),this.popState("casting-to-float"),this.popState("building-float"));break;case"LiteralInteger & Integer":this.pushState("building-integer"),this.castLiteralToInteger(t.left,e),e.push(o[t.operator]||t.operator),this.astGeneric(t.right,e),this.popState("building-integer");break;case"Boolean & Boolean":this.pushState("building-boolean"),this.astGeneric(t.left,e),e.push(o[t.operator]||t.operator),this.astGeneric(t.right,e),this.popState("building-boolean");break;default:throw this.astErrorOutput(`Unhandled binary expression between ${i}`,t)}return e.push(")"),e}checkAndUpconvertOperator(t,e){const n=this.checkAndUpconvertBitwiseOperators(t,e);if(n)return n;const r={"%":this.fixIntegerDivisionAccuracy?"integerCorrectionModulo":"modulo","**":"pow"}[t.operator];if(!r)return null;switch(e.push(r),e.push("("),this.getType(t.left)){case"Integer":this.castValueToFloat(t.left,e);break;case"LiteralInteger":this.castLiteralToFloat(t.left,e);break;default:this.astGeneric(t.left,e)}switch(e.push(","),this.getType(t.right)){case"Integer":this.castValueToFloat(t.right,e);break;case"LiteralInteger":this.castLiteralToFloat(t.right,e);break;default:this.astGeneric(t.right,e)}return e.push(")"),e}checkAndUpconvertBitwiseOperators(t,e){const n={"&":"bitwiseAnd","|":"bitwiseOr","^":"bitwiseXOR","<<":"bitwiseZeroFillLeftShift",">>":"bitwiseSignedRightShift",">>>":"bitwiseZeroFillRightShift"}[t.operator];if(!n)return null;switch(e.push(n),e.push("("),this.getType(t.left)){case"Number":case"Float":this.castValueToInteger(t.left,e);break;case"LiteralInteger":this.castLiteralToInteger(t.left,e);break;default:this.astGeneric(t.left,e)}switch(e.push(","),this.getType(t.right)){case"Number":case"Float":this.castValueToInteger(t.right,e);break;case"LiteralInteger":this.castLiteralToInteger(t.right,e);break;default:this.astGeneric(t.right,e)}return e.push(")"),e}checkAndUpconvertBitwiseUnary(t,e){const n={"~":"bitwiseNot"}[t.operator];if(!n)return null;switch(e.push(n),e.push("("),this.getType(t.argument)){case"Number":case"Float":this.castValueToInteger(t.argument,e);break;case"LiteralInteger":this.castLiteralToInteger(t.argument,e);break;default:this.astGeneric(t.argument,e)}return e.push(")"),e}castLiteralToInteger(t,e){return this.pushState("casting-to-integer"),this.astGeneric(t,e),this.popState("casting-to-integer"),e}castLiteralToFloat(t,e){return this.pushState("casting-to-float"),this.astGeneric(t,e),this.popState("casting-to-float"),e}castValueToInteger(t,e){return this.pushState("casting-to-integer"),e.push("int("),this.astGeneric(t,e),e.push(")"),this.popState("casting-to-integer"),e}castValueToFloat(t,e){return this.pushState("casting-to-float"),e.push("float("),this.astGeneric(t,e),e.push(")"),this.popState("casting-to-float"),e}astIdentifierExpression(t,e){if("Identifier"!==t.type)throw this.astErrorOutput("IdentifierExpression - not an Identifier",t);const n=this.getType(t),i=r.sanitizeName(t.name);return"Infinity"===t.name?e.push("3.402823466e+38"):"Boolean"===n&&this.argumentNames.indexOf(i)>-1?e.push(`bool(user_${i})`):e.push(`user_${i}`),e}astForStatement(t,e){if("ForStatement"!==t.type)throw this.astErrorOutput("Invalid for statement",t);const n=[],r=[],i=[],s=[];let a=null;if(t.init){const{declarations:e}=t.init;e.length>1&&(a=!1),this.astGeneric(t.init,n);for(let t=0;t<e.length;t++)e[t].init&&"Literal"!==e[t].init.type&&(a=!1)}else a=!1;if(t.test?this.astGeneric(t.test,r):a=!1,t.update?this.astGeneric(t.update,i):a=!1,t.body&&(this.pushState("loop-body"),this.astGeneric(t.body,s),this.popState("loop-body")),null===a&&(a=this.isSafe(t.init)&&this.isSafe(t.test)),a){const t=n.join(""),a=";"!==t[t.length-1];e.push(`for (${t}${a?";":""}${r.join("")};${i.join("")}){\n`),e.push(s.join("")),e.push("}\n")}else{const t=this.getInternalVariableName("safeI");n.length>0&&e.push(n.join(""),"\n"),e.push(`for (int ${t}=0;${t}<LOOP_MAX;${t}++){\n`),r.length>0&&e.push(`if (!${r.join("")}) break;\n`),e.push(s.join("")),e.push(`\n${i.join("")};`),e.push("}\n")}return e}astWhileStatement(t,e){if("WhileStatement"!==t.type)throw this.astErrorOutput("Invalid while statement",t);const n=this.getInternalVariableName("safeI");return e.push(`for (int ${n}=0;${n}<LOOP_MAX;${n}++){\n`),e.push("if (!"),this.astGeneric(t.test,e),e.push(") break;\n"),this.astGeneric(t.body,e),e.push("}\n"),e}astDoWhileStatement(t,e){if("DoWhileStatement"!==t.type)throw this.astErrorOutput("Invalid while statement",t);const n=this.getInternalVariableName("safeI");return e.push(`for (int ${n}=0;${n}<LOOP_MAX;${n}++){\n`),this.astGeneric(t.body,e),e.push("if (!"),this.astGeneric(t.test,e),e.push(") break;\n"),e.push("}\n"),e}astAssignmentExpression(t,e){if("%="===t.operator)this.astGeneric(t.left,e),e.push("="),e.push("mod("),this.astGeneric(t.left,e),e.push(","),this.astGeneric(t.right,e),e.push(")");else{if("**="!==t.operator){const n=this.getType(t.left),r=this.getType(t.right);return this.astGeneric(t.left,e),e.push(t.operator),"Integer"!==n&&"Integer"===r?(e.push("float("),this.astGeneric(t.right,e),e.push(")")):this.astGeneric(t.right,e),e}this.astGeneric(t.left,e),e.push("="),e.push("pow("),this.astGeneric(t.left,e),e.push(","),this.astGeneric(t.right,e),e.push(")")}}astBlockStatement(t,e){if(this.isState("loop-body")){this.pushState("block-body");for(let n=0;n<t.body.length;n++)this.astGeneric(t.body[n],e);this.popState("block-body")}else{e.push("{\n");for(let n=0;n<t.body.length;n++)this.astGeneric(t.body[n],e);e.push("}\n")}return e}astVariableDeclaration(t,e){const n=t.declarations;if(!n||!n[0]||!n[0].init)throw this.astErrorOutput("Unexpected expression",t);const i=[];let s=null;const o=[];let u=[];for(let l=0;l<n.length;l++){const e=n[l],i=e.init,c=this.getDeclaration(e.id),h=this.getType(e.init);let p=h;"LiteralInteger"===p&&(p="Integer"===c.suggestedType?"Integer":"Number");const d=a[p];if(!d)throw this.astErrorOutput(`Markup type ${p} not handled`,t);const f=[];if("Integer"===h&&"Integer"===p){if(c.valueType="Number",0===l||null===s)f.push("float ");else if(p!==s)throw new Error("Unhandled declaration");s=p,f.push(`user_${r.sanitizeName(e.id.name)}=`),f.push("float("),this.astGeneric(i,f),f.push(")")}else c.valueType=p,0===l||null===s?f.push(`${d} `):p!==s&&(o.push(u.join(",")),u=[],f.push(`${d} `)),s=p,f.push(`user_${r.sanitizeName(e.id.name)}=`),"Number"===h&&"Integer"===p?i.left&&"Literal"===i.left.type?this.astGeneric(i,f):(f.push("int("),this.astGeneric(i,f),f.push(")")):"LiteralInteger"===h&&"Integer"===p?this.castLiteralToInteger(i,f):this.astGeneric(i,f);u.push(f.join(""))}return u.length>0&&o.push(u.join(",")),i.push(o.join(";")),e.push(i.join("")),e.push(";"),e}astIfStatement(t,e){return e.push("if ("),this.astGeneric(t.test,e),e.push(")"),"BlockStatement"===t.consequent.type?this.astGeneric(t.consequent,e):(e.push(" {\n"),this.astGeneric(t.consequent,e),e.push("\n}\n")),t.alternate&&(e.push("else "),"BlockStatement"===t.alternate.type||"IfStatement"===t.alternate.type?this.astGeneric(t.alternate,e):(e.push(" {\n"),this.astGeneric(t.alternate,e),e.push("\n}\n"))),e}astSwitchStatement(t,e){if("SwitchStatement"!==t.type)throw this.astErrorOutput("Invalid switch statement",t);const{discriminant:n,cases:r}=t,i=this.getType(n),s=`switchDiscriminant${this.astKey(t,"_")}`;switch(i){case"Float":case"Number":e.push(`float ${s} = `),this.astGeneric(n,e),e.push(";\n");break;case"Integer":e.push(`int ${s} = `),this.astGeneric(n,e),e.push(";\n")}if(1===r.length&&!r[0].test)return this.astGeneric(r[0].consequent,e),e;let a=!1,o=[],u=!1,l=!1;for(let c=0;c<r.length;c++){if(r[c].test){if(0!==c&&l?a?(e.push(`${s} == `),a=!1):e.push(` else if (${s} == `):(l=!0,e.push(`if (${s} == `)),"Integer"===i)switch(this.getType(r[c].test)){case"Number":case"Float":this.castValueToInteger(r[c].test,e);break;case"LiteralInteger":this.castLiteralToInteger(r[c].test,e)}else{if("Float"!==i)throw new Error("unhanlded");switch(this.getType(r[c].test)){case"LiteralInteger":this.castLiteralToFloat(r[c].test,e);break;case"Integer":this.castValueToFloat(r[c].test,e)}}if(!r[c].consequent||0===r[c].consequent.length){a=!0,e.push(" || ");continue}e.push(") {\n")}else{if(r.length>c+1){u=!0,this.astGeneric(r[c].consequent,o);continue}e.push(" else {\n")}this.astGeneric(r[c].consequent,e),e.push("\n}")}return u&&(e.push(" else {"),e.push(o.join("")),e.push("}")),e}astThisExpression(t,e){return e.push("this"),e}astMemberExpression(t,e){const{property:n,name:i,signature:s,origin:a,type:o,xProperty:u,yProperty:l,zProperty:c}=this.getMemberExpressionDetails(t);switch(s){case"value.thread.value":case"this.thread.value":if("x"!==i&&"y"!==i&&"z"!==i)throw this.astErrorOutput("Unexpected expression, expected `this.thread.x`, `this.thread.y`, or `this.thread.z`",t);return e.push(`threadId.${i}`),e;case"this.output.value":if(this.dynamicOutput)switch(i){case"x":this.isState("casting-to-float")?e.push("float(uOutputDim.x)"):e.push("uOutputDim.x");break;case"y":this.isState("casting-to-float")?e.push("float(uOutputDim.y)"):e.push("uOutputDim.y");break;case"z":this.isState("casting-to-float")?e.push("float(uOutputDim.z)"):e.push("uOutputDim.z");break;default:throw this.astErrorOutput("Unexpected expression",t)}else switch(i){case"x":this.isState("casting-to-integer")?e.push(this.output[0]):e.push(this.output[0],".0");break;case"y":this.isState("casting-to-integer")?e.push(this.output[1]):e.push(this.output[1],".0");break;case"z":this.isState("casting-to-integer")?e.push(this.output[2]):e.push(this.output[2],".0");break;default:throw this.astErrorOutput("Unexpected expression",t)}return e;case"value":throw this.astErrorOutput("Unexpected expression",t);case"value[]":case"value[][]":case"value[][][]":case"value[][][][]":case"value.value":if("Math"===a)return e.push(Math[i]),e;const s=r.sanitizeName(i);switch(n){case"r":return e.push(`user_${s}.r`),e;case"g":return e.push(`user_${s}.g`),e;case"b":return e.push(`user_${s}.b`),e;case"a":return e.push(`user_${s}.a`),e}break;case"this.constants.value":if("undefined"===typeof u)switch(o){case"Array(2)":case"Array(3)":case"Array(4)":return e.push(`constants_${r.sanitizeName(i)}`),e}case"this.constants.value[]":case"this.constants.value[][]":case"this.constants.value[][][]":case"this.constants.value[][][][]":break;case"fn()[]":return this.astCallExpression(t.object,e),e.push("["),e.push(this.memberExpressionPropertyMarkup(n)),e.push("]"),e;case"fn()[][]":return this.astCallExpression(t.object.object,e),e.push("["),e.push(this.memberExpressionPropertyMarkup(t.object.property)),e.push("]"),e.push("["),e.push(this.memberExpressionPropertyMarkup(t.property)),e.push("]"),e;case"[][]":return this.astArrayExpression(t.object,e),e.push("["),e.push(this.memberExpressionPropertyMarkup(n)),e.push("]"),e;default:throw this.astErrorOutput("Unexpected expression",t)}if(!1===t.computed)switch(o){case"Number":case"Integer":case"Float":case"Boolean":return e.push(`${a}_${r.sanitizeName(i)}`),e}const h=`${a}_${r.sanitizeName(i)}`;switch(o){case"Array(2)":case"Array(3)":case"Array(4)":this.astGeneric(t.object,e),e.push("["),e.push(this.memberExpressionPropertyMarkup(u)),e.push("]");break;case"HTMLImageArray":e.push(`getImage3D(${h}, ${h}Size, ${h}Dim, `),this.memberExpressionXYZ(u,l,c,e),e.push(")");break;case"ArrayTexture(1)":e.push(`getFloatFromSampler2D(${h}, ${h}Size, ${h}Dim, `),this.memberExpressionXYZ(u,l,c,e),e.push(")");break;case"Array1D(2)":case"Array2D(2)":case"Array3D(2)":e.push(`getMemoryOptimizedVec2(${h}, ${h}Size, ${h}Dim, `),this.memberExpressionXYZ(u,l,c,e),e.push(")");break;case"ArrayTexture(2)":e.push(`getVec2FromSampler2D(${h}, ${h}Size, ${h}Dim, `),this.memberExpressionXYZ(u,l,c,e),e.push(")");break;case"Array1D(3)":case"Array2D(3)":case"Array3D(3)":e.push(`getMemoryOptimizedVec3(${h}, ${h}Size, ${h}Dim, `),this.memberExpressionXYZ(u,l,c,e),e.push(")");break;case"ArrayTexture(3)":e.push(`getVec3FromSampler2D(${h}, ${h}Size, ${h}Dim, `),this.memberExpressionXYZ(u,l,c,e),e.push(")");break;case"Array1D(4)":case"Array2D(4)":case"Array3D(4)":e.push(`getMemoryOptimizedVec4(${h}, ${h}Size, ${h}Dim, `),this.memberExpressionXYZ(u,l,c,e),e.push(")");break;case"ArrayTexture(4)":case"HTMLCanvas":case"OffscreenCanvas":case"HTMLImage":case"ImageBitmap":case"ImageData":case"HTMLVideo":e.push(`getVec4FromSampler2D(${h}, ${h}Size, ${h}Dim, `),this.memberExpressionXYZ(u,l,c,e),e.push(")");break;case"NumberTexture":case"Array":case"Array2D":case"Array3D":case"Array4D":case"Input":case"Number":case"Float":case"Integer":if("single"===this.precision)e.push(`getMemoryOptimized32(${h}, ${h}Size, ${h}Dim, `),this.memberExpressionXYZ(u,l,c,e),e.push(")");else{const t="user"===a?this.lookupFunctionArgumentBitRatio(this.name,i):this.constantBitRatios[i];switch(t){case 1:e.push(`get8(${h}, ${h}Size, ${h}Dim, `);break;case 2:e.push(`get16(${h}, ${h}Size, ${h}Dim, `);break;case 4:case 0:e.push(`get32(${h}, ${h}Size, ${h}Dim, `);break;default:throw new Error(`unhandled bit ratio of ${t}`)}this.memberExpressionXYZ(u,l,c,e),e.push(")")}break;case"MemoryOptimizedNumberTexture":e.push(`getMemoryOptimized32(${h}, ${h}Size, ${h}Dim, `),this.memberExpressionXYZ(u,l,c,e),e.push(")");break;case"Matrix(2)":case"Matrix(3)":case"Matrix(4)":e.push(`${h}[${this.memberExpressionPropertyMarkup(l)}]`),l&&e.push(`[${this.memberExpressionPropertyMarkup(u)}]`);break;default:throw new Error(`unhandled member expression "${o}"`)}return e}astCallExpression(t,e){if(!t.callee)throw this.astErrorOutput("Unknown CallExpression",t);let n=null;const i=this.isAstMathFunction(t);if(n=i||t.callee.object&&"ThisExpression"===t.callee.object.type?t.callee.property.name:"SequenceExpression"!==t.callee.type||"Literal"!==t.callee.expressions[0].type||isNaN(t.callee.expressions[0].raw)?t.callee.name:t.callee.expressions[1].property.name,!n)throw this.astErrorOutput("Unhandled function, couldn't find name",t);switch(n){case"pow":n="_pow";break;case"round":n="_round"}if(this.calledFunctions.indexOf(n)<0&&this.calledFunctions.push(n),"random"===n&&this.plugins&&this.plugins.length>0)for(let r=0;r<this.plugins.length;r++){const t=this.plugins[r];if("Math.random()"===t.functionMatch&&t.functionReplace)return e.push(t.functionReplace),e}if(this.onFunctionCall&&this.onFunctionCall(this.name,n,t.arguments),e.push(n),e.push("("),i)for(let r=0;r<t.arguments.length;++r){const n=t.arguments[r],i=this.getType(n);r>0&&e.push(", "),"Integer"===i?this.castValueToFloat(n,e):this.astGeneric(n,e)}else{const i=this.lookupFunctionArgumentTypes(n)||[];for(let s=0;s<t.arguments.length;++s){const a=t.arguments[s];let o=i[s];s>0&&e.push(", ");const u=this.getType(a);switch(o||(this.triggerImplyArgumentType(n,s,u,this),o=u),u){case"Boolean":this.astGeneric(a,e);continue;case"Number":case"Float":if("Integer"===o){e.push("int("),this.astGeneric(a,e),e.push(")");continue}if("Number"===o||"Float"===o){this.astGeneric(a,e);continue}if("LiteralInteger"===o){this.castLiteralToFloat(a,e);continue}break;case"Integer":if("Number"===o||"Float"===o){e.push("float("),this.astGeneric(a,e),e.push(")");continue}if("Integer"===o){this.astGeneric(a,e);continue}break;case"LiteralInteger":if("Integer"===o){this.castLiteralToInteger(a,e);continue}if("Number"===o||"Float"===o){this.castLiteralToFloat(a,e);continue}if("LiteralInteger"===o){this.astGeneric(a,e);continue}break;case"Array(2)":case"Array(3)":case"Array(4)":if(o===u){if("Identifier"===a.type)e.push(`user_${r.sanitizeName(a.name)}`);else{if("ArrayExpression"!==a.type&&"MemberExpression"!==a.type&&"CallExpression"!==a.type)throw this.astErrorOutput(`Unhandled argument type ${a.type}`,t);this.astGeneric(a,e)}continue}break;case"HTMLCanvas":case"OffscreenCanvas":case"HTMLImage":case"ImageBitmap":case"ImageData":case"HTMLImageArray":case"HTMLVideo":case"ArrayTexture(1)":case"ArrayTexture(2)":case"ArrayTexture(3)":case"ArrayTexture(4)":case"Array":case"Input":if(o===u){if("Identifier"!==a.type)throw this.astErrorOutput(`Unhandled argument type ${a.type}`,t);this.triggerImplyArgumentBitRatio(this.name,a.name,n,s);const i=r.sanitizeName(a.name);e.push(`user_${i},user_${i}Size,user_${i}Dim`);continue}}throw this.astErrorOutput(`Unhandled argument combination of ${u} and ${o} for argument named "${a.name}"`,t)}}return e.push(")"),e}astArrayExpression(t,e){const n=this.getType(t),r=t.elements.length;switch(n){case"Matrix(2)":case"Matrix(3)":case"Matrix(4)":e.push(`mat${r}(`);break;default:e.push(`vec${r}(`)}for(let i=0;i<r;++i){i>0&&e.push(", ");const n=t.elements[i];this.astGeneric(n,e)}return e.push(")"),e}memberExpressionXYZ(t,e,n,r){return n?r.push(this.memberExpressionPropertyMarkup(n),", "):r.push("0, "),e?r.push(this.memberExpressionPropertyMarkup(e),", "):r.push("0, "),r.push(this.memberExpressionPropertyMarkup(t)),r}memberExpressionPropertyMarkup(t){if(!t)throw new Error("Property not set");const e=[];switch(this.getType(t)){case"Number":case"Float":this.castValueToInteger(t,e);break;case"LiteralInteger":this.castLiteralToInteger(t,e);break;default:this.astGeneric(t,e)}return e.join("")}}const a={Array:"sampler2D","Array(2)":"vec2","Array(3)":"vec3","Array(4)":"vec4","Matrix(2)":"mat2","Matrix(3)":"mat3","Matrix(4)":"mat4",Array2D:"sampler2D",Array3D:"sampler2D",Boolean:"bool",Float:"float",Input:"sampler2D",Integer:"int",Number:"float",LiteralInteger:"float",NumberTexture:"sampler2D",MemoryOptimizedNumberTexture:"sampler2D","ArrayTexture(1)":"sampler2D","ArrayTexture(2)":"sampler2D","ArrayTexture(3)":"sampler2D","ArrayTexture(4)":"sampler2D",HTMLVideo:"sampler2D",HTMLCanvas:"sampler2D",OffscreenCanvas:"sampler2D",HTMLImage:"sampler2D",ImageBitmap:"sampler2D",ImageData:"sampler2D",HTMLImageArray:"sampler2DArray"},o={"===":"==","!==":"!="};e.exports={WebGLFunctionNode:s}},{"../../utils":114,"../function-node":10}],39:[function(t,e,n){const{WebGLKernelValueBoolean:r}=t("./kernel-value/boolean"),{WebGLKernelValueFloat:i}=t("./kernel-value/float"),{WebGLKernelValueInteger:s}=t("./kernel-value/integer"),{WebGLKernelValueHTMLImage:a}=t("./kernel-value/html-image"),{WebGLKernelValueDynamicHTMLImage:o}=t("./kernel-value/dynamic-html-image"),{WebGLKernelValueHTMLVideo:u}=t("./kernel-value/html-video"),{WebGLKernelValueDynamicHTMLVideo:l}=t("./kernel-value/dynamic-html-video"),{WebGLKernelValueSingleInput:c}=t("./kernel-value/single-input"),{WebGLKernelValueDynamicSingleInput:h}=t("./kernel-value/dynamic-single-input"),{WebGLKernelValueUnsignedInput:p}=t("./kernel-value/unsigned-input"),{WebGLKernelValueDynamicUnsignedInput:d}=t("./kernel-value/dynamic-unsigned-input"),{WebGLKernelValueMemoryOptimizedNumberTexture:f}=t("./kernel-value/memory-optimized-number-texture"),{WebGLKernelValueDynamicMemoryOptimizedNumberTexture:m}=t("./kernel-value/dynamic-memory-optimized-number-texture"),{WebGLKernelValueNumberTexture:g}=t("./kernel-value/number-texture"),{WebGLKernelValueDynamicNumberTexture:y}=t("./kernel-value/dynamic-number-texture"),{WebGLKernelValueSingleArray:b}=t("./kernel-value/single-array"),{WebGLKernelValueDynamicSingleArray:x}=t("./kernel-value/dynamic-single-array"),{WebGLKernelValueSingleArray1DI:v}=t("./kernel-value/single-array1d-i"),{WebGLKernelValueDynamicSingleArray1DI:w}=t("./kernel-value/dynamic-single-array1d-i"),{WebGLKernelValueSingleArray2DI:S}=t("./kernel-value/single-array2d-i"),{WebGLKernelValueDynamicSingleArray2DI:k}=t("./kernel-value/dynamic-single-array2d-i"),{WebGLKernelValueSingleArray3DI:T}=t("./kernel-value/single-array3d-i"),{WebGLKernelValueDynamicSingleArray3DI:A}=t("./kernel-value/dynamic-single-array3d-i"),{WebGLKernelValueArray2:E}=t("./kernel-value/array2"),{WebGLKernelValueArray3:_}=t("./kernel-value/array3"),{WebGLKernelValueArray4:L}=t("./kernel-value/array4"),{WebGLKernelValueUnsignedArray:C}=t("./kernel-value/unsigned-array"),{WebGLKernelValueDynamicUnsignedArray:I}=t("./kernel-value/dynamic-unsigned-array"),$={unsigned:{dynamic:{Boolean:r,Integer:s,Float:i,Array:I,"Array(2)":E,"Array(3)":_,"Array(4)":L,"Array1D(2)":!1,"Array1D(3)":!1,"Array1D(4)":!1,"Array2D(2)":!1,"Array2D(3)":!1,"Array2D(4)":!1,"Array3D(2)":!1,"Array3D(3)":!1,"Array3D(4)":!1,Input:d,NumberTexture:y,"ArrayTexture(1)":y,"ArrayTexture(2)":y,"ArrayTexture(3)":y,"ArrayTexture(4)":y,MemoryOptimizedNumberTexture:m,HTMLCanvas:o,OffscreenCanvas:o,HTMLImage:o,ImageBitmap:o,ImageData:o,HTMLImageArray:!1,HTMLVideo:l},static:{Boolean:r,Float:i,Integer:s,Array:C,"Array(2)":E,"Array(3)":_,"Array(4)":L,"Array1D(2)":!1,"Array1D(3)":!1,"Array1D(4)":!1,"Array2D(2)":!1,"Array2D(3)":!1,"Array2D(4)":!1,"Array3D(2)":!1,"Array3D(3)":!1,"Array3D(4)":!1,Input:p,NumberTexture:g,"ArrayTexture(1)":g,"ArrayTexture(2)":g,"ArrayTexture(3)":g,"ArrayTexture(4)":g,MemoryOptimizedNumberTexture:f,HTMLCanvas:a,OffscreenCanvas:a,HTMLImage:a,ImageBitmap:a,ImageData:a,HTMLImageArray:!1,HTMLVideo:u}},single:{dynamic:{Boolean:r,Integer:s,Float:i,Array:x,"Array(2)":E,"Array(3)":_,"Array(4)":L,"Array1D(2)":w,"Array1D(3)":w,"Array1D(4)":w,"Array2D(2)":k,"Array2D(3)":k,"Array2D(4)":k,"Array3D(2)":A,"Array3D(3)":A,"Array3D(4)":A,Input:h,NumberTexture:y,"ArrayTexture(1)":y,"ArrayTexture(2)":y,"ArrayTexture(3)":y,"ArrayTexture(4)":y,MemoryOptimizedNumberTexture:m,HTMLCanvas:o,OffscreenCanvas:o,HTMLImage:o,ImageBitmap:o,ImageData:o,HTMLImageArray:!1,HTMLVideo:l},static:{Boolean:r,Float:i,Integer:s,Array:b,"Array(2)":E,"Array(3)":_,"Array(4)":L,"Array1D(2)":v,"Array1D(3)":v,"Array1D(4)":v,"Array2D(2)":S,"Array2D(3)":S,"Array2D(4)":S,"Array3D(2)":T,"Array3D(3)":T,"Array3D(4)":T,Input:c,NumberTexture:g,"ArrayTexture(1)":g,"ArrayTexture(2)":g,"ArrayTexture(3)":g,"ArrayTexture(4)":g,MemoryOptimizedNumberTexture:f,HTMLCanvas:a,OffscreenCanvas:a,HTMLImage:a,ImageBitmap:a,ImageData:a,HTMLImageArray:!1,HTMLVideo:u}}};function O(t,e,n,r){if(!t)throw new Error("type missing");if(!e)throw new Error("dynamic missing");if(!n)throw new Error("precision missing");r.type&&(t=r.type);const i=$[n][e];if(!1===i[t])return null;if(void 0===i[t])throw new Error(`Could not find a KernelValue for ${t}`);return i[t]}e.exports={lookupKernelValueType:O,kernelValueMaps:$}},{"./kernel-value/array2":41,"./kernel-value/array3":42,"./kernel-value/array4":43,"./kernel-value/boolean":44,"./kernel-value/dynamic-html-image":45,"./kernel-value/dynamic-html-video":46,"./kernel-value/dynamic-memory-optimized-number-texture":47,"./kernel-value/dynamic-number-texture":48,"./kernel-value/dynamic-single-array":49,"./kernel-value/dynamic-single-array1d-i":50,"./kernel-value/dynamic-single-array2d-i":51,"./kernel-value/dynamic-single-array3d-i":52,"./kernel-value/dynamic-single-input":53,"./kernel-value/dynamic-unsigned-array":54,"./kernel-value/dynamic-unsigned-input":55,"./kernel-value/float":56,"./kernel-value/html-image":57,"./kernel-value/html-video":58,"./kernel-value/integer":60,"./kernel-value/memory-optimized-number-texture":61,"./kernel-value/number-texture":62,"./kernel-value/single-array":63,"./kernel-value/single-array1d-i":64,"./kernel-value/single-array2d-i":65,"./kernel-value/single-array3d-i":66,"./kernel-value/single-input":67,"./kernel-value/unsigned-array":68,"./kernel-value/unsigned-input":69}],40:[function(t,e,n){const{WebGLKernelValue:r}=t("./index"),{Input:i}=t("../../../input");class s extends r{checkSize(t,e){if(!this.kernel.validate)return;const{maxTextureSize:n}=this.kernel.constructor.features;if(t>n||e>n)throw t>e?new Error(`Argument texture width of ${t} larger than maximum size of ${n} for your GPU`):t<e?new Error(`Argument texture height of ${e} larger than maximum size of ${n} for your GPU`):new Error(`Argument texture height and width of ${e} larger than maximum size of ${n} for your GPU`)}setup(){this.requestTexture(),this.setupTexture(),this.defineTexture()}requestTexture(){this.texture=this.onRequestTexture()}defineTexture(){const{context:t}=this;t.activeTexture(this.contextHandle),t.bindTexture(t.TEXTURE_2D,this.texture),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.NEAREST)}setupTexture(){this.contextHandle=this.onRequestContextHandle(),this.index=this.onRequestIndex(),this.dimensionsId=this.id+"Dim",this.sizeId=this.id+"Size"}getBitRatio(t){if(Array.isArray(t[0]))return this.getBitRatio(t[0]);if(t.constructor===i)return this.getBitRatio(t.value);switch(t.constructor){case Uint8ClampedArray:case Uint8Array:case Int8Array:return 1;case Uint16Array:case Int16Array:return 2;case Float32Array:case Int32Array:default:return 4}}destroy(){this.prevArg&&this.prevArg.delete(),this.context.deleteTexture(this.texture)}}e.exports={WebGLKernelArray:s}},{"../../../input":110,"./index":59}],41:[function(t,e,n){const{WebGLKernelValue:r}=t("./index");class i extends r{constructor(t,e){super(t,e),this.uploadValue=t}getSource(t){return"constants"===this.origin?`const vec2 ${this.id} = vec2(${t[0]},${t[1]});\n`:`uniform vec2 ${this.id};\n`}getStringValueHandler(){return"constants"===this.origin?"":`const uploadValue_${this.name} = ${this.varName};\n`}updateValue(t){"constants"!==this.origin&&this.kernel.setUniform2fv(this.id,this.uploadValue=t)}}e.exports={WebGLKernelValueArray2:i}},{"./index":59}],42:[function(t,e,n){const{WebGLKernelValue:r}=t("./index");class i extends r{constructor(t,e){super(t,e),this.uploadValue=t}getSource(t){return"constants"===this.origin?`const vec3 ${this.id} = vec3(${t[0]},${t[1]},${t[2]});\n`:`uniform vec3 ${this.id};\n`}getStringValueHandler(){return"constants"===this.origin?"":`const uploadValue_${this.name} = ${this.varName};\n`}updateValue(t){"constants"!==this.origin&&this.kernel.setUniform3fv(this.id,this.uploadValue=t)}}e.exports={WebGLKernelValueArray3:i}},{"./index":59}],43:[function(t,e,n){const{WebGLKernelValue:r}=t("./index");class i extends r{constructor(t,e){super(t,e),this.uploadValue=t}getSource(t){return"constants"===this.origin?`const vec4 ${this.id} = vec4(${t[0]},${t[1]},${t[2]},${t[3]});\n`:`uniform vec4 ${this.id};\n`}getStringValueHandler(){return"constants"===this.origin?"":`const uploadValue_${this.name} = ${this.varName};\n`}updateValue(t){"constants"!==this.origin&&this.kernel.setUniform4fv(this.id,this.uploadValue=t)}}e.exports={WebGLKernelValueArray4:i}},{"./index":59}],44:[function(t,e,n){t("../../../utils");const{WebGLKernelValue:r}=t("./index");class i extends r{constructor(t,e){super(t,e),this.uploadValue=t}getSource(t){return"constants"===this.origin?`const bool ${this.id} = ${t};\n`:`uniform bool ${this.id};\n`}getStringValueHandler(){return`const uploadValue_${this.name} = ${this.varName};\n`}updateValue(t){"constants"!==this.origin&&this.kernel.setUniform1i(this.id,this.uploadValue=t)}}e.exports={WebGLKernelValueBoolean:i}},{"../../../utils":114,"./index":59}],45:[function(t,e,n){const{utils:r}=t("../../../utils"),{WebGLKernelValueHTMLImage:i}=t("./html-image");class s extends i{getSource(){return r.linesToString([`uniform sampler2D ${this.id}`,`uniform ivec2 ${this.sizeId}`,`uniform ivec3 ${this.dimensionsId}`])}updateValue(t){const{width:e,height:n}=t;this.checkSize(e,n),this.dimensions=[e,n,1],this.textureSize=[e,n],this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),super.updateValue(t)}}e.exports={WebGLKernelValueDynamicHTMLImage:s}},{"../../../utils":114,"./html-image":57}],46:[function(t,e,n){const{WebGLKernelValueDynamicHTMLImage:r}=t("./dynamic-html-image");class i extends r{}e.exports={WebGLKernelValueDynamicHTMLVideo:i}},{"./dynamic-html-image":45}],47:[function(t,e,n){const{utils:r}=t("../../../utils"),{WebGLKernelValueMemoryOptimizedNumberTexture:i}=t("./memory-optimized-number-texture");class s extends i{getSource(){return r.linesToString([`uniform sampler2D ${this.id}`,`uniform ivec2 ${this.sizeId}`,`uniform ivec3 ${this.dimensionsId}`])}updateValue(t){this.dimensions=t.dimensions,this.checkSize(t.size[0],t.size[1]),this.textureSize=t.size,this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),super.updateValue(t)}}e.exports={WebGLKernelValueDynamicMemoryOptimizedNumberTexture:s}},{"../../../utils":114,"./memory-optimized-number-texture":61}],48:[function(t,e,n){const{utils:r}=t("../../../utils"),{WebGLKernelValueNumberTexture:i}=t("./number-texture");class s extends i{getSource(){return r.linesToString([`uniform sampler2D ${this.id}`,`uniform ivec2 ${this.sizeId}`,`uniform ivec3 ${this.dimensionsId}`])}updateValue(t){this.dimensions=t.dimensions,this.checkSize(t.size[0],t.size[1]),this.textureSize=t.size,this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),super.updateValue(t)}}e.exports={WebGLKernelValueDynamicNumberTexture:s}},{"../../../utils":114,"./number-texture":62}],49:[function(t,e,n){const{utils:r}=t("../../../utils"),{WebGLKernelValueSingleArray:i}=t("./single-array");class s extends i{getSource(){return r.linesToString([`uniform sampler2D ${this.id}`,`uniform ivec2 ${this.sizeId}`,`uniform ivec3 ${this.dimensionsId}`])}updateValue(t){this.dimensions=r.getDimensions(t,!0),this.textureSize=r.getMemoryOptimizedFloatTextureSize(this.dimensions,this.bitRatio),this.uploadArrayLength=this.textureSize[0]*this.textureSize[1]*this.bitRatio,this.checkSize(this.textureSize[0],this.textureSize[1]),this.uploadValue=new Float32Array(this.uploadArrayLength),this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),super.updateValue(t)}}e.exports={WebGLKernelValueDynamicSingleArray:s}},{"../../../utils":114,"./single-array":63}],50:[function(t,e,n){const{utils:r}=t("../../../utils"),{WebGLKernelValueSingleArray1DI:i}=t("./single-array1d-i");class s extends i{getSource(){return r.linesToString([`uniform sampler2D ${this.id}`,`uniform ivec2 ${this.sizeId}`,`uniform ivec3 ${this.dimensionsId}`])}updateValue(t){this.setShape(t),this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),super.updateValue(t)}}e.exports={WebGLKernelValueDynamicSingleArray1DI:s}},{"../../../utils":114,"./single-array1d-i":64}],51:[function(t,e,n){const{utils:r}=t("../../../utils"),{WebGLKernelValueSingleArray2DI:i}=t("./single-array2d-i");class s extends i{getSource(){return r.linesToString([`uniform sampler2D ${this.id}`,`uniform ivec2 ${this.sizeId}`,`uniform ivec3 ${this.dimensionsId}`])}updateValue(t){this.setShape(t),this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),super.updateValue(t)}}e.exports={WebGLKernelValueDynamicSingleArray2DI:s}},{"../../../utils":114,"./single-array2d-i":65}],52:[function(t,e,n){const{utils:r}=t("../../../utils"),{WebGLKernelValueSingleArray3DI:i}=t("./single-array3d-i");class s extends i{getSource(){return r.linesToString([`uniform sampler2D ${this.id}`,`uniform ivec2 ${this.sizeId}`,`uniform ivec3 ${this.dimensionsId}`])}updateValue(t){this.setShape(t),this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),super.updateValue(t)}}e.exports={WebGLKernelValueDynamicSingleArray3DI:s}},{"../../../utils":114,"./single-array3d-i":66}],53:[function(t,e,n){const{utils:r}=t("../../../utils"),{WebGLKernelValueSingleInput:i}=t("./single-input");class s extends i{getSource(){return r.linesToString([`uniform sampler2D ${this.id}`,`uniform ivec2 ${this.sizeId}`,`uniform ivec3 ${this.dimensionsId}`])}updateValue(t){let[e,n,i]=t.size;this.dimensions=new Int32Array([e||1,n||1,i||1]),this.textureSize=r.getMemoryOptimizedFloatTextureSize(this.dimensions,this.bitRatio),this.uploadArrayLength=this.textureSize[0]*this.textureSize[1]*this.bitRatio,this.checkSize(this.textureSize[0],this.textureSize[1]),this.uploadValue=new Float32Array(this.uploadArrayLength),this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),super.updateValue(t)}}e.exports={WebGLKernelValueDynamicSingleInput:s}},{"../../../utils":114,"./single-input":67}],54:[function(t,e,n){const{utils:r}=t("../../../utils"),{WebGLKernelValueUnsignedArray:i}=t("./unsigned-array");class s extends i{getSource(){return r.linesToString([`uniform sampler2D ${this.id}`,`uniform ivec2 ${this.sizeId}`,`uniform ivec3 ${this.dimensionsId}`])}updateValue(t){this.dimensions=r.getDimensions(t,!0),this.textureSize=r.getMemoryOptimizedPackedTextureSize(this.dimensions,this.bitRatio),this.uploadArrayLength=this.textureSize[0]*this.textureSize[1]*(4/this.bitRatio),this.checkSize(this.textureSize[0],this.textureSize[1]);const e=this.getTransferArrayType(t);this.preUploadValue=new e(this.uploadArrayLength),this.uploadValue=new Uint8Array(this.preUploadValue.buffer),this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),super.updateValue(t)}}e.exports={WebGLKernelValueDynamicUnsignedArray:s}},{"../../../utils":114,"./unsigned-array":68}],55:[function(t,e,n){const{utils:r}=t("../../../utils"),{WebGLKernelValueUnsignedInput:i}=t("./unsigned-input");class s extends i{getSource(){return r.linesToString([`uniform sampler2D ${this.id}`,`uniform ivec2 ${this.sizeId}`,`uniform ivec3 ${this.dimensionsId}`])}updateValue(t){let[e,n,i]=t.size;this.dimensions=new Int32Array([e||1,n||1,i||1]),this.textureSize=r.getMemoryOptimizedPackedTextureSize(this.dimensions,this.bitRatio),this.uploadArrayLength=this.textureSize[0]*this.textureSize[1]*(4/this.bitRatio),this.checkSize(this.textureSize[0],this.textureSize[1]);const s=this.getTransferArrayType(t.value);this.preUploadValue=new s(this.uploadArrayLength),this.uploadValue=new Uint8Array(this.preUploadValue.buffer),this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),super.updateValue(t)}}e.exports={WebGLKernelValueDynamicUnsignedInput:s}},{"../../../utils":114,"./unsigned-input":69}],56:[function(t,e,n){t("../../../utils");const{WebGLKernelValue:r}=t("./index");class i extends r{constructor(t,e){super(t,e),this.uploadValue=t}getStringValueHandler(){return`const uploadValue_${this.name} = ${this.varName};\n`}getSource(t){return"constants"===this.origin?Number.isInteger(t)?`const float ${this.id} = ${t}.0;\n`:`const float ${this.id} = ${t};\n`:`uniform float ${this.id};\n`}updateValue(t){"constants"!==this.origin&&this.kernel.setUniform1f(this.id,this.uploadValue=t)}}e.exports={WebGLKernelValueFloat:i}},{"../../../utils":114,"./index":59}],57:[function(t,e,n){const{utils:r}=t("../../../utils"),{WebGLKernelArray:i}=t("./array");class s extends i{constructor(t,e){super(t,e);const{width:n,height:r}=t;this.checkSize(n,r),this.dimensions=[n,r,1],this.textureSize=[n,r],this.uploadValue=t}getStringValueHandler(){return`const uploadValue_${this.name} = ${this.varName};\n`}getSource(){return r.linesToString([`uniform sampler2D ${this.id}`,`ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,`ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`])}updateValue(t){if(t.constructor!==this.initialValueConstructor)return void this.onUpdateValueMismatch(t.constructor);const{context:e}=this;e.activeTexture(this.contextHandle),e.bindTexture(e.TEXTURE_2D,this.texture),e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,!0),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,this.uploadValue=t),this.kernel.setUniform1i(this.id,this.index)}}e.exports={WebGLKernelValueHTMLImage:s}},{"../../../utils":114,"./array":40}],58:[function(t,e,n){const{WebGLKernelValueHTMLImage:r}=t("./html-image");class i extends r{}e.exports={WebGLKernelValueHTMLVideo:i}},{"./html-image":57}],59:[function(t,e,n){const{utils:r}=t("../../../utils"),{KernelValue:i}=t("../../kernel-value");class s extends i{constructor(t,e){super(t,e),this.dimensionsId=null,this.sizeId=null,this.initialValueConstructor=t.constructor,this.onRequestTexture=e.onRequestTexture,this.onRequestIndex=e.onRequestIndex,this.uploadValue=null,this.textureSize=null,this.bitRatio=null,this.prevArg=null}get id(){return`${this.origin}_${r.sanitizeName(this.name)}`}setup(){}getTransferArrayType(t){if(Array.isArray(t[0]))return this.getTransferArrayType(t[0]);switch(t.constructor){case Array:case Int32Array:case Int16Array:case Int8Array:return Float32Array;case Uint8ClampedArray:case Uint8Array:case Uint16Array:case Uint32Array:case Float32Array:case Float64Array:return t.constructor}return console.warn("Unfamiliar constructor type.  Will go ahead and use, but likley this may result in a transfer of zeros"),t.constructor}getStringValueHandler(){throw new Error(`"getStringValueHandler" not implemented on ${this.constructor.name}`)}getVariablePrecisionString(){return this.kernel.getVariablePrecisionString(this.textureSize||void 0,this.tactic||void 0)}destroy(){}}e.exports={WebGLKernelValue:s}},{"../../../utils":114,"../../kernel-value":35}],60:[function(t,e,n){t("../../../utils");const{WebGLKernelValue:r}=t("./index");class i extends r{constructor(t,e){super(t,e),this.uploadValue=t}getStringValueHandler(){return`const uploadValue_${this.name} = ${this.varName};\n`}getSource(t){return"constants"===this.origin?`const int ${this.id} = ${parseInt(t)};\n`:`uniform int ${this.id};\n`}updateValue(t){"constants"!==this.origin&&this.kernel.setUniform1i(this.id,this.uploadValue=t)}}e.exports={WebGLKernelValueInteger:i}},{"../../../utils":114,"./index":59}],61:[function(t,e,n){const{utils:r}=t("../../../utils"),{WebGLKernelArray:i}=t("./array"),s="Source and destination textures are the same.  Use immutable = true and manually cleanup kernel output texture memory with texture.delete()";class a extends i{constructor(t,e){super(t,e);const[n,r]=t.size;this.checkSize(n,r),this.dimensions=t.dimensions,this.textureSize=t.size,this.uploadValue=t.texture,this.forceUploadEachRun=!0}setup(){this.setupTexture()}getStringValueHandler(){return`const uploadValue_${this.name} = ${this.varName}.texture;\n`}getSource(){return r.linesToString([`uniform sampler2D ${this.id}`,`ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,`ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`])}updateValue(t){if(t.constructor!==this.initialValueConstructor)return void this.onUpdateValueMismatch(t.constructor);if(this.checkContext&&t.context!==this.context)throw new Error(`Value ${this.name} (${this.type}) must be from same context`);const{kernel:e,context:n}=this;if(e.pipeline)if(e.immutable)e.updateTextureArgumentRefs(this,t);else{if(e.texture&&e.texture.texture===t.texture)throw new Error(s);if(e.mappedTextures){const{mappedTextures:n}=e;for(let e=0;e<n.length;e++)if(n[e].texture===t.texture)throw new Error(s)}}n.activeTexture(this.contextHandle),n.bindTexture(n.TEXTURE_2D,this.uploadValue=t.texture),this.kernel.setUniform1i(this.id,this.index)}}e.exports={WebGLKernelValueMemoryOptimizedNumberTexture:a,sameError:s}},{"../../../utils":114,"./array":40}],62:[function(t,e,n){const{utils:r}=t("../../../utils"),{WebGLKernelArray:i}=t("./array"),{sameError:s}=t("./memory-optimized-number-texture");class a extends i{constructor(t,e){super(t,e);const[n,r]=t.size;this.checkSize(n,r);const{size:i,dimensions:s}=t;this.bitRatio=this.getBitRatio(t),this.dimensions=s,this.textureSize=i,this.uploadValue=t.texture,this.forceUploadEachRun=!0}setup(){this.setupTexture()}getStringValueHandler(){return`const uploadValue_${this.name} = ${this.varName}.texture;\n`}getSource(){return r.linesToString([`uniform sampler2D ${this.id}`,`ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,`ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`])}updateValue(t){if(t.constructor!==this.initialValueConstructor)return void this.onUpdateValueMismatch(t.constructor);if(this.checkContext&&t.context!==this.context)throw new Error(`Value ${this.name} (${this.type}) must be from same context`);const{kernel:e,context:n}=this;if(e.pipeline)if(e.immutable)e.updateTextureArgumentRefs(this,t);else{if(e.texture&&e.texture.texture===t.texture)throw new Error(s);if(e.mappedTextures){const{mappedTextures:n}=e;for(let e=0;e<n.length;e++)if(n[e].texture===t.texture)throw new Error(s)}}n.activeTexture(this.contextHandle),n.bindTexture(n.TEXTURE_2D,this.uploadValue=t.texture),this.kernel.setUniform1i(this.id,this.index)}}e.exports={WebGLKernelValueNumberTexture:a}},{"../../../utils":114,"./array":40,"./memory-optimized-number-texture":61}],63:[function(t,e,n){const{utils:r}=t("../../../utils"),{WebGLKernelArray:i}=t("./array");class s extends i{constructor(t,e){super(t,e),this.bitRatio=4,this.dimensions=r.getDimensions(t,!0),this.textureSize=r.getMemoryOptimizedFloatTextureSize(this.dimensions,this.bitRatio),this.uploadArrayLength=this.textureSize[0]*this.textureSize[1]*this.bitRatio,this.checkSize(this.textureSize[0],this.textureSize[1]),this.uploadValue=new Float32Array(this.uploadArrayLength)}getStringValueHandler(){return r.linesToString([`const uploadValue_${this.name} = new Float32Array(${this.uploadArrayLength})`,`flattenTo(${this.varName}, uploadValue_${this.name})`])}getSource(){return r.linesToString([`uniform sampler2D ${this.id}`,`ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,`ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`])}updateValue(t){if(t.constructor!==this.initialValueConstructor)return void this.onUpdateValueMismatch(t.constructor);const{context:e}=this;r.flattenTo(t,this.uploadValue),e.activeTexture(this.contextHandle),e.bindTexture(e.TEXTURE_2D,this.texture),e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,!1),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,this.textureSize[0],this.textureSize[1],0,e.RGBA,e.FLOAT,this.uploadValue),this.kernel.setUniform1i(this.id,this.index)}}e.exports={WebGLKernelValueSingleArray:s}},{"../../../utils":114,"./array":40}],64:[function(t,e,n){const{utils:r}=t("../../../utils"),{WebGLKernelArray:i}=t("./array");class s extends i{constructor(t,e){super(t,e),this.bitRatio=4,this.setShape(t)}setShape(t){const e=r.getDimensions(t,!0);this.textureSize=r.getMemoryOptimizedFloatTextureSize(e,this.bitRatio),this.dimensions=new Int32Array([e[1],1,1]),this.uploadArrayLength=this.textureSize[0]*this.textureSize[1]*this.bitRatio,this.checkSize(this.textureSize[0],this.textureSize[1]),this.uploadValue=new Float32Array(this.uploadArrayLength)}getStringValueHandler(){return r.linesToString([`const uploadValue_${this.name} = new Float32Array(${this.uploadArrayLength})`,`flattenTo(${this.varName}, uploadValue_${this.name})`])}getSource(){return r.linesToString([`uniform sampler2D ${this.id}`,`ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,`ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`])}updateValue(t){if(t.constructor!==this.initialValueConstructor)return void this.onUpdateValueMismatch(t.constructor);const{context:e}=this;r.flatten2dArrayTo(t,this.uploadValue),e.activeTexture(this.contextHandle),e.bindTexture(e.TEXTURE_2D,this.texture),e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,!1),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,this.textureSize[0],this.textureSize[1],0,e.RGBA,e.FLOAT,this.uploadValue),this.kernel.setUniform1i(this.id,this.index)}}e.exports={WebGLKernelValueSingleArray1DI:s}},{"../../../utils":114,"./array":40}],65:[function(t,e,n){const{utils:r}=t("../../../utils"),{WebGLKernelArray:i}=t("./array");class s extends i{constructor(t,e){super(t,e),this.bitRatio=4,this.setShape(t)}setShape(t){const e=r.getDimensions(t,!0);this.textureSize=r.getMemoryOptimizedFloatTextureSize(e,this.bitRatio),this.dimensions=new Int32Array([e[1],e[2],1]),this.uploadArrayLength=this.textureSize[0]*this.textureSize[1]*this.bitRatio,this.checkSize(this.textureSize[0],this.textureSize[1]),this.uploadValue=new Float32Array(this.uploadArrayLength)}getStringValueHandler(){return r.linesToString([`const uploadValue_${this.name} = new Float32Array(${this.uploadArrayLength})`,`flattenTo(${this.varName}, uploadValue_${this.name})`])}getSource(){return r.linesToString([`uniform sampler2D ${this.id}`,`ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,`ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`])}updateValue(t){if(t.constructor!==this.initialValueConstructor)return void this.onUpdateValueMismatch(t.constructor);const{context:e}=this;r.flatten3dArrayTo(t,this.uploadValue),e.activeTexture(this.contextHandle),e.bindTexture(e.TEXTURE_2D,this.texture),e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,!1),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,this.textureSize[0],this.textureSize[1],0,e.RGBA,e.FLOAT,this.uploadValue),this.kernel.setUniform1i(this.id,this.index)}}e.exports={WebGLKernelValueSingleArray2DI:s}},{"../../../utils":114,"./array":40}],66:[function(t,e,n){const{utils:r}=t("../../../utils"),{WebGLKernelArray:i}=t("./array");class s extends i{constructor(t,e){super(t,e),this.bitRatio=4,this.setShape(t)}setShape(t){const e=r.getDimensions(t,!0);this.textureSize=r.getMemoryOptimizedFloatTextureSize(e,this.bitRatio),this.dimensions=new Int32Array([e[1],e[2],e[3]]),this.uploadArrayLength=this.textureSize[0]*this.textureSize[1]*this.bitRatio,this.checkSize(this.textureSize[0],this.textureSize[1]),this.uploadValue=new Float32Array(this.uploadArrayLength)}getStringValueHandler(){return r.linesToString([`const uploadValue_${this.name} = new Float32Array(${this.uploadArrayLength})`,`flattenTo(${this.varName}, uploadValue_${this.name})`])}getSource(){return r.linesToString([`uniform sampler2D ${this.id}`,`ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,`ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`])}updateValue(t){if(t.constructor!==this.initialValueConstructor)return void this.onUpdateValueMismatch(t.constructor);const{context:e}=this;r.flatten4dArrayTo(t,this.uploadValue),e.activeTexture(this.contextHandle),e.bindTexture(e.TEXTURE_2D,this.texture),e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,!1),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,this.textureSize[0],this.textureSize[1],0,e.RGBA,e.FLOAT,this.uploadValue),this.kernel.setUniform1i(this.id,this.index)}}e.exports={WebGLKernelValueSingleArray3DI:s}},{"../../../utils":114,"./array":40}],67:[function(t,e,n){const{utils:r}=t("../../../utils"),{WebGLKernelArray:i}=t("./array");class s extends i{constructor(t,e){super(t,e),this.bitRatio=4;let[n,i,s]=t.size;this.dimensions=new Int32Array([n||1,i||1,s||1]),this.textureSize=r.getMemoryOptimizedFloatTextureSize(this.dimensions,this.bitRatio),this.uploadArrayLength=this.textureSize[0]*this.textureSize[1]*this.bitRatio,this.checkSize(this.textureSize[0],this.textureSize[1]),this.uploadValue=new Float32Array(this.uploadArrayLength)}getStringValueHandler(){return r.linesToString([`const uploadValue_${this.name} = new Float32Array(${this.uploadArrayLength})`,`flattenTo(${this.varName}.value, uploadValue_${this.name})`])}getSource(){return r.linesToString([`uniform sampler2D ${this.id}`,`ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,`ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`])}updateValue(t){if(t.constructor!==this.initialValueConstructor)return void this.onUpdateValueMismatch(t.constructor);const{context:e}=this;r.flattenTo(t.value,this.uploadValue),e.activeTexture(this.contextHandle),e.bindTexture(e.TEXTURE_2D,this.texture),e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,!1),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,this.textureSize[0],this.textureSize[1],0,e.RGBA,e.FLOAT,this.uploadValue),this.kernel.setUniform1i(this.id,this.index)}}e.exports={WebGLKernelValueSingleInput:s}},{"../../../utils":114,"./array":40}],68:[function(t,e,n){const{utils:r}=t("../../../utils"),{WebGLKernelArray:i}=t("./array");class s extends i{constructor(t,e){super(t,e),this.bitRatio=this.getBitRatio(t),this.dimensions=r.getDimensions(t,!0),this.textureSize=r.getMemoryOptimizedPackedTextureSize(this.dimensions,this.bitRatio),this.uploadArrayLength=this.textureSize[0]*this.textureSize[1]*(4/this.bitRatio),this.checkSize(this.textureSize[0],this.textureSize[1]),this.TranserArrayType=this.getTransferArrayType(t),this.preUploadValue=new this.TranserArrayType(this.uploadArrayLength),this.uploadValue=new Uint8Array(this.preUploadValue.buffer)}getStringValueHandler(){return r.linesToString([`const preUploadValue_${this.name} = new ${this.TranserArrayType.name}(${this.uploadArrayLength})`,`const uploadValue_${this.name} = new Uint8Array(preUploadValue_${this.name}.buffer)`,`flattenTo(${this.varName}, preUploadValue_${this.name})`])}getSource(){return r.linesToString([`uniform sampler2D ${this.id}`,`ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,`ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`])}updateValue(t){if(t.constructor!==this.initialValueConstructor)return void this.onUpdateValueMismatch(t.constructor);const{context:e}=this;r.flattenTo(t,this.preUploadValue),e.activeTexture(this.contextHandle),e.bindTexture(e.TEXTURE_2D,this.texture),e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,!1),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,this.textureSize[0],this.textureSize[1],0,e.RGBA,e.UNSIGNED_BYTE,this.uploadValue),this.kernel.setUniform1i(this.id,this.index)}}e.exports={WebGLKernelValueUnsignedArray:s}},{"../../../utils":114,"./array":40}],69:[function(t,e,n){const{utils:r}=t("../../../utils"),{WebGLKernelArray:i}=t("./array");class s extends i{constructor(t,e){super(t,e),this.bitRatio=this.getBitRatio(t);const[n,i,s]=t.size;this.dimensions=new Int32Array([n||1,i||1,s||1]),this.textureSize=r.getMemoryOptimizedPackedTextureSize(this.dimensions,this.bitRatio),this.uploadArrayLength=this.textureSize[0]*this.textureSize[1]*(4/this.bitRatio),this.checkSize(this.textureSize[0],this.textureSize[1]),this.TranserArrayType=this.getTransferArrayType(t.value),this.preUploadValue=new this.TranserArrayType(this.uploadArrayLength),this.uploadValue=new Uint8Array(this.preUploadValue.buffer)}getStringValueHandler(){return r.linesToString([`const preUploadValue_${this.name} = new ${this.TranserArrayType.name}(${this.uploadArrayLength})`,`const uploadValue_${this.name} = new Uint8Array(preUploadValue_${this.name}.buffer)`,`flattenTo(${this.varName}.value, preUploadValue_${this.name})`])}getSource(){return r.linesToString([`uniform sampler2D ${this.id}`,`ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,`ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`])}updateValue(t){if(t.constructor!==this.initialValueConstructor)return void this.onUpdateValueMismatch(value.constructor);const{context:e}=this;r.flattenTo(t.value,this.preUploadValue),e.activeTexture(this.contextHandle),e.bindTexture(e.TEXTURE_2D,this.texture),e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,!1),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,this.textureSize[0],this.textureSize[1],0,e.RGBA,e.UNSIGNED_BYTE,this.uploadValue),this.kernel.setUniform1i(this.id,this.index)}}e.exports={WebGLKernelValueUnsignedInput:s}},{"../../../utils":114,"./array":40}],70:[function(t,e,n){const{GLKernel:r}=t("../gl/kernel"),{FunctionBuilder:i}=t("../function-builder"),{WebGLFunctionNode:s}=t("./function-node"),{utils:a}=t("../../utils"),o=t("../../plugins/math-random-uniformly-distributed"),{fragmentShader:u}=t("./fragment-shader"),{vertexShader:l}=t("./vertex-shader"),{glKernelString:c}=t("../gl/kernel-string"),{lookupKernelValueType:h}=t("./kernel-value-maps");let p=null,d=null,f=null,m=null,g=null;const y=[o],b=[],x={};class v extends r{static get isSupported(){return null!==p||(this.setupFeatureChecks(),p=this.isContextMatch(f)),p}static setupFeatureChecks(){"undefined"!==typeof document?d=document.createElement("canvas"):"undefined"!==typeof OffscreenCanvas&&(d=new OffscreenCanvas(0,0)),d&&(f=d.getContext("webgl")||d.getContext("experimental-webgl"),f&&f.getExtension&&(m={OES_texture_float:f.getExtension("OES_texture_float"),OES_texture_float_linear:f.getExtension("OES_texture_float_linear"),OES_element_index_uint:f.getExtension("OES_element_index_uint"),WEBGL_draw_buffers:f.getExtension("WEBGL_draw_buffers")},g=this.getFeatures()))}static isContextMatch(t){return"undefined"!==typeof WebGLRenderingContext&&t instanceof WebGLRenderingContext}static getIsTextureFloat(){return Boolean(m.OES_texture_float)}static getIsDrawBuffers(){return Boolean(m.WEBGL_draw_buffers)}static getChannelCount(){return m.WEBGL_draw_buffers?f.getParameter(m.WEBGL_draw_buffers.MAX_DRAW_BUFFERS_WEBGL):1}static getMaxTextureSize(){return f.getParameter(f.MAX_TEXTURE_SIZE)}static lookupKernelValueType(t,e,n,r){return h(t,e,n,r)}static get testCanvas(){return d}static get testContext(){return f}static get features(){return g}static get fragmentShader(){return u}static get vertexShader(){return l}constructor(t,e){super(t,e),this.program=null,this.pipeline=e.pipeline,this.endianness=a.systemEndianness(),this.extensions={},this.argumentTextureCount=0,this.constantTextureCount=0,this.fragShader=null,this.vertShader=null,this.drawBuffersMap=null,this.maxTexSize=null,this.onRequestSwitchKernel=null,this.texture=null,this.mappedTextures=null,this.mergeSettings(t.settings||e),this.threadDim=null,this.framebuffer=null,this.buffer=null,this.textureCache=[],this.programUniformLocationCache={},this.uniform1fCache={},this.uniform1iCache={},this.uniform2fCache={},this.uniform2fvCache={},this.uniform2ivCache={},this.uniform3fvCache={},this.uniform3ivCache={},this.uniform4fvCache={},this.uniform4ivCache={}}initCanvas(){if("undefined"!==typeof document){const t=document.createElement("canvas");return t.width=2,t.height=2,t}if("undefined"!==typeof OffscreenCanvas)return new OffscreenCanvas(0,0)}initContext(){const t={alpha:!1,depth:!1,antialias:!1};return this.canvas.getContext("webgl",t)||this.canvas.getContext("experimental-webgl",t)}initPlugins(t){const e=[],{source:n}=this;if("string"===typeof n)for(let r=0;r<y.length;r++){const t=y[r];n.match(t.functionMatch)&&e.push(t)}else if("object"===typeof n&&t.pluginNames)for(let r=0;r<y.length;r++){const n=y[r];t.pluginNames.some((t=>t===n.name))&&e.push(n)}return e}initExtensions(){this.extensions={OES_texture_float:this.context.getExtension("OES_texture_float"),OES_texture_float_linear:this.context.getExtension("OES_texture_float_linear"),OES_element_index_uint:this.context.getExtension("OES_element_index_uint"),WEBGL_draw_buffers:this.context.getExtension("WEBGL_draw_buffers"),WEBGL_color_buffer_float:this.context.getExtension("WEBGL_color_buffer_float")}}validateSettings(t){if(!this.validate)return void(this.texSize=a.getKernelTextureSize({optimizeFloatMemory:this.optimizeFloatMemory,precision:this.precision},this.output));const{features:e}=this.constructor;if(!0===this.optimizeFloatMemory&&!e.isTextureFloat)throw new Error("Float textures are not supported");if("single"===this.precision&&!e.isFloatRead)throw new Error("Single precision not supported");if(!this.graphical&&null===this.precision&&e.isTextureFloat&&(this.precision=e.isFloatRead?"single":"unsigned"),this.subKernels&&this.subKernels.length>0&&!this.extensions.WEBGL_draw_buffers)throw new Error("could not instantiate draw buffers extension");if(null===this.fixIntegerDivisionAccuracy?this.fixIntegerDivisionAccuracy=!e.isIntegerDivisionAccurate:this.fixIntegerDivisionAccuracy&&e.isIntegerDivisionAccurate&&(this.fixIntegerDivisionAccuracy=!1),this.checkOutput(),!this.output||0===this.output.length){if(1!==t.length)throw new Error("Auto output only supported for kernels with only one input");const e=a.getVariableType(t[0],this.strictIntegers);switch(e){case"Array":this.output=a.getDimensions(e);break;case"NumberTexture":case"MemoryOptimizedNumberTexture":case"ArrayTexture(1)":case"ArrayTexture(2)":case"ArrayTexture(3)":case"ArrayTexture(4)":this.output=t[0].output;break;default:throw new Error("Auto output not supported for input type: "+e)}}if(this.graphical){if(2!==this.output.length)throw new Error("Output must have 2 dimensions on graphical mode");return"precision"===this.precision&&(this.precision="unsigned",console.warn("Cannot use graphical mode and single precision at the same time")),void(this.texSize=a.clone(this.output))}null===this.precision&&e.isTextureFloat&&(this.precision="single"),this.texSize=a.getKernelTextureSize({optimizeFloatMemory:this.optimizeFloatMemory,precision:this.precision},this.output),this.checkTextureSize()}updateMaxTexSize(){const{texSize:t,canvas:e}=this;if(null===this.maxTexSize){let n=b.indexOf(e);-1===n&&(n=b.length,b.push(e),x[n]=[t[0],t[1]]),this.maxTexSize=x[n]}this.maxTexSize[0]<t[0]&&(this.maxTexSize[0]=t[0]),this.maxTexSize[1]<t[1]&&(this.maxTexSize[1]=t[1])}setupArguments(t){this.kernelArguments=[],this.argumentTextureCount=0;const e=null===this.argumentTypes;if(e&&(this.argumentTypes=[]),this.argumentSizes=[],this.argumentBitRatios=[],t.length<this.argumentNames.length)throw new Error("not enough arguments for kernel");if(t.length>this.argumentNames.length)throw new Error("too many arguments for kernel");const{context:n}=this;let r=0;const i=()=>this.createTexture(),s=()=>this.constantTextureCount+r++,o=t=>{this.switchKernels({type:"argumentMismatch",needed:t})},u=()=>n.TEXTURE0+this.constantTextureCount+this.argumentTextureCount++;for(let l=0;l<t.length;l++){const r=t[l],c=this.argumentNames[l];let h;e?(h=a.getVariableType(r,this.strictIntegers),this.argumentTypes.push(h)):h=this.argumentTypes[l];const p=this.constructor.lookupKernelValueType(h,this.dynamicArguments?"dynamic":"static",this.precision,t[l]);if(null===p)return this.requestFallback(t);const d=new p(r,{name:c,type:h,tactic:this.tactic,origin:"user",context:n,checkContext:this.checkContext,kernel:this,strictIntegers:this.strictIntegers,onRequestTexture:i,onRequestIndex:s,onUpdateValueMismatch:o,onRequestContextHandle:u});this.kernelArguments.push(d),d.setup(),this.argumentSizes.push(d.textureSize),this.argumentBitRatios[l]=d.bitRatio}}createTexture(){const t=this.context.createTexture();return this.textureCache.push(t),t}setupConstants(t){const{context:e}=this;this.kernelConstants=[],this.forceUploadKernelConstants=[];let n=null===this.constantTypes;n&&(this.constantTypes={}),this.constantBitRatios={};let r=0;for(const i in this.constants){const s=this.constants[i];let o;n?(o=a.getVariableType(s,this.strictIntegers),this.constantTypes[i]=o):o=this.constantTypes[i];const u=this.constructor.lookupKernelValueType(o,"static",this.precision,s);if(null===u)return this.requestFallback(t);const l=new u(s,{name:i,type:o,tactic:this.tactic,origin:"constants",context:this.context,checkContext:this.checkContext,kernel:this,strictIntegers:this.strictIntegers,onRequestTexture:()=>this.createTexture(),onRequestIndex:()=>r++,onRequestContextHandle:()=>e.TEXTURE0+this.constantTextureCount++});this.constantBitRatios[i]=l.bitRatio,this.kernelConstants.push(l),l.setup(),l.forceUploadEachRun&&this.forceUploadKernelConstants.push(l)}}build(){if(this.built)return;if(this.initExtensions(),this.validateSettings(arguments),this.setupConstants(arguments),this.fallbackRequested)return;if(this.setupArguments(arguments),this.fallbackRequested)return;this.updateMaxTexSize(),this.translateSource();const t=this.pickRenderStrategy(arguments);if(t)return t;const{texSize:e,context:n,canvas:r}=this;n.enable(n.SCISSOR_TEST),this.pipeline&&this.precision,n.viewport(0,0,this.maxTexSize[0],this.maxTexSize[1]),r.width=this.maxTexSize[0],r.height=this.maxTexSize[1];const i=this.threadDim=Array.from(this.output);for(;i.length<3;)i.push(1);const s=this.getVertexShader(arguments),a=n.createShader(n.VERTEX_SHADER);n.shaderSource(a,s),n.compileShader(a),this.vertShader=a;const o=this.getFragmentShader(arguments),u=n.createShader(n.FRAGMENT_SHADER);if(n.shaderSource(u,o),n.compileShader(u),this.fragShader=u,this.debug&&(console.log("GLSL Shader Output:"),console.log(o)),!n.getShaderParameter(a,n.COMPILE_STATUS))throw new Error("Error compiling vertex shader: "+n.getShaderInfoLog(a));if(!n.getShaderParameter(u,n.COMPILE_STATUS))throw new Error("Error compiling fragment shader: "+n.getShaderInfoLog(u));const l=this.program=n.createProgram();n.attachShader(l,a),n.attachShader(l,u),n.linkProgram(l),this.framebuffer=n.createFramebuffer(),this.framebuffer.width=e[0],this.framebuffer.height=e[1],this.rawValueFramebuffers={};const c=new Float32Array([-1,-1,1,-1,-1,1,1,1]),h=new Float32Array([0,0,1,0,0,1,1,1]),p=c.byteLength;let d=this.buffer;d?n.bindBuffer(n.ARRAY_BUFFER,d):(d=this.buffer=n.createBuffer(),n.bindBuffer(n.ARRAY_BUFFER,d),n.bufferData(n.ARRAY_BUFFER,c.byteLength+h.byteLength,n.STATIC_DRAW)),n.bufferSubData(n.ARRAY_BUFFER,0,c),n.bufferSubData(n.ARRAY_BUFFER,p,h);const f=n.getAttribLocation(this.program,"aPos");n.enableVertexAttribArray(f),n.vertexAttribPointer(f,2,n.FLOAT,!1,0,0);const m=n.getAttribLocation(this.program,"aTexCoord");n.enableVertexAttribArray(m),n.vertexAttribPointer(m,2,n.FLOAT,!1,0,p),n.bindFramebuffer(n.FRAMEBUFFER,this.framebuffer);let g=0;n.useProgram(this.program);for(let y in this.constants)this.kernelConstants[g++].updateValue(this.constants[y]);this._setupOutputTexture(),null!==this.subKernels&&this.subKernels.length>0&&(this._mappedTextureSwitched={},this._setupSubOutputTextures()),this.buildSignature(arguments),this.built=!0}translateSource(){const t=i.fromKernel(this,s,{fixIntegerDivisionAccuracy:this.fixIntegerDivisionAccuracy});this.translatedSource=t.getPrototypeString("kernel"),this.setupReturnTypes(t)}setupReturnTypes(t){if(this.graphical||this.returnType||(this.returnType=t.getKernelResultType()),this.subKernels&&this.subKernels.length>0)for(let e=0;e<this.subKernels.length;e++){const n=this.subKernels[e];n.returnType||(n.returnType=t.getSubKernelResultType(e))}}run(){const{kernelArguments:t,texSize:e,forceUploadKernelConstants:n,context:r}=this;r.useProgram(this.program),r.scissor(0,0,e[0],e[1]),this.dynamicOutput&&(this.setUniform3iv("uOutputDim",new Int32Array(this.threadDim)),this.setUniform2iv("uTexSize",e)),this.setUniform2f("ratio",e[0]/this.maxTexSize[0],e[1]/this.maxTexSize[1]);for(let i=0;i<n.length;i++){const t=n[i];if(t.updateValue(this.constants[t.name]),this.switchingKernels)return}for(let i=0;i<t.length;i++)if(t[i].updateValue(arguments[i]),this.switchingKernels)return;if(this.plugins)for(let i=0;i<this.plugins.length;i++){const t=this.plugins[i];t.onBeforeRun&&t.onBeforeRun(this)}if(this.graphical)return this.pipeline?(r.bindRenderbuffer(r.RENDERBUFFER,null),r.bindFramebuffer(r.FRAMEBUFFER,this.framebuffer),this.immutable&&this._replaceOutputTexture(),r.drawArrays(r.TRIANGLE_STRIP,0,4),this.immutable?this.texture.clone():this.texture):(r.bindRenderbuffer(r.RENDERBUFFER,null),r.bindFramebuffer(r.FRAMEBUFFER,null),void r.drawArrays(r.TRIANGLE_STRIP,0,4));r.bindFramebuffer(r.FRAMEBUFFER,this.framebuffer),this.immutable&&this._replaceOutputTexture(),null!==this.subKernels&&(this.immutable&&this._replaceSubOutputTextures(),this.drawBuffers()),r.drawArrays(r.TRIANGLE_STRIP,0,4)}drawBuffers(){this.extensions.WEBGL_draw_buffers.drawBuffersWEBGL(this.drawBuffersMap)}getInternalFormat(){return this.context.RGBA}getTextureFormat(){const{context:t}=this;if(this.getInternalFormat()===t.RGBA)return t.RGBA;throw new Error("Unknown internal format")}_replaceOutputTexture(){if(this.texture.beforeMutate()||this._textureSwitched){const t=this.context;t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,this.texture.texture,0),this._textureSwitched=!1}}_setupOutputTexture(){const t=this.context,e=this.texSize;if(this.texture)return void t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,this.texture.texture,0);const n=this.createTexture();t.activeTexture(t.TEXTURE0+this.constantTextureCount+this.argumentTextureCount),t.bindTexture(t.TEXTURE_2D,n),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.NEAREST);const r=this.getInternalFormat();"single"===this.precision?t.texImage2D(t.TEXTURE_2D,0,r,e[0],e[1],0,t.RGBA,t.FLOAT,null):t.texImage2D(t.TEXTURE_2D,0,r,e[0],e[1],0,r,t.UNSIGNED_BYTE,null),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,n,0),this.texture=new this.TextureConstructor({texture:n,size:e,dimensions:this.threadDim,output:this.output,context:this.context,internalFormat:this.getInternalFormat(),textureFormat:this.getTextureFormat(),kernel:this})}_replaceSubOutputTextures(){const t=this.context;for(let e=0;e<this.mappedTextures.length;e++){const n=this.mappedTextures[e];(n.beforeMutate()||this._mappedTextureSwitched[e])&&(t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+e+1,t.TEXTURE_2D,n.texture,0),this._mappedTextureSwitched[e]=!1)}}_setupSubOutputTextures(){const t=this.context;if(this.mappedTextures){for(let e=0;e<this.subKernels.length;e++)t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+e+1,t.TEXTURE_2D,this.mappedTextures[e].texture,0);return}const e=this.texSize;this.drawBuffersMap=[t.COLOR_ATTACHMENT0],this.mappedTextures=[];for(let n=0;n<this.subKernels.length;n++){const r=this.createTexture();this.drawBuffersMap.push(t.COLOR_ATTACHMENT0+n+1),t.activeTexture(t.TEXTURE0+this.constantTextureCount+this.argumentTextureCount+n),t.bindTexture(t.TEXTURE_2D,r),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.NEAREST),"single"===this.precision?t.texImage2D(t.TEXTURE_2D,0,t.RGBA,e[0],e[1],0,t.RGBA,t.FLOAT,null):t.texImage2D(t.TEXTURE_2D,0,t.RGBA,e[0],e[1],0,t.RGBA,t.UNSIGNED_BYTE,null),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+n+1,t.TEXTURE_2D,r,0),this.mappedTextures.push(new this.TextureConstructor({texture:r,size:e,dimensions:this.threadDim,output:this.output,context:this.context,internalFormat:this.getInternalFormat(),textureFormat:this.getTextureFormat(),kernel:this}))}}setUniform1f(t,e){if(this.uniform1fCache.hasOwnProperty(t)&&e===this.uniform1fCache[t])return;this.uniform1fCache[t]=e;const n=this.getUniformLocation(t);this.context.uniform1f(n,e)}setUniform1i(t,e){if(this.uniform1iCache.hasOwnProperty(t)&&e===this.uniform1iCache[t])return;this.uniform1iCache[t]=e;const n=this.getUniformLocation(t);this.context.uniform1i(n,e)}setUniform2f(t,e,n){if(this.uniform2fCache.hasOwnProperty(t)){const r=this.uniform2fCache[t];if(e===r[0]&&n===r[1])return}this.uniform2fCache[t]=[e,n];const r=this.getUniformLocation(t);this.context.uniform2f(r,e,n)}setUniform2fv(t,e){if(this.uniform2fvCache.hasOwnProperty(t)){const n=this.uniform2fvCache[t];if(e[0]===n[0]&&e[1]===n[1])return}this.uniform2fvCache[t]=e;const n=this.getUniformLocation(t);this.context.uniform2fv(n,e)}setUniform2iv(t,e){if(this.uniform2ivCache.hasOwnProperty(t)){const n=this.uniform2ivCache[t];if(e[0]===n[0]&&e[1]===n[1])return}this.uniform2ivCache[t]=e;const n=this.getUniformLocation(t);this.context.uniform2iv(n,e)}setUniform3fv(t,e){if(this.uniform3fvCache.hasOwnProperty(t)){const n=this.uniform3fvCache[t];if(e[0]===n[0]&&e[1]===n[1]&&e[2]===n[2])return}this.uniform3fvCache[t]=e;const n=this.getUniformLocation(t);this.context.uniform3fv(n,e)}setUniform3iv(t,e){if(this.uniform3ivCache.hasOwnProperty(t)){const n=this.uniform3ivCache[t];if(e[0]===n[0]&&e[1]===n[1]&&e[2]===n[2])return}this.uniform3ivCache[t]=e;const n=this.getUniformLocation(t);this.context.uniform3iv(n,e)}setUniform4fv(t,e){if(this.uniform4fvCache.hasOwnProperty(t)){const n=this.uniform4fvCache[t];if(e[0]===n[0]&&e[1]===n[1]&&e[2]===n[2]&&e[3]===n[3])return}this.uniform4fvCache[t]=e;const n=this.getUniformLocation(t);this.context.uniform4fv(n,e)}setUniform4iv(t,e){if(this.uniform4ivCache.hasOwnProperty(t)){const n=this.uniform4ivCache[t];if(e[0]===n[0]&&e[1]===n[1]&&e[2]===n[2]&&e[3]===n[3])return}this.uniform4ivCache[t]=e;const n=this.getUniformLocation(t);this.context.uniform4iv(n,e)}getUniformLocation(t){return this.programUniformLocationCache.hasOwnProperty(t)?this.programUniformLocationCache[t]:this.programUniformLocationCache[t]=this.context.getUniformLocation(this.program,t)}_getFragShaderArtifactMap(t){return{HEADER:this._getHeaderString(),LOOP_MAX:this._getLoopMaxString(),PLUGINS:this._getPluginsString(),CONSTANTS:this._getConstantsString(),DECODE32_ENDIANNESS:this._getDecode32EndiannessString(),ENCODE32_ENDIANNESS:this._getEncode32EndiannessString(),DIVIDE_WITH_INTEGER_CHECK:this._getDivideWithIntegerCheckString(),INJECTED_NATIVE:this._getInjectedNative(),MAIN_CONSTANTS:this._getMainConstantsString(),MAIN_ARGUMENTS:this._getMainArgumentsString(t),KERNEL:this.getKernelString(),MAIN_RESULT:this.getMainResultString(),FLOAT_TACTIC_DECLARATION:this.getFloatTacticDeclaration(),INT_TACTIC_DECLARATION:this.getIntTacticDeclaration(),SAMPLER_2D_TACTIC_DECLARATION:this.getSampler2DTacticDeclaration(),SAMPLER_2D_ARRAY_TACTIC_DECLARATION:this.getSampler2DArrayTacticDeclaration()}}_getVertShaderArtifactMap(t){return{FLOAT_TACTIC_DECLARATION:this.getFloatTacticDeclaration(),INT_TACTIC_DECLARATION:this.getIntTacticDeclaration(),SAMPLER_2D_TACTIC_DECLARATION:this.getSampler2DTacticDeclaration(),SAMPLER_2D_ARRAY_TACTIC_DECLARATION:this.getSampler2DArrayTacticDeclaration()}}_getHeaderString(){return null!==this.subKernels?"#extension GL_EXT_draw_buffers : require\n":""}_getLoopMaxString(){return this.loopMaxIterations?` ${parseInt(this.loopMaxIterations)};\n`:" 1000;\n"}_getPluginsString(){return this.plugins?this.plugins.map((t=>t.source&&this.source.match(t.functionMatch)?t.source:"")).join("\n"):"\n"}_getConstantsString(){const t=[],{threadDim:e,texSize:n}=this;return this.dynamicOutput?t.push("uniform ivec3 uOutputDim","uniform ivec2 uTexSize"):t.push(`ivec3 uOutputDim = ivec3(${e[0]}, ${e[1]}, ${e[2]})`,`ivec2 uTexSize = ivec2(${n[0]}, ${n[1]})`),a.linesToString(t)}_getTextureCoordinate(){const t=this.subKernels;return null===t||t.length<1?"varying vec2 vTexCoord;\n":"out vec2 vTexCoord;\n"}_getDecode32EndiannessString(){return"LE"===this.endianness?"":"  texel.rgba = texel.abgr;\n"}_getEncode32EndiannessString(){return"LE"===this.endianness?"":"  texel.rgba = texel.abgr;\n"}_getDivideWithIntegerCheckString(){return this.fixIntegerDivisionAccuracy?"float divWithIntCheck(float x, float y) {\n  if (floor(x) == x && floor(y) == y && integerMod(x, y) == 0.0) {\n    return float(int(x) / int(y));\n  }\n  return x / y;\n}\n\nfloat integerCorrectionModulo(float number, float divisor) {\n  if (number < 0.0) {\n    number = abs(number);\n    if (divisor < 0.0) {\n      divisor = abs(divisor);\n    }\n    return -(number - (divisor * floor(divWithIntCheck(number, divisor))));\n  }\n  if (divisor < 0.0) {\n    divisor = abs(divisor);\n  }\n  return number - (divisor * floor(divWithIntCheck(number, divisor)));\n}":""}_getMainArgumentsString(t){const e=[],{argumentNames:n}=this;for(let r=0;r<n.length;r++)e.push(this.kernelArguments[r].getSource(t[r]));return e.join("")}_getInjectedNative(){return this.injectedNative||""}_getMainConstantsString(){const t=[],{constants:e}=this;if(e){let n=0;for(const r in e)this.constants.hasOwnProperty(r)&&t.push(this.kernelConstants[n++].getSource(this.constants[r]))}return t.join("")}getRawValueFramebuffer(t,e){if(this.rawValueFramebuffers[t]||(this.rawValueFramebuffers[t]={}),!this.rawValueFramebuffers[t][e]){const n=this.context.createFramebuffer();n.width=t,n.height=e,this.rawValueFramebuffers[t][e]=n}return this.rawValueFramebuffers[t][e]}getKernelResultDeclaration(){switch(this.returnType){case"Array(2)":return"vec2 kernelResult";case"Array(3)":return"vec3 kernelResult";case"Array(4)":return"vec4 kernelResult";case"LiteralInteger":case"Float":case"Number":case"Integer":return"float kernelResult";default:if(this.graphical)return"float kernelResult";throw new Error(`unrecognized output type "${this.returnType}"`)}}getKernelString(){const t=[this.getKernelResultDeclaration()],{subKernels:e}=this;if(null!==e)switch(this.returnType){case"Number":case"Float":case"Integer":for(let n=0;n<e.length;n++){const r=e[n];t.push("Integer"===r.returnType?`int subKernelResult_${r.name} = 0`:`float subKernelResult_${r.name} = 0.0`)}break;case"Array(2)":for(let n=0;n<e.length;n++)t.push(`vec2 subKernelResult_${e[n].name}`);break;case"Array(3)":for(let n=0;n<e.length;n++)t.push(`vec3 subKernelResult_${e[n].name}`);break;case"Array(4)":for(let n=0;n<e.length;n++)t.push(`vec4 subKernelResult_${e[n].name}`)}return a.linesToString(t)+this.translatedSource}getMainResultGraphical(){return a.linesToString(["  threadId = indexTo3D(index, uOutputDim)","  kernel()","  gl_FragColor = actualColor"])}getMainResultPackedPixels(){switch(this.returnType){case"LiteralInteger":case"Number":case"Integer":case"Float":return this.getMainResultKernelPackedPixels()+this.getMainResultSubKernelPackedPixels();default:throw new Error(`packed output only usable with Numbers, "${this.returnType}" specified`)}}getMainResultKernelPackedPixels(){return a.linesToString(["  threadId = indexTo3D(index, uOutputDim)","  kernel()",`  gl_FragData[0] = ${this.useLegacyEncoder?"legacyEncode32":"encode32"}(kernelResult)`])}getMainResultSubKernelPackedPixels(){const t=[];if(!this.subKernels)return"";for(let e=0;e<this.subKernels.length;e++)"Integer"===this.subKernels[e].returnType?t.push(`  gl_FragData[${e+1}] = ${this.useLegacyEncoder?"legacyEncode32":"encode32"}(float(subKernelResult_${this.subKernels[e].name}))`):t.push(`  gl_FragData[${e+1}] = ${this.useLegacyEncoder?"legacyEncode32":"encode32"}(subKernelResult_${this.subKernels[e].name})`);return a.linesToString(t)}getMainResultMemoryOptimizedFloats(){const t=["  index *= 4"];switch(this.returnType){case"Number":case"Integer":case"Float":const e=["r","g","b","a"];for(let n=0;n<e.length;n++){const r=e[n];this.getMainResultKernelMemoryOptimizedFloats(t,r),this.getMainResultSubKernelMemoryOptimizedFloats(t,r),n+1<e.length&&t.push("  index += 1")}break;default:throw new Error(`optimized output only usable with Numbers, ${this.returnType} specified`)}return a.linesToString(t)}getMainResultKernelMemoryOptimizedFloats(t,e){t.push("  threadId = indexTo3D(index, uOutputDim)","  kernel()",`  gl_FragData[0].${e} = kernelResult`)}getMainResultSubKernelMemoryOptimizedFloats(t,e){if(!this.subKernels)return t;for(let n=0;n<this.subKernels.length;n++)"Integer"===this.subKernels[n].returnType?t.push(`  gl_FragData[${n+1}].${e} = float(subKernelResult_${this.subKernels[n].name})`):t.push(`  gl_FragData[${n+1}].${e} = subKernelResult_${this.subKernels[n].name}`)}getMainResultKernelNumberTexture(){return["  threadId = indexTo3D(index, uOutputDim)","  kernel()","  gl_FragData[0][0] = kernelResult"]}getMainResultSubKernelNumberTexture(){const t=[];if(!this.subKernels)return t;for(let e=0;e<this.subKernels.length;++e){const n=this.subKernels[e];"Integer"===n.returnType?t.push(`  gl_FragData[${e+1}][0] = float(subKernelResult_${n.name})`):t.push(`  gl_FragData[${e+1}][0] = subKernelResult_${n.name}`)}return t}getMainResultKernelArray2Texture(){return["  threadId = indexTo3D(index, uOutputDim)","  kernel()","  gl_FragData[0][0] = kernelResult[0]","  gl_FragData[0][1] = kernelResult[1]"]}getMainResultSubKernelArray2Texture(){const t=[];if(!this.subKernels)return t;for(let e=0;e<this.subKernels.length;++e)t.push(`  gl_FragData[${e+1}][0] = subKernelResult_${this.subKernels[e].name}[0]`,`  gl_FragData[${e+1}][1] = subKernelResult_${this.subKernels[e].name}[1]`);return t}getMainResultKernelArray3Texture(){return["  threadId = indexTo3D(index, uOutputDim)","  kernel()","  gl_FragData[0][0] = kernelResult[0]","  gl_FragData[0][1] = kernelResult[1]","  gl_FragData[0][2] = kernelResult[2]"]}getMainResultSubKernelArray3Texture(){const t=[];if(!this.subKernels)return t;for(let e=0;e<this.subKernels.length;++e)t.push(`  gl_FragData[${e+1}][0] = subKernelResult_${this.subKernels[e].name}[0]`,`  gl_FragData[${e+1}][1] = subKernelResult_${this.subKernels[e].name}[1]`,`  gl_FragData[${e+1}][2] = subKernelResult_${this.subKernels[e].name}[2]`);return t}getMainResultKernelArray4Texture(){return["  threadId = indexTo3D(index, uOutputDim)","  kernel()","  gl_FragData[0] = kernelResult"]}getMainResultSubKernelArray4Texture(){const t=[];if(!this.subKernels)return t;switch(this.returnType){case"Number":case"Float":case"Integer":for(let e=0;e<this.subKernels.length;++e)"Integer"===this.subKernels[e].returnType?t.push(`  gl_FragData[${e+1}] = float(subKernelResult_${this.subKernels[e].name})`):t.push(`  gl_FragData[${e+1}] = subKernelResult_${this.subKernels[e].name}`);break;case"Array(2)":for(let e=0;e<this.subKernels.length;++e)t.push(`  gl_FragData[${e+1}][0] = subKernelResult_${this.subKernels[e].name}[0]`,`  gl_FragData[${e+1}][1] = subKernelResult_${this.subKernels[e].name}[1]`);break;case"Array(3)":for(let e=0;e<this.subKernels.length;++e)t.push(`  gl_FragData[${e+1}][0] = subKernelResult_${this.subKernels[e].name}[0]`,`  gl_FragData[${e+1}][1] = subKernelResult_${this.subKernels[e].name}[1]`,`  gl_FragData[${e+1}][2] = subKernelResult_${this.subKernels[e].name}[2]`);break;case"Array(4)":for(let e=0;e<this.subKernels.length;++e)t.push(`  gl_FragData[${e+1}][0] = subKernelResult_${this.subKernels[e].name}[0]`,`  gl_FragData[${e+1}][1] = subKernelResult_${this.subKernels[e].name}[1]`,`  gl_FragData[${e+1}][2] = subKernelResult_${this.subKernels[e].name}[2]`,`  gl_FragData[${e+1}][3] = subKernelResult_${this.subKernels[e].name}[3]`)}return t}replaceArtifacts(t,e){return t.replace(/[ ]*__([A-Z]+[0-9]*([_]?[A-Z]*[0-9]?)*)__;\n/g,((t,n)=>{if(e.hasOwnProperty(n))return e[n];throw`unhandled artifact ${n}`}))}getFragmentShader(t){return null!==this.compiledFragmentShader?this.compiledFragmentShader:this.compiledFragmentShader=this.replaceArtifacts(this.constructor.fragmentShader,this._getFragShaderArtifactMap(t))}getVertexShader(t){return null!==this.compiledVertexShader?this.compiledVertexShader:this.compiledVertexShader=this.replaceArtifacts(this.constructor.vertexShader,this._getVertShaderArtifactMap(t))}toString(){const t=a.linesToString(["const gl = context"]);return c(this.constructor,arguments,this,t)}destroy(t){if(!this.context)return;this.buffer&&this.context.deleteBuffer(this.buffer),this.framebuffer&&this.context.deleteFramebuffer(this.framebuffer);for(const n in this.rawValueFramebuffers){for(const t in this.rawValueFramebuffers[n])this.context.deleteFramebuffer(this.rawValueFramebuffers[n][t]),delete this.rawValueFramebuffers[n][t];delete this.rawValueFramebuffers[n]}if(this.vertShader&&this.context.deleteShader(this.vertShader),this.fragShader&&this.context.deleteShader(this.fragShader),this.program&&this.context.deleteProgram(this.program),this.texture){this.texture.delete();const t=this.textureCache.indexOf(this.texture.texture);t>-1&&this.textureCache.splice(t,1),this.texture=null}if(this.mappedTextures&&this.mappedTextures.length){for(let t=0;t<this.mappedTextures.length;t++){const e=this.mappedTextures[t];e.delete();const n=this.textureCache.indexOf(e.texture);n>-1&&this.textureCache.splice(n,1)}this.mappedTextures=null}if(this.kernelArguments)for(let n=0;n<this.kernelArguments.length;n++)this.kernelArguments[n].destroy();if(this.kernelConstants)for(let n=0;n<this.kernelConstants.length;n++)this.kernelConstants[n].destroy();for(;this.textureCache.length>0;){const t=this.textureCache.pop();this.context.deleteTexture(t)}if(t){const t=b.indexOf(this.canvas);t>=0&&(b[t]=null,x[t]=null)}if(this.destroyExtensions(),delete this.context,delete this.canvas,!this.gpu)return;const e=this.gpu.kernels.indexOf(this);-1!==e&&this.gpu.kernels.splice(e,1)}destroyExtensions(){this.extensions.OES_texture_float=null,this.extensions.OES_texture_float_linear=null,this.extensions.OES_element_index_uint=null,this.extensions.WEBGL_draw_buffers=null}static destroyContext(t){const e=t.getExtension("WEBGL_lose_context");e&&e.loseContext()}toJSON(){const t=super.toJSON();return t.functionNodes=i.fromKernel(this,s).toJSON(),t.settings.threadDim=this.threadDim,t}}e.exports={WebGLKernel:v}},{"../../plugins/math-random-uniformly-distributed":112,"../../utils":114,"../function-builder":9,"../gl/kernel":13,"../gl/kernel-string":12,"./fragment-shader":37,"./function-node":38,"./kernel-value-maps":39,"./vertex-shader":71}],71:[function(t,e,n){const r="__FLOAT_TACTIC_DECLARATION__;\n__INT_TACTIC_DECLARATION__;\n__SAMPLER_2D_TACTIC_DECLARATION__;\n\nattribute vec2 aPos;\nattribute vec2 aTexCoord;\n\nvarying vec2 vTexCoord;\nuniform vec2 ratio;\n\nvoid main(void) {\n  gl_Position = vec4((aPos + vec2(1)) * ratio + vec2(-1), 0, 1);\n  vTexCoord = aTexCoord;\n}";e.exports={vertexShader:r}},{}],72:[function(t,e,n){const r=`#version 300 es\n__HEADER__;\n__FLOAT_TACTIC_DECLARATION__;\n__INT_TACTIC_DECLARATION__;\n__SAMPLER_2D_TACTIC_DECLARATION__;\n__SAMPLER_2D_ARRAY_TACTIC_DECLARATION__;\n\nconst int LOOP_MAX = __LOOP_MAX__;\n\n__PLUGINS__;\n__CONSTANTS__;\n\nin vec2 vTexCoord;\n\nfloat atan2(float v1, float v2) {\n  if (v1 == 0.0 || v2 == 0.0) return 0.0;\n  return atan(v1 / v2);\n}\n\nfloat cbrt(float x) {\n  if (x >= 0.0) {\n    return pow(x, 1.0 / 3.0);\n  } else {\n    return -pow(x, 1.0 / 3.0);\n  }\n}\n\nfloat expm1(float x) {\n  return pow(${Math.E}, x) - 1.0; \n}\n\nfloat fround(highp float x) {\n  return x;\n}\n\nfloat imul(float v1, float v2) {\n  return float(int(v1) * int(v2));\n}\n\nfloat log10(float x) {\n  return log2(x) * (1.0 / log2(10.0));\n}\n\nfloat log1p(float x) {\n  return log(1.0 + x);\n}\n\nfloat _pow(float v1, float v2) {\n  if (v2 == 0.0) return 1.0;\n  return pow(v1, v2);\n}\n\nfloat _round(float x) {\n  return floor(x + 0.5);\n}\n\n\nconst int BIT_COUNT = 32;\nint modi(int x, int y) {\n  return x - y * (x / y);\n}\n\nint bitwiseOr(int a, int b) {\n  int result = 0;\n  int n = 1;\n  \n  for (int i = 0; i < BIT_COUNT; i++) {\n    if ((modi(a, 2) == 1) || (modi(b, 2) == 1)) {\n      result += n;\n    }\n    a = a / 2;\n    b = b / 2;\n    n = n * 2;\n    if(!(a > 0 || b > 0)) {\n      break;\n    }\n  }\n  return result;\n}\nint bitwiseXOR(int a, int b) {\n  int result = 0;\n  int n = 1;\n  \n  for (int i = 0; i < BIT_COUNT; i++) {\n    if ((modi(a, 2) == 1) != (modi(b, 2) == 1)) {\n      result += n;\n    }\n    a = a / 2;\n    b = b / 2;\n    n = n * 2;\n    if(!(a > 0 || b > 0)) {\n      break;\n    }\n  }\n  return result;\n}\nint bitwiseAnd(int a, int b) {\n  int result = 0;\n  int n = 1;\n  for (int i = 0; i < BIT_COUNT; i++) {\n    if ((modi(a, 2) == 1) && (modi(b, 2) == 1)) {\n      result += n;\n    }\n    a = a / 2;\n    b = b / 2;\n    n = n * 2;\n    if(!(a > 0 && b > 0)) {\n      break;\n    }\n  }\n  return result;\n}\nint bitwiseNot(int a) {\n  int result = 0;\n  int n = 1;\n  \n  for (int i = 0; i < BIT_COUNT; i++) {\n    if (modi(a, 2) == 0) {\n      result += n;    \n    }\n    a = a / 2;\n    n = n * 2;\n  }\n  return result;\n}\nint bitwiseZeroFillLeftShift(int n, int shift) {\n  int maxBytes = BIT_COUNT;\n  for (int i = 0; i < BIT_COUNT; i++) {\n    if (maxBytes >= n) {\n      break;\n    }\n    maxBytes *= 2;\n  }\n  for (int i = 0; i < BIT_COUNT; i++) {\n    if (i >= shift) {\n      break;\n    }\n    n *= 2;\n  }\n\n  int result = 0;\n  int byteVal = 1;\n  for (int i = 0; i < BIT_COUNT; i++) {\n    if (i >= maxBytes) break;\n    if (modi(n, 2) > 0) { result += byteVal; }\n    n = int(n / 2);\n    byteVal *= 2;\n  }\n  return result;\n}\n\nint bitwiseSignedRightShift(int num, int shifts) {\n  return int(floor(float(num) / pow(2.0, float(shifts))));\n}\n\nint bitwiseZeroFillRightShift(int n, int shift) {\n  int maxBytes = BIT_COUNT;\n  for (int i = 0; i < BIT_COUNT; i++) {\n    if (maxBytes >= n) {\n      break;\n    }\n    maxBytes *= 2;\n  }\n  for (int i = 0; i < BIT_COUNT; i++) {\n    if (i >= shift) {\n      break;\n    }\n    n /= 2;\n  }\n  int result = 0;\n  int byteVal = 1;\n  for (int i = 0; i < BIT_COUNT; i++) {\n    if (i >= maxBytes) break;\n    if (modi(n, 2) > 0) { result += byteVal; }\n    n = int(n / 2);\n    byteVal *= 2;\n  }\n  return result;\n}\n\nvec2 integerMod(vec2 x, float y) {\n  vec2 res = floor(mod(x, y));\n  return res * step(1.0 - floor(y), -res);\n}\n\nvec3 integerMod(vec3 x, float y) {\n  vec3 res = floor(mod(x, y));\n  return res * step(1.0 - floor(y), -res);\n}\n\nvec4 integerMod(vec4 x, vec4 y) {\n  vec4 res = floor(mod(x, y));\n  return res * step(1.0 - floor(y), -res);\n}\n\nfloat integerMod(float x, float y) {\n  float res = floor(mod(x, y));\n  return res * (res > floor(y) - 1.0 ? 0.0 : 1.0);\n}\n\nint integerMod(int x, int y) {\n  return x - (y * int(x/y));\n}\n\n__DIVIDE_WITH_INTEGER_CHECK__;\n\n// Here be dragons!\n// DO NOT OPTIMIZE THIS CODE\n// YOU WILL BREAK SOMETHING ON SOMEBODY'S MACHINE\n// LEAVE IT AS IT IS, LEST YOU WASTE YOUR OWN TIME\nconst vec2 MAGIC_VEC = vec2(1.0, -256.0);\nconst vec4 SCALE_FACTOR = vec4(1.0, 256.0, 65536.0, 0.0);\nconst vec4 SCALE_FACTOR_INV = vec4(1.0, 0.00390625, 0.0000152587890625, 0.0); // 1, 1/256, 1/65536\nfloat decode32(vec4 texel) {\n  __DECODE32_ENDIANNESS__;\n  texel *= 255.0;\n  vec2 gte128;\n  gte128.x = texel.b >= 128.0 ? 1.0 : 0.0;\n  gte128.y = texel.a >= 128.0 ? 1.0 : 0.0;\n  float exponent = 2.0 * texel.a - 127.0 + dot(gte128, MAGIC_VEC);\n  float res = exp2(round(exponent));\n  texel.b = texel.b - 128.0 * gte128.x;\n  res = dot(texel, SCALE_FACTOR) * exp2(round(exponent-23.0)) + res;\n  res *= gte128.y * -2.0 + 1.0;\n  return res;\n}\n\nfloat decode16(vec4 texel, int index) {\n  int channel = integerMod(index, 2);\n  return texel[channel*2] * 255.0 + texel[channel*2 + 1] * 65280.0;\n}\n\nfloat decode8(vec4 texel, int index) {\n  int channel = integerMod(index, 4);\n  return texel[channel] * 255.0;\n}\n\nvec4 legacyEncode32(float f) {\n  float F = abs(f);\n  float sign = f < 0.0 ? 1.0 : 0.0;\n  float exponent = floor(log2(F));\n  float mantissa = (exp2(-exponent) * F);\n  // exponent += floor(log2(mantissa));\n  vec4 texel = vec4(F * exp2(23.0-exponent)) * SCALE_FACTOR_INV;\n  texel.rg = integerMod(texel.rg, 256.0);\n  texel.b = integerMod(texel.b, 128.0);\n  texel.a = exponent*0.5 + 63.5;\n  texel.ba += vec2(integerMod(exponent+127.0, 2.0), sign) * 128.0;\n  texel = floor(texel);\n  texel *= 0.003921569; // 1/255\n  __ENCODE32_ENDIANNESS__;\n  return texel;\n}\n\n// https://github.com/gpujs/gpu.js/wiki/Encoder-details\nvec4 encode32(float value) {\n  if (value == 0.0) return vec4(0, 0, 0, 0);\n\n  float exponent;\n  float mantissa;\n  vec4  result;\n  float sgn;\n\n  sgn = step(0.0, -value);\n  value = abs(value);\n\n  exponent = floor(log2(value));\n\n  mantissa = value*pow(2.0, -exponent)-1.0;\n  exponent = exponent+127.0;\n  result   = vec4(0,0,0,0);\n\n  result.a = floor(exponent/2.0);\n  exponent = exponent - result.a*2.0;\n  result.a = result.a + 128.0*sgn;\n\n  result.b = floor(mantissa * 128.0);\n  mantissa = mantissa - result.b / 128.0;\n  result.b = result.b + exponent*128.0;\n\n  result.g = floor(mantissa*32768.0);\n  mantissa = mantissa - result.g/32768.0;\n\n  result.r = floor(mantissa*8388608.0);\n  return result/255.0;\n}\n// Dragons end here\n\nint index;\nivec3 threadId;\n\nivec3 indexTo3D(int idx, ivec3 texDim) {\n  int z = int(idx / (texDim.x * texDim.y));\n  idx -= z * int(texDim.x * texDim.y);\n  int y = int(idx / texDim.x);\n  int x = int(integerMod(idx, texDim.x));\n  return ivec3(x, y, z);\n}\n\nfloat get32(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  int index = x + texDim.x * (y + texDim.y * z);\n  int w = texSize.x;\n  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;\n  vec4 texel = texture(tex, st / vec2(texSize));\n  return decode32(texel);\n}\n\nfloat get16(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  int index = x + (texDim.x * (y + (texDim.y * z)));\n  int w = texSize.x * 2;\n  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;\n  vec4 texel = texture(tex, st / vec2(texSize.x * 2, texSize.y));\n  return decode16(texel, index);\n}\n\nfloat get8(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  int index = x + (texDim.x * (y + (texDim.y * z)));\n  int w = texSize.x * 4;\n  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;\n  vec4 texel = texture(tex, st / vec2(texSize.x * 4, texSize.y));\n  return decode8(texel, index);\n}\n\nfloat getMemoryOptimized32(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  int index = x + (texDim.x * (y + (texDim.y * z)));\n  int channel = integerMod(index, 4);\n  index = index / 4;\n  int w = texSize.x;\n  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;\n  index = index / 4;\n  vec4 texel = texture(tex, st / vec2(texSize));\n  return texel[channel];\n}\n\nvec4 getImage2D(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  int index = x + texDim.x * (y + texDim.y * z);\n  int w = texSize.x;\n  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;\n  return texture(tex, st / vec2(texSize));\n}\n\nvec4 getImage3D(sampler2DArray tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  int index = x + texDim.x * (y + texDim.y * z);\n  int w = texSize.x;\n  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;\n  return texture(tex, vec3(st / vec2(texSize), z));\n}\n\nfloat getFloatFromSampler2D(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  vec4 result = getImage2D(tex, texSize, texDim, z, y, x);\n  return result[0];\n}\n\nvec2 getVec2FromSampler2D(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  vec4 result = getImage2D(tex, texSize, texDim, z, y, x);\n  return vec2(result[0], result[1]);\n}\n\nvec2 getMemoryOptimizedVec2(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  int index = x + texDim.x * (y + texDim.y * z);\n  int channel = integerMod(index, 2);\n  index = index / 2;\n  int w = texSize.x;\n  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;\n  vec4 texel = texture(tex, st / vec2(texSize));\n  if (channel == 0) return vec2(texel.r, texel.g);\n  if (channel == 1) return vec2(texel.b, texel.a);\n  return vec2(0.0, 0.0);\n}\n\nvec3 getVec3FromSampler2D(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  vec4 result = getImage2D(tex, texSize, texDim, z, y, x);\n  return vec3(result[0], result[1], result[2]);\n}\n\nvec3 getMemoryOptimizedVec3(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  int fieldIndex = 3 * (x + texDim.x * (y + texDim.y * z));\n  int vectorIndex = fieldIndex / 4;\n  int vectorOffset = fieldIndex - vectorIndex * 4;\n  int readY = vectorIndex / texSize.x;\n  int readX = vectorIndex - readY * texSize.x;\n  vec4 tex1 = texture(tex, (vec2(readX, readY) + 0.5) / vec2(texSize));\n\n  if (vectorOffset == 0) {\n    return tex1.xyz;\n  } else if (vectorOffset == 1) {\n    return tex1.yzw;\n  } else {\n    readX++;\n    if (readX >= texSize.x) {\n      readX = 0;\n      readY++;\n    }\n    vec4 tex2 = texture(tex, vec2(readX, readY) / vec2(texSize));\n    if (vectorOffset == 2) {\n      return vec3(tex1.z, tex1.w, tex2.x);\n    } else {\n      return vec3(tex1.w, tex2.x, tex2.y);\n    }\n  }\n}\n\nvec4 getVec4FromSampler2D(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  return getImage2D(tex, texSize, texDim, z, y, x);\n}\n\nvec4 getMemoryOptimizedVec4(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  int index = x + texDim.x * (y + texDim.y * z);\n  int channel = integerMod(index, 2);\n  int w = texSize.x;\n  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;\n  vec4 texel = texture(tex, st / vec2(texSize));\n  return vec4(texel.r, texel.g, texel.b, texel.a);\n}\n\nvec4 actualColor;\nvoid color(float r, float g, float b, float a) {\n  actualColor = vec4(r,g,b,a);\n}\n\nvoid color(float r, float g, float b) {\n  color(r,g,b,1.0);\n}\n\nfloat modulo(float number, float divisor) {\n  if (number < 0.0) {\n    number = abs(number);\n    if (divisor < 0.0) {\n      divisor = abs(divisor);\n    }\n    return -mod(number, divisor);\n  }\n  if (divisor < 0.0) {\n    divisor = abs(divisor);\n  }\n  return mod(number, divisor);\n}\n\n__INJECTED_NATIVE__;\n__MAIN_CONSTANTS__;\n__MAIN_ARGUMENTS__;\n__KERNEL__;\n\nvoid main(void) {\n  index = int(vTexCoord.s * float(uTexSize.x)) + int(vTexCoord.t * float(uTexSize.y)) * uTexSize.x;\n  __MAIN_RESULT__;\n}`;e.exports={fragmentShader:r}},{}],73:[function(t,e,n){const{utils:r}=t("../../utils"),{WebGLFunctionNode:i}=t("../web-gl/function-node");class s extends i{astIdentifierExpression(t,e){if("Identifier"!==t.type)throw this.astErrorOutput("IdentifierExpression - not an Identifier",t);const n=this.getType(t),i=r.sanitizeName(t.name);return"Infinity"===t.name?e.push("intBitsToFloat(2139095039)"):"Boolean"===n&&this.argumentNames.indexOf(i)>-1?e.push(`bool(user_${i})`):e.push(`user_${i}`),e}}e.exports={WebGL2FunctionNode:s}},{"../../utils":114,"../web-gl/function-node":38}],74:[function(t,e,n){const{WebGL2KernelValueBoolean:r}=t("./kernel-value/boolean"),{WebGL2KernelValueFloat:i}=t("./kernel-value/float"),{WebGL2KernelValueInteger:s}=t("./kernel-value/integer"),{WebGL2KernelValueHTMLImage:a}=t("./kernel-value/html-image"),{WebGL2KernelValueDynamicHTMLImage:o}=t("./kernel-value/dynamic-html-image"),{WebGL2KernelValueHTMLImageArray:u}=t("./kernel-value/html-image-array"),{WebGL2KernelValueDynamicHTMLImageArray:l}=t("./kernel-value/dynamic-html-image-array"),{WebGL2KernelValueHTMLVideo:c}=t("./kernel-value/html-video"),{WebGL2KernelValueDynamicHTMLVideo:h}=t("./kernel-value/dynamic-html-video"),{WebGL2KernelValueSingleInput:p}=t("./kernel-value/single-input"),{WebGL2KernelValueDynamicSingleInput:d}=t("./kernel-value/dynamic-single-input"),{WebGL2KernelValueUnsignedInput:f}=t("./kernel-value/unsigned-input"),{WebGL2KernelValueDynamicUnsignedInput:m}=t("./kernel-value/dynamic-unsigned-input"),{WebGL2KernelValueMemoryOptimizedNumberTexture:g}=t("./kernel-value/memory-optimized-number-texture"),{WebGL2KernelValueDynamicMemoryOptimizedNumberTexture:y}=t("./kernel-value/dynamic-memory-optimized-number-texture"),{WebGL2KernelValueNumberTexture:b}=t("./kernel-value/number-texture"),{WebGL2KernelValueDynamicNumberTexture:x}=t("./kernel-value/dynamic-number-texture"),{WebGL2KernelValueSingleArray:v}=t("./kernel-value/single-array"),{WebGL2KernelValueDynamicSingleArray:w}=t("./kernel-value/dynamic-single-array"),{WebGL2KernelValueSingleArray1DI:S}=t("./kernel-value/single-array1d-i"),{WebGL2KernelValueDynamicSingleArray1DI:k}=t("./kernel-value/dynamic-single-array1d-i"),{WebGL2KernelValueSingleArray2DI:T}=t("./kernel-value/single-array2d-i"),{WebGL2KernelValueDynamicSingleArray2DI:A}=t("./kernel-value/dynamic-single-array2d-i"),{WebGL2KernelValueSingleArray3DI:E}=t("./kernel-value/single-array3d-i"),{WebGL2KernelValueDynamicSingleArray3DI:_}=t("./kernel-value/dynamic-single-array3d-i"),{WebGL2KernelValueArray2:L}=t("./kernel-value/array2"),{WebGL2KernelValueArray3:C}=t("./kernel-value/array3"),{WebGL2KernelValueArray4:I}=t("./kernel-value/array4"),{WebGL2KernelValueUnsignedArray:$}=t("./kernel-value/unsigned-array"),{WebGL2KernelValueDynamicUnsignedArray:O}=t("./kernel-value/dynamic-unsigned-array"),R={unsigned:{dynamic:{Boolean:r,Integer:s,Float:i,Array:O,"Array(2)":L,"Array(3)":C,"Array(4)":I,"Array1D(2)":!1,"Array1D(3)":!1,"Array1D(4)":!1,"Array2D(2)":!1,"Array2D(3)":!1,"Array2D(4)":!1,"Array3D(2)":!1,"Array3D(3)":!1,"Array3D(4)":!1,Input:m,NumberTexture:x,"ArrayTexture(1)":x,"ArrayTexture(2)":x,"ArrayTexture(3)":x,"ArrayTexture(4)":x,MemoryOptimizedNumberTexture:y,HTMLCanvas:o,OffscreenCanvas:o,HTMLImage:o,ImageBitmap:o,ImageData:o,HTMLImageArray:l,HTMLVideo:h},static:{Boolean:r,Float:i,Integer:s,Array:$,"Array(2)":L,"Array(3)":C,"Array(4)":I,"Array1D(2)":!1,"Array1D(3)":!1,"Array1D(4)":!1,"Array2D(2)":!1,"Array2D(3)":!1,"Array2D(4)":!1,"Array3D(2)":!1,"Array3D(3)":!1,"Array3D(4)":!1,Input:f,NumberTexture:b,"ArrayTexture(1)":b,"ArrayTexture(2)":b,"ArrayTexture(3)":b,"ArrayTexture(4)":b,MemoryOptimizedNumberTexture:y,HTMLCanvas:a,OffscreenCanvas:a,HTMLImage:a,ImageBitmap:a,ImageData:a,HTMLImageArray:u,HTMLVideo:c}},single:{dynamic:{Boolean:r,Integer:s,Float:i,Array:w,"Array(2)":L,"Array(3)":C,"Array(4)":I,"Array1D(2)":k,"Array1D(3)":k,"Array1D(4)":k,"Array2D(2)":A,"Array2D(3)":A,"Array2D(4)":A,"Array3D(2)":_,"Array3D(3)":_,"Array3D(4)":_,Input:d,NumberTexture:x,"ArrayTexture(1)":x,"ArrayTexture(2)":x,"ArrayTexture(3)":x,"ArrayTexture(4)":x,MemoryOptimizedNumberTexture:y,HTMLCanvas:o,OffscreenCanvas:o,HTMLImage:o,ImageBitmap:o,ImageData:o,HTMLImageArray:l,HTMLVideo:h},static:{Boolean:r,Float:i,Integer:s,Array:v,"Array(2)":L,"Array(3)":C,"Array(4)":I,"Array1D(2)":S,"Array1D(3)":S,"Array1D(4)":S,"Array2D(2)":T,"Array2D(3)":T,"Array2D(4)":T,"Array3D(2)":E,"Array3D(3)":E,"Array3D(4)":E,Input:p,NumberTexture:b,"ArrayTexture(1)":b,"ArrayTexture(2)":b,"ArrayTexture(3)":b,"ArrayTexture(4)":b,MemoryOptimizedNumberTexture:g,HTMLCanvas:a,OffscreenCanvas:a,HTMLImage:a,ImageBitmap:a,ImageData:a,HTMLImageArray:u,HTMLVideo:c}}};function D(t,e,n,r){if(!t)throw new Error("type missing");if(!e)throw new Error("dynamic missing");if(!n)throw new Error("precision missing");r.type&&(t=r.type);const i=R[n][e];if(!1===i[t])return null;if(void 0===i[t])throw new Error(`Could not find a KernelValue for ${t}`);return i[t]}e.exports={kernelValueMaps:R,lookupKernelValueType:D}},{"./kernel-value/array2":75,"./kernel-value/array3":76,"./kernel-value/array4":77,"./kernel-value/boolean":78,"./kernel-value/dynamic-html-image":80,"./kernel-value/dynamic-html-image-array":79,"./kernel-value/dynamic-html-video":81,"./kernel-value/dynamic-memory-optimized-number-texture":82,"./kernel-value/dynamic-number-texture":83,"./kernel-value/dynamic-single-array":84,"./kernel-value/dynamic-single-array1d-i":85,"./kernel-value/dynamic-single-array2d-i":86,"./kernel-value/dynamic-single-array3d-i":87,"./kernel-value/dynamic-single-input":88,"./kernel-value/dynamic-unsigned-array":89,"./kernel-value/dynamic-unsigned-input":90,"./kernel-value/float":91,"./kernel-value/html-image":93,"./kernel-value/html-image-array":92,"./kernel-value/html-video":94,"./kernel-value/integer":95,"./kernel-value/memory-optimized-number-texture":96,"./kernel-value/number-texture":97,"./kernel-value/single-array":98,"./kernel-value/single-array1d-i":99,"./kernel-value/single-array2d-i":100,"./kernel-value/single-array3d-i":101,"./kernel-value/single-input":102,"./kernel-value/unsigned-array":103,"./kernel-value/unsigned-input":104}],75:[function(t,e,n){const{WebGLKernelValueArray2:r}=t("../../web-gl/kernel-value/array2");class i extends r{}e.exports={WebGL2KernelValueArray2:i}},{"../../web-gl/kernel-value/array2":41}],76:[function(t,e,n){const{WebGLKernelValueArray3:r}=t("../../web-gl/kernel-value/array3");class i extends r{}e.exports={WebGL2KernelValueArray3:i}},{"../../web-gl/kernel-value/array3":42}],77:[function(t,e,n){const{WebGLKernelValueArray4:r}=t("../../web-gl/kernel-value/array4");class i extends r{}e.exports={WebGL2KernelValueArray4:i}},{"../../web-gl/kernel-value/array4":43}],78:[function(t,e,n){const{WebGLKernelValueBoolean:r}=t("../../web-gl/kernel-value/boolean");class i extends r{}e.exports={WebGL2KernelValueBoolean:i}},{"../../web-gl/kernel-value/boolean":44}],79:[function(t,e,n){const{utils:r}=t("../../../utils"),{WebGL2KernelValueHTMLImageArray:i}=t("./html-image-array");class s extends i{getSource(){const t=this.getVariablePrecisionString();return r.linesToString([`uniform ${t} sampler2DArray ${this.id}`,`uniform ${t} ivec2 ${this.sizeId}`,`uniform ${t} ivec3 ${this.dimensionsId}`])}updateValue(t){const{width:e,height:n}=t[0];this.checkSize(e,n),this.dimensions=[e,n,t.length],this.textureSize=[e,n],this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),super.updateValue(t)}}e.exports={WebGL2KernelValueDynamicHTMLImageArray:s}},{"../../../utils":114,"./html-image-array":92}],80:[function(t,e,n){const{utils:r}=t("../../../utils"),{WebGLKernelValueDynamicHTMLImage:i}=t("../../web-gl/kernel-value/dynamic-html-image");class s extends i{getSource(){const t=this.getVariablePrecisionString();return r.linesToString([`uniform ${t} sampler2D ${this.id}`,`uniform ${t} ivec2 ${this.sizeId}`,`uniform ${t} ivec3 ${this.dimensionsId}`])}}e.exports={WebGL2KernelValueDynamicHTMLImage:s}},{"../../../utils":114,"../../web-gl/kernel-value/dynamic-html-image":45}],81:[function(t,e,n){t("../../../utils");const{WebGL2KernelValueDynamicHTMLImage:r}=t("./dynamic-html-image");class i extends r{}e.exports={WebGL2KernelValueDynamicHTMLVideo:i}},{"../../../utils":114,"./dynamic-html-image":80}],82:[function(t,e,n){const{utils:r}=t("../../../utils"),{WebGLKernelValueDynamicMemoryOptimizedNumberTexture:i}=t("../../web-gl/kernel-value/dynamic-memory-optimized-number-texture");class s extends i{getSource(){return r.linesToString([`uniform sampler2D ${this.id}`,`uniform ivec2 ${this.sizeId}`,`uniform ivec3 ${this.dimensionsId}`])}}e.exports={WebGL2KernelValueDynamicMemoryOptimizedNumberTexture:s}},{"../../../utils":114,"../../web-gl/kernel-value/dynamic-memory-optimized-number-texture":47}],83:[function(t,e,n){const{utils:r}=t("../../../utils"),{WebGLKernelValueDynamicNumberTexture:i}=t("../../web-gl/kernel-value/dynamic-number-texture");class s extends i{getSource(){const t=this.getVariablePrecisionString();return r.linesToString([`uniform ${t} sampler2D ${this.id}`,`uniform ${t} ivec2 ${this.sizeId}`,`uniform ${t} ivec3 ${this.dimensionsId}`])}}e.exports={WebGL2KernelValueDynamicNumberTexture:s}},{"../../../utils":114,"../../web-gl/kernel-value/dynamic-number-texture":48}],84:[function(t,e,n){const{utils:r}=t("../../../utils"),{WebGL2KernelValueSingleArray:i}=t("../../web-gl2/kernel-value/single-array");class s extends i{getSource(){const t=this.getVariablePrecisionString();return r.linesToString([`uniform ${t} sampler2D ${this.id}`,`uniform ${t} ivec2 ${this.sizeId}`,`uniform ${t} ivec3 ${this.dimensionsId}`])}updateValue(t){this.dimensions=r.getDimensions(t,!0),this.textureSize=r.getMemoryOptimizedFloatTextureSize(this.dimensions,this.bitRatio),this.uploadArrayLength=this.textureSize[0]*this.textureSize[1]*this.bitRatio,this.checkSize(this.textureSize[0],this.textureSize[1]),this.uploadValue=new Float32Array(this.uploadArrayLength),this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),super.updateValue(t)}}e.exports={WebGL2KernelValueDynamicSingleArray:s}},{"../../../utils":114,"../../web-gl2/kernel-value/single-array":98}],85:[function(t,e,n){const{utils:r}=t("../../../utils"),{WebGL2KernelValueSingleArray1DI:i}=t("../../web-gl2/kernel-value/single-array1d-i");class s extends i{getSource(){const t=this.getVariablePrecisionString();return r.linesToString([`uniform ${t} sampler2D ${this.id}`,`uniform ${t} ivec2 ${this.sizeId}`,`uniform ${t} ivec3 ${this.dimensionsId}`])}updateValue(t){this.setShape(t),this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),super.updateValue(t)}}e.exports={WebGL2KernelValueDynamicSingleArray1DI:s}},{"../../../utils":114,"../../web-gl2/kernel-value/single-array1d-i":99}],86:[function(t,e,n){const{utils:r}=t("../../../utils"),{WebGL2KernelValueSingleArray2DI:i}=t("../../web-gl2/kernel-value/single-array2d-i");class s extends i{getSource(){const t=this.getVariablePrecisionString();return r.linesToString([`uniform ${t} sampler2D ${this.id}`,`uniform ${t} ivec2 ${this.sizeId}`,`uniform ${t} ivec3 ${this.dimensionsId}`])}updateValue(t){this.setShape(t),this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),super.updateValue(t)}}e.exports={WebGL2KernelValueDynamicSingleArray2DI:s}},{"../../../utils":114,"../../web-gl2/kernel-value/single-array2d-i":100}],87:[function(t,e,n){const{utils:r}=t("../../../utils"),{WebGL2KernelValueSingleArray3DI:i}=t("../../web-gl2/kernel-value/single-array3d-i");class s extends i{getSource(){const t=this.getVariablePrecisionString();return r.linesToString([`uniform ${t} sampler2D ${this.id}`,`uniform ${t} ivec2 ${this.sizeId}`,`uniform ${t} ivec3 ${this.dimensionsId}`])}updateValue(t){this.setShape(t),this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),super.updateValue(t)}}e.exports={WebGL2KernelValueDynamicSingleArray3DI:s}},{"../../../utils":114,"../../web-gl2/kernel-value/single-array3d-i":101}],88:[function(t,e,n){const{utils:r}=t("../../../utils"),{WebGL2KernelValueSingleInput:i}=t("../../web-gl2/kernel-value/single-input");class s extends i{getSource(){const t=this.getVariablePrecisionString();return r.linesToString([`uniform ${t} sampler2D ${this.id}`,`uniform ${t} ivec2 ${this.sizeId}`,`uniform ${t} ivec3 ${this.dimensionsId}`])}updateValue(t){let[e,n,i]=t.size;this.dimensions=new Int32Array([e||1,n||1,i||1]),this.textureSize=r.getMemoryOptimizedFloatTextureSize(this.dimensions,this.bitRatio),this.uploadArrayLength=this.textureSize[0]*this.textureSize[1]*this.bitRatio,this.checkSize(this.textureSize[0],this.textureSize[1]),this.uploadValue=new Float32Array(this.uploadArrayLength),this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),super.updateValue(t)}}e.exports={WebGL2KernelValueDynamicSingleInput:s}},{"../../../utils":114,"../../web-gl2/kernel-value/single-input":102}],89:[function(t,e,n){const{utils:r}=t("../../../utils"),{WebGLKernelValueDynamicUnsignedArray:i}=t("../../web-gl/kernel-value/dynamic-unsigned-array");class s extends i{getSource(){const t=this.getVariablePrecisionString();return r.linesToString([`uniform ${t} sampler2D ${this.id}`,`uniform ${t} ivec2 ${this.sizeId}`,`uniform ${t} ivec3 ${this.dimensionsId}`])}}e.exports={WebGL2KernelValueDynamicUnsignedArray:s}},{"../../../utils":114,"../../web-gl/kernel-value/dynamic-unsigned-array":54}],90:[function(t,e,n){const{utils:r}=t("../../../utils"),{WebGLKernelValueDynamicUnsignedInput:i}=t("../../web-gl/kernel-value/dynamic-unsigned-input");class s extends i{getSource(){const t=this.getVariablePrecisionString();return r.linesToString([`uniform ${t} sampler2D ${this.id}`,`uniform ${t} ivec2 ${this.sizeId}`,`uniform ${t} ivec3 ${this.dimensionsId}`])}}e.exports={WebGL2KernelValueDynamicUnsignedInput:s}},{"../../../utils":114,"../../web-gl/kernel-value/dynamic-unsigned-input":55}],91:[function(t,e,n){t("../../../utils");const{WebGLKernelValueFloat:r}=t("../../web-gl/kernel-value/float");class i extends r{}e.exports={WebGL2KernelValueFloat:i}},{"../../../utils":114,"../../web-gl/kernel-value/float":56}],92:[function(t,e,n){const{utils:r}=t("../../../utils"),{WebGLKernelArray:i}=t("../../web-gl/kernel-value/array");class s extends i{constructor(t,e){super(t,e),this.checkSize(t[0].width,t[0].height),this.dimensions=[t[0].width,t[0].height,t.length],this.textureSize=[t[0].width,t[0].height]}defineTexture(){const{context:t}=this;t.activeTexture(this.contextHandle),t.bindTexture(t.TEXTURE_2D_ARRAY,this.texture),t.texParameteri(t.TEXTURE_2D_ARRAY,t.TEXTURE_MAG_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D_ARRAY,t.TEXTURE_MIN_FILTER,t.NEAREST)}getStringValueHandler(){return`const uploadValue_${this.name} = ${this.varName};\n`}getSource(){const t=this.getVariablePrecisionString();return r.linesToString([`uniform ${t} sampler2DArray ${this.id}`,`${t} ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,`${t} ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`])}updateValue(t){const{context:e}=this;e.activeTexture(this.contextHandle),e.bindTexture(e.TEXTURE_2D_ARRAY,this.texture),e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,!0),e.texImage3D(e.TEXTURE_2D_ARRAY,0,e.RGBA,t[0].width,t[0].height,t.length,0,e.RGBA,e.UNSIGNED_BYTE,null);for(let n=0;n<t.length;n++){const r=0,i=0,s=1;e.texSubImage3D(e.TEXTURE_2D_ARRAY,0,r,i,n,t[n].width,t[n].height,s,e.RGBA,e.UNSIGNED_BYTE,this.uploadValue=t[n])}this.kernel.setUniform1i(this.id,this.index)}}e.exports={WebGL2KernelValueHTMLImageArray:s}},{"../../../utils":114,"../../web-gl/kernel-value/array":40}],93:[function(t,e,n){const{utils:r}=t("../../../utils"),{WebGLKernelValueHTMLImage:i}=t("../../web-gl/kernel-value/html-image");class s extends i{getSource(){const t=this.getVariablePrecisionString();return r.linesToString([`uniform ${t} sampler2D ${this.id}`,`${t} ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,`${t} ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`])}}e.exports={WebGL2KernelValueHTMLImage:s}},{"../../../utils":114,"../../web-gl/kernel-value/html-image":57}],94:[function(t,e,n){t("../../../utils");const{WebGL2KernelValueHTMLImage:r}=t("./html-image");class i extends r{}e.exports={WebGL2KernelValueHTMLVideo:i}},{"../../../utils":114,"./html-image":93}],95:[function(t,e,n){const{WebGLKernelValueInteger:r}=t("../../web-gl/kernel-value/integer");class i extends r{getSource(t){const e=this.getVariablePrecisionString();return"constants"===this.origin?`const ${e} int ${this.id} = ${parseInt(t)};\n`:`uniform ${e} int ${this.id};\n`}updateValue(t){"constants"!==this.origin&&this.kernel.setUniform1i(this.id,this.uploadValue=t)}}e.exports={WebGL2KernelValueInteger:i}},{"../../web-gl/kernel-value/integer":60}],96:[function(t,e,n){const{utils:r}=t("../../../utils"),{WebGLKernelValueMemoryOptimizedNumberTexture:i}=t("../../web-gl/kernel-value/memory-optimized-number-texture");class s extends i{getSource(){const{id:t,sizeId:e,textureSize:n,dimensionsId:i,dimensions:s}=this,a=this.getVariablePrecisionString();return r.linesToString([`uniform sampler2D ${t}`,`${a} ivec2 ${e} = ivec2(${n[0]}, ${n[1]})`,`${a} ivec3 ${i} = ivec3(${s[0]}, ${s[1]}, ${s[2]})`])}}e.exports={WebGL2KernelValueMemoryOptimizedNumberTexture:s}},{"../../../utils":114,"../../web-gl/kernel-value/memory-optimized-number-texture":61}],97:[function(t,e,n){const{utils:r}=t("../../../utils"),{WebGLKernelValueNumberTexture:i}=t("../../web-gl/kernel-value/number-texture");class s extends i{getSource(){const{id:t,sizeId:e,textureSize:n,dimensionsId:i,dimensions:s}=this,a=this.getVariablePrecisionString();return r.linesToString([`uniform ${a} sampler2D ${t}`,`${a} ivec2 ${e} = ivec2(${n[0]}, ${n[1]})`,`${a} ivec3 ${i} = ivec3(${s[0]}, ${s[1]}, ${s[2]})`])}}e.exports={WebGL2KernelValueNumberTexture:s}},{"../../../utils":114,"../../web-gl/kernel-value/number-texture":62}],98:[function(t,e,n){const{utils:r}=t("../../../utils"),{WebGLKernelValueSingleArray:i}=t("../../web-gl/kernel-value/single-array");class s extends i{getSource(){const t=this.getVariablePrecisionString();return r.linesToString([`uniform ${t} sampler2D ${this.id}`,`${t} ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,`${t} ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`])}updateValue(t){if(t.constructor!==this.initialValueConstructor)return void this.onUpdateValueMismatch(t.constructor);const{context:e}=this;r.flattenTo(t,this.uploadValue),e.activeTexture(this.contextHandle),e.bindTexture(e.TEXTURE_2D,this.texture),e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,!1),e.texImage2D(e.TEXTURE_2D,0,e.RGBA32F,this.textureSize[0],this.textureSize[1],0,e.RGBA,e.FLOAT,this.uploadValue),this.kernel.setUniform1i(this.id,this.index)}}e.exports={WebGL2KernelValueSingleArray:s}},{"../../../utils":114,"../../web-gl/kernel-value/single-array":63}],99:[function(t,e,n){const{utils:r}=t("../../../utils"),{WebGLKernelValueSingleArray1DI:i}=t("../../web-gl/kernel-value/single-array1d-i");class s extends i{updateValue(t){if(t.constructor!==this.initialValueConstructor)return void this.onUpdateValueMismatch(t.constructor);const{context:e}=this;r.flattenTo(t,this.uploadValue),e.activeTexture(this.contextHandle),e.bindTexture(e.TEXTURE_2D,this.texture),e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,!1),e.texImage2D(e.TEXTURE_2D,0,e.RGBA32F,this.textureSize[0],this.textureSize[1],0,e.RGBA,e.FLOAT,this.uploadValue),this.kernel.setUniform1i(this.id,this.index)}}e.exports={WebGL2KernelValueSingleArray1DI:s}},{"../../../utils":114,"../../web-gl/kernel-value/single-array1d-i":64}],100:[function(t,e,n){const{utils:r}=t("../../../utils"),{WebGLKernelValueSingleArray2DI:i}=t("../../web-gl/kernel-value/single-array2d-i");class s extends i{updateValue(t){if(t.constructor!==this.initialValueConstructor)return void this.onUpdateValueMismatch(t.constructor);const{context:e}=this;r.flattenTo(t,this.uploadValue),e.activeTexture(this.contextHandle),e.bindTexture(e.TEXTURE_2D,this.texture),e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,!1),e.texImage2D(e.TEXTURE_2D,0,e.RGBA32F,this.textureSize[0],this.textureSize[1],0,e.RGBA,e.FLOAT,this.uploadValue),this.kernel.setUniform1i(this.id,this.index)}}e.exports={WebGL2KernelValueSingleArray2DI:s}},{"../../../utils":114,"../../web-gl/kernel-value/single-array2d-i":65}],101:[function(t,e,n){const{utils:r}=t("../../../utils"),{WebGLKernelValueSingleArray3DI:i}=t("../../web-gl/kernel-value/single-array3d-i");class s extends i{updateValue(t){if(t.constructor!==this.initialValueConstructor)return void this.onUpdateValueMismatch(t.constructor);const{context:e}=this;r.flattenTo(t,this.uploadValue),e.activeTexture(this.contextHandle),e.bindTexture(e.TEXTURE_2D,this.texture),e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,!1),e.texImage2D(e.TEXTURE_2D,0,e.RGBA32F,this.textureSize[0],this.textureSize[1],0,e.RGBA,e.FLOAT,this.uploadValue),this.kernel.setUniform1i(this.id,this.index)}}e.exports={WebGL2KernelValueSingleArray3DI:s}},{"../../../utils":114,"../../web-gl/kernel-value/single-array3d-i":66}],102:[function(t,e,n){const{utils:r}=t("../../../utils"),{WebGLKernelValueSingleInput:i}=t("../../web-gl/kernel-value/single-input");class s extends i{getSource(){const t=this.getVariablePrecisionString();return r.linesToString([`uniform ${t} sampler2D ${this.id}`,`${t} ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,`${t} ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`])}updateValue(t){const{context:e}=this;r.flattenTo(t.value,this.uploadValue),e.activeTexture(this.contextHandle),e.bindTexture(e.TEXTURE_2D,this.texture),e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,!1),e.texImage2D(e.TEXTURE_2D,0,e.RGBA32F,this.textureSize[0],this.textureSize[1],0,e.RGBA,e.FLOAT,this.uploadValue),this.kernel.setUniform1i(this.id,this.index)}}e.exports={WebGL2KernelValueSingleInput:s}},{"../../../utils":114,"../../web-gl/kernel-value/single-input":67}],103:[function(t,e,n){const{utils:r}=t("../../../utils"),{WebGLKernelValueUnsignedArray:i}=t("../../web-gl/kernel-value/unsigned-array");class s extends i{getSource(){const t=this.getVariablePrecisionString();return r.linesToString([`uniform ${t} sampler2D ${this.id}`,`${t} ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,`${t} ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`])}}e.exports={WebGL2KernelValueUnsignedArray:s}},{"../../../utils":114,"../../web-gl/kernel-value/unsigned-array":68}],104:[function(t,e,n){const{utils:r}=t("../../../utils"),{WebGLKernelValueUnsignedInput:i}=t("../../web-gl/kernel-value/unsigned-input");class s extends i{getSource(){const t=this.getVariablePrecisionString();return r.linesToString([`uniform ${t} sampler2D ${this.id}`,`${t} ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,`${t} ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`])}}e.exports={WebGL2KernelValueUnsignedInput:s}},{"../../../utils":114,"../../web-gl/kernel-value/unsigned-input":69}],105:[function(t,e,n){const{WebGLKernel:r}=t("../web-gl/kernel"),{WebGL2FunctionNode:i}=t("./function-node"),{FunctionBuilder:s}=t("../function-builder"),{utils:a}=t("../../utils"),{fragmentShader:o}=t("./fragment-shader"),{vertexShader:u}=t("./vertex-shader"),{lookupKernelValueType:l}=t("./kernel-value-maps");let c=null,h=null,p=null,d=null;class f extends r{static get isSupported(){return null!==c||(this.setupFeatureChecks(),c=this.isContextMatch(p)),c}static setupFeatureChecks(){"undefined"!==typeof document?h=document.createElement("canvas"):"undefined"!==typeof OffscreenCanvas&&(h=new OffscreenCanvas(0,0)),h&&(p=h.getContext("webgl2"),p&&p.getExtension&&(p.getExtension("EXT_color_buffer_float"),p.getExtension("OES_texture_float_linear"),d=this.getFeatures()))}static isContextMatch(t){return"undefined"!==typeof WebGL2RenderingContext&&t instanceof WebGL2RenderingContext}static getFeatures(){const t=this.testContext;return Object.freeze({isFloatRead:this.getIsFloatRead(),isIntegerDivisionAccurate:this.getIsIntegerDivisionAccurate(),isSpeedTacticSupported:this.getIsSpeedTacticSupported(),kernelMap:!0,isTextureFloat:!0,isDrawBuffers:!0,channelCount:this.getChannelCount(),maxTextureSize:this.getMaxTextureSize(),lowIntPrecision:t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.LOW_INT),lowFloatPrecision:t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.LOW_FLOAT),mediumIntPrecision:t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.MEDIUM_INT),mediumFloatPrecision:t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.MEDIUM_FLOAT),highIntPrecision:t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_INT),highFloatPrecision:t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT)})}static getIsTextureFloat(){return!0}static getChannelCount(){return p.getParameter(p.MAX_DRAW_BUFFERS)}static getMaxTextureSize(){return p.getParameter(p.MAX_TEXTURE_SIZE)}static lookupKernelValueType(t,e,n,r){return l(t,e,n,r)}static get testCanvas(){return h}static get testContext(){return p}static get features(){return d}static get fragmentShader(){return o}static get vertexShader(){return u}initContext(){const t={alpha:!1,depth:!1,antialias:!1};return this.canvas.getContext("webgl2",t)}initExtensions(){this.extensions={EXT_color_buffer_float:this.context.getExtension("EXT_color_buffer_float"),OES_texture_float_linear:this.context.getExtension("OES_texture_float_linear")}}validateSettings(t){if(!this.validate)return void(this.texSize=a.getKernelTextureSize({optimizeFloatMemory:this.optimizeFloatMemory,precision:this.precision},this.output));const{features:e}=this.constructor;if("single"===this.precision&&!e.isFloatRead)throw new Error("Float texture outputs are not supported");if(this.graphical||null!==this.precision||(this.precision=e.isFloatRead?"single":"unsigned"),null===this.fixIntegerDivisionAccuracy?this.fixIntegerDivisionAccuracy=!e.isIntegerDivisionAccurate:this.fixIntegerDivisionAccuracy&&e.isIntegerDivisionAccurate&&(this.fixIntegerDivisionAccuracy=!1),this.checkOutput(),!this.output||0===this.output.length){if(1!==t.length)throw new Error("Auto output only supported for kernels with only one input");const e=a.getVariableType(t[0],this.strictIntegers);switch(e){case"Array":this.output=a.getDimensions(e);break;case"NumberTexture":case"MemoryOptimizedNumberTexture":case"ArrayTexture(1)":case"ArrayTexture(2)":case"ArrayTexture(3)":case"ArrayTexture(4)":this.output=t[0].output;break;default:throw new Error("Auto output not supported for input type: "+e)}}if(this.graphical){if(2!==this.output.length)throw new Error("Output must have 2 dimensions on graphical mode");return"single"===this.precision&&(console.warn("Cannot use graphical mode and single precision at the same time"),this.precision="unsigned"),void(this.texSize=a.clone(this.output))}!this.graphical&&null===this.precision&&e.isTextureFloat&&(this.precision="single"),this.texSize=a.getKernelTextureSize({optimizeFloatMemory:this.optimizeFloatMemory,precision:this.precision},this.output),this.checkTextureSize()}translateSource(){const t=s.fromKernel(this,i,{fixIntegerDivisionAccuracy:this.fixIntegerDivisionAccuracy});this.translatedSource=t.getPrototypeString("kernel"),this.setupReturnTypes(t)}drawBuffers(){this.context.drawBuffers(this.drawBuffersMap)}getTextureFormat(){const{context:t}=this;switch(this.getInternalFormat()){case t.R32F:return t.RED;case t.RG32F:return t.RG;case t.RGBA32F:case t.RGBA:return t.RGBA;default:throw new Error("Unknown internal format")}}getInternalFormat(){const{context:t}=this;if("single"===this.precision){if(this.pipeline)switch(this.returnType){case"Number":case"Float":case"Integer":return this.optimizeFloatMemory?t.RGBA32F:t.R32F;case"Array(2)":return t.RG32F;case"Array(3)":case"Array(4)":return t.RGBA32F;default:throw new Error("Unhandled return type")}return t.RGBA32F}return t.RGBA}_setupOutputTexture(){const t=this.context;if(this.texture)return void t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,this.texture.texture,0);t.bindFramebuffer(t.FRAMEBUFFER,this.framebuffer);const e=t.createTexture(),n=this.texSize;t.activeTexture(t.TEXTURE0+this.constantTextureCount+this.argumentTextureCount),t.bindTexture(t.TEXTURE_2D,e),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.NEAREST);const r=this.getInternalFormat();"single"===this.precision?t.texStorage2D(t.TEXTURE_2D,1,r,n[0],n[1]):t.texImage2D(t.TEXTURE_2D,0,r,n[0],n[1],0,r,t.UNSIGNED_BYTE,null),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,e,0),this.texture=new this.TextureConstructor({texture:e,size:n,dimensions:this.threadDim,output:this.output,context:this.context,internalFormat:this.getInternalFormat(),textureFormat:this.getTextureFormat(),kernel:this})}_setupSubOutputTextures(){const t=this.context;if(this.mappedTextures){for(let e=0;e<this.subKernels.length;e++)t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+e+1,t.TEXTURE_2D,this.mappedTextures[e].texture,0);return}const e=this.texSize;this.drawBuffersMap=[t.COLOR_ATTACHMENT0],this.mappedTextures=[];for(let n=0;n<this.subKernels.length;n++){const r=this.createTexture();this.drawBuffersMap.push(t.COLOR_ATTACHMENT0+n+1),t.activeTexture(t.TEXTURE0+this.constantTextureCount+this.argumentTextureCount+n),t.bindTexture(t.TEXTURE_2D,r),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.NEAREST);const i=this.getInternalFormat();"single"===this.precision?t.texStorage2D(t.TEXTURE_2D,1,i,e[0],e[1]):t.texImage2D(t.TEXTURE_2D,0,t.RGBA,e[0],e[1],0,t.RGBA,t.UNSIGNED_BYTE,null),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+n+1,t.TEXTURE_2D,r,0),this.mappedTextures.push(new this.TextureConstructor({texture:r,size:e,dimensions:this.threadDim,output:this.output,context:this.context,internalFormat:this.getInternalFormat(),textureFormat:this.getTextureFormat(),kernel:this}))}}_getHeaderString(){return""}_getTextureCoordinate(){const t=this.subKernels,e=this.getVariablePrecisionString(this.texSize,this.tactic);return null===t||t.length<1?`in ${e} vec2 vTexCoord;\n`:`out ${e} vec2 vTexCoord;\n`}_getMainArgumentsString(t){const e=[],n=this.argumentNames;for(let r=0;r<n.length;r++)e.push(this.kernelArguments[r].getSource(t[r]));return e.join("")}getKernelString(){const t=[this.getKernelResultDeclaration()],e=this.subKernels;if(null!==e)switch(t.push("layout(location = 0) out vec4 data0"),this.returnType){case"Number":case"Float":case"Integer":for(let n=0;n<e.length;n++){const r=e[n];t.push("Integer"===r.returnType?`int subKernelResult_${r.name} = 0`:`float subKernelResult_${r.name} = 0.0`,`layout(location = ${n+1}) out vec4 data${n+1}`)}break;case"Array(2)":for(let n=0;n<e.length;n++)t.push(`vec2 subKernelResult_${e[n].name}`,`layout(location = ${n+1}) out vec4 data${n+1}`);break;case"Array(3)":for(let n=0;n<e.length;n++)t.push(`vec3 subKernelResult_${e[n].name}`,`layout(location = ${n+1}) out vec4 data${n+1}`);break;case"Array(4)":for(let n=0;n<e.length;n++)t.push(`vec4 subKernelResult_${e[n].name}`,`layout(location = ${n+1}) out vec4 data${n+1}`)}else t.push("out vec4 data0");return a.linesToString(t)+this.translatedSource}getMainResultGraphical(){return a.linesToString(["  threadId = indexTo3D(index, uOutputDim)","  kernel()","  data0 = actualColor"])}getMainResultPackedPixels(){switch(this.returnType){case"LiteralInteger":case"Number":case"Integer":case"Float":return this.getMainResultKernelPackedPixels()+this.getMainResultSubKernelPackedPixels();default:throw new Error(`packed output only usable with Numbers, "${this.returnType}" specified`)}}getMainResultKernelPackedPixels(){return a.linesToString(["  threadId = indexTo3D(index, uOutputDim)","  kernel()",`  data0 = ${this.useLegacyEncoder?"legacyEncode32":"encode32"}(kernelResult)`])}getMainResultSubKernelPackedPixels(){const t=[];if(!this.subKernels)return"";for(let e=0;e<this.subKernels.length;e++)"Integer"===this.subKernels[e].returnType?t.push(`  data${e+1} = ${this.useLegacyEncoder?"legacyEncode32":"encode32"}(float(subKernelResult_${this.subKernels[e].name}))`):t.push(`  data${e+1} = ${this.useLegacyEncoder?"legacyEncode32":"encode32"}(subKernelResult_${this.subKernels[e].name})`);return a.linesToString(t)}getMainResultKernelMemoryOptimizedFloats(t,e){t.push("  threadId = indexTo3D(index, uOutputDim)","  kernel()",`  data0.${e} = kernelResult`)}getMainResultSubKernelMemoryOptimizedFloats(t,e){if(!this.subKernels)return t;for(let n=0;n<this.subKernels.length;n++){const r=this.subKernels[n];"Integer"===r.returnType?t.push(`  data${n+1}.${e} = float(subKernelResult_${r.name})`):t.push(`  data${n+1}.${e} = subKernelResult_${r.name}`)}}getMainResultKernelNumberTexture(){return["  threadId = indexTo3D(index, uOutputDim)","  kernel()","  data0[0] = kernelResult"]}getMainResultSubKernelNumberTexture(){const t=[];if(!this.subKernels)return t;for(let e=0;e<this.subKernels.length;++e){const n=this.subKernels[e];"Integer"===n.returnType?t.push(`  data${e+1}[0] = float(subKernelResult_${n.name})`):t.push(`  data${e+1}[0] = subKernelResult_${n.name}`)}return t}getMainResultKernelArray2Texture(){return["  threadId = indexTo3D(index, uOutputDim)","  kernel()","  data0[0] = kernelResult[0]","  data0[1] = kernelResult[1]"]}getMainResultSubKernelArray2Texture(){const t=[];if(!this.subKernels)return t;for(let e=0;e<this.subKernels.length;++e){const n=this.subKernels[e];t.push(`  data${e+1}[0] = subKernelResult_${n.name}[0]`,`  data${e+1}[1] = subKernelResult_${n.name}[1]`)}return t}getMainResultKernelArray3Texture(){return["  threadId = indexTo3D(index, uOutputDim)","  kernel()","  data0[0] = kernelResult[0]","  data0[1] = kernelResult[1]","  data0[2] = kernelResult[2]"]}getMainResultSubKernelArray3Texture(){const t=[];if(!this.subKernels)return t;for(let e=0;e<this.subKernels.length;++e){const n=this.subKernels[e];t.push(`  data${e+1}[0] = subKernelResult_${n.name}[0]`,`  data${e+1}[1] = subKernelResult_${n.name}[1]`,`  data${e+1}[2] = subKernelResult_${n.name}[2]`)}return t}getMainResultKernelArray4Texture(){return["  threadId = indexTo3D(index, uOutputDim)","  kernel()","  data0 = kernelResult"]}getMainResultSubKernelArray4Texture(){const t=[];if(!this.subKernels)return t;for(let e=0;e<this.subKernels.length;++e)t.push(`  data${e+1} = subKernelResult_${this.subKernels[e].name}`);return t}destroyExtensions(){this.extensions.EXT_color_buffer_float=null,this.extensions.OES_texture_float_linear=null}toJSON(){const t=super.toJSON();return t.functionNodes=s.fromKernel(this,i).toJSON(),t.settings.threadDim=this.threadDim,t}}e.exports={WebGL2Kernel:f}},{"../../utils":114,"../function-builder":9,"../web-gl/kernel":70,"./fragment-shader":72,"./function-node":73,"./kernel-value-maps":74,"./vertex-shader":106}],106:[function(t,e,n){const r="#version 300 es\n__FLOAT_TACTIC_DECLARATION__;\n__INT_TACTIC_DECLARATION__;\n__SAMPLER_2D_TACTIC_DECLARATION__;\n\nin vec2 aPos;\nin vec2 aTexCoord;\n\nout vec2 vTexCoord;\nuniform vec2 ratio;\n\nvoid main(void) {\n  gl_Position = vec4((aPos + vec2(1)) * ratio + vec2(-1), 0, 1);\n  vTexCoord = aTexCoord;\n}";e.exports={vertexShader:r}},{}],107:[function(t,e,n){const r=t("./index"),i=r.GPU;for(const a in r)r.hasOwnProperty(a)&&"GPU"!==a&&(i[a]=r[a]);function s(t){t.GPU||Object.defineProperty(t,"GPU",{get:()=>i})}"undefined"!==typeof window&&s(window),"undefined"!==typeof self&&s(self),e.exports=r},{"./index":109}],108:[function(t,e,n){const{gpuMock:r}=t("gpu-mock.js"),{utils:i}=t("./utils");t("./backend/kernel");const{CPUKernel:s}=t("./backend/cpu/kernel"),{HeadlessGLKernel:a}=t("./backend/headless-gl/kernel"),{WebGL2Kernel:o}=t("./backend/web-gl2/kernel"),{WebGLKernel:u}=t("./backend/web-gl/kernel"),{kernelRunShortcut:l}=t("./kernel-run-shortcut"),c=[a,o,u],h=["gpu","cpu"],p={headlessgl:a,webgl2:o,webgl:u};let d=!0;class f{static disableValidation(){d=!1}static enableValidation(){d=!0}static get isGPUSupported(){return c.some((t=>t.isSupported))}static get isKernelMapSupported(){return c.some((t=>t.isSupported&&t.features.kernelMap))}static get isOffscreenCanvasSupported(){return"undefined"!==typeof Worker&&"undefined"!==typeof OffscreenCanvas||"undefined"!==typeof importScripts}static get isWebGLSupported(){return u.isSupported}static get isWebGL2Supported(){return o.isSupported}static get isHeadlessGLSupported(){return a.isSupported}static get isCanvasSupported(){return"undefined"!==typeof HTMLCanvasElement}static get isGPUHTMLImageArraySupported(){return o.isSupported}static get isSinglePrecisionSupported(){return c.some((t=>t.isSupported&&t.features.isFloatRead&&t.features.isTextureFloat))}constructor(t){if(t=t||{},this.canvas=t.canvas||null,this.context=t.context||null,this.mode=t.mode,this.Kernel=null,this.kernels=[],this.functions=[],this.nativeFunctions=[],this.injectedNative=null,"dev"!==this.mode){if(this.chooseKernel(),t.functions)for(let e=0;e<t.functions.length;e++)this.addFunction(t.functions[e]);if(t.nativeFunctions)for(const e in t.nativeFunctions){if(!t.nativeFunctions.hasOwnProperty(e))continue;const n=t.nativeFunctions[e],{name:r,source:i}=n;this.addNativeFunction(r,i,n)}}}chooseKernel(){if(this.Kernel)return;let t=null;if(this.context){for(let e=0;e<c.length;e++){const n=c[e];if(n.isContextMatch(this.context)){if(!n.isSupported)throw new Error(`Kernel type ${n.name} not supported`);t=n;break}}if(null===t)throw new Error("unknown Context")}else if(this.mode){if(this.mode in p)d&&!p[this.mode].isSupported||(t=p[this.mode]);else if("gpu"===this.mode){for(let e=0;e<c.length;e++)if(c[e].isSupported){t=c[e];break}}else"cpu"===this.mode&&(t=s);if(!t)throw new Error(`A requested mode of "${this.mode}" and is not supported`)}else{for(let e=0;e<c.length;e++)if(c[e].isSupported){t=c[e];break}t||(t=s)}this.mode||(this.mode=t.mode),this.Kernel=t}createKernel(t,e){if("undefined"===typeof t)throw new Error("Missing source parameter");if("object"!==typeof t&&!i.isFunction(t)&&"string"!==typeof t)throw new Error("source parameter not a function");const n=this.kernels;if("dev"===this.mode){const i=r(t,m(e));return n.push(i),i}t="function"===typeof t?t.toString():t;const a={},o=m(e)||{};function u(e){console.warn("Falling back to CPU");const n=new s(t,{argumentTypes:f.argumentTypes,constantTypes:f.constantTypes,graphical:f.graphical,loopMaxIterations:f.loopMaxIterations,constants:f.constants,dynamicOutput:f.dynamicOutput,dynamicArgument:f.dynamicArguments,output:f.output,precision:f.precision,pipeline:f.pipeline,immutable:f.immutable,optimizeFloatMemory:f.optimizeFloatMemory,fixIntegerDivisionAccuracy:f.fixIntegerDivisionAccuracy,functions:f.functions,nativeFunctions:f.nativeFunctions,injectedNative:f.injectedNative,subKernels:f.subKernels,strictIntegers:f.strictIntegers,debug:f.debug});n.build.apply(n,e);const r=n.run.apply(n,e);return f.replaceKernel(n),r}function c(e,r,i){i.debug&&console.warn("Switching kernels");let s=null;if(i.signature&&!a[i.signature]&&(a[i.signature]=i),i.dynamicOutput)for(let t=e.length-1;t>=0;t--){const n=e[t];"outputPrecisionMismatch"===n.type&&(s=n.needed)}const o=i.constructor,l=o.getArgumentTypes(i,r),h=o.getSignature(i,l),p=a[h];if(p)return p.onActivate(i),p;const m=a[h]=new o(t,{argumentTypes:l,constantTypes:i.constantTypes,graphical:i.graphical,loopMaxIterations:i.loopMaxIterations,constants:i.constants,dynamicOutput:i.dynamicOutput,dynamicArgument:i.dynamicArguments,context:i.context,canvas:i.canvas,output:s||i.output,precision:i.precision,pipeline:i.pipeline,immutable:i.immutable,optimizeFloatMemory:i.optimizeFloatMemory,fixIntegerDivisionAccuracy:i.fixIntegerDivisionAccuracy,functions:i.functions,nativeFunctions:i.nativeFunctions,injectedNative:i.injectedNative,subKernels:i.subKernels,strictIntegers:i.strictIntegers,debug:i.debug,gpu:i.gpu,validate:d,returnType:i.returnType,tactic:i.tactic,onRequestFallback:u,onRequestSwitchKernel:c,texture:i.texture,mappedTextures:i.mappedTextures,drawBuffersMap:i.drawBuffersMap});return m.build.apply(m,r),f.replaceKernel(m),n.push(m),m}e&&"object"===typeof e.argumentTypes&&(o.argumentTypes=Object.keys(e.argumentTypes).map((t=>e.argumentTypes[t])));const h=Object.assign({context:this.context,canvas:this.canvas,functions:this.functions,nativeFunctions:this.nativeFunctions,injectedNative:this.injectedNative,gpu:this,validate:d,onRequestFallback:u,onRequestSwitchKernel:c},o),p=new this.Kernel(t,h),f=l(p);return this.canvas||(this.canvas=p.canvas),this.context||(this.context=p.context),n.push(p),f}createKernelMap(){let t,e;const n=typeof arguments[arguments.length-2];if("function"===n||"string"===n?(t=arguments[arguments.length-2],e=arguments[arguments.length-1]):t=arguments[arguments.length-1],"dev"!==this.mode&&(!this.Kernel.isSupported||!this.Kernel.features.kernelMap)&&this.mode&&h.indexOf(this.mode)<0)throw new Error(`kernelMap not supported on ${this.Kernel.name}`);const r=m(e);if(e&&"object"===typeof e.argumentTypes&&(r.argumentTypes=Object.keys(e.argumentTypes).map((t=>e.argumentTypes[t]))),Array.isArray(arguments[0])){r.subKernels=[];const t=arguments[0];for(let e=0;e<t.length;e++){const n=t[e].toString(),s=i.getFunctionNameFromString(n);r.subKernels.push({name:s,source:n,property:e})}}else{r.subKernels=[];const t=arguments[0];for(let e in t){if(!t.hasOwnProperty(e))continue;const n=t[e].toString(),s=i.getFunctionNameFromString(n);r.subKernels.push({name:s||e,source:n,property:e})}}return this.createKernel(t,r)}combineKernels(){const t=arguments[arguments.length-1];if("cpu"===arguments[0].kernel.constructor.mode)return t;const e=arguments[0].canvas,n=arguments[0].context,r=arguments.length-1;for(let i=0;i<r;i++)arguments[i].setCanvas(e).setContext(n).setPipeline(!0);return function(){const e=t.apply(this,arguments);return e.toArray?e.toArray():e}}setFunctions(t){return this.functions=t,this}setNativeFunctions(t){return this.nativeFunctions=t,this}addFunction(t,e){return this.functions.push({source:t,settings:e}),this}addNativeFunction(t,e,n){if(this.kernels.length>0)throw new Error('Cannot call "addNativeFunction" after "createKernels" has been called.');return this.nativeFunctions.push(Object.assign({name:t,source:e},n)),this}injectNative(t){return this.injectedNative=t,this}destroy(){return new Promise(((t,e)=>{this.kernels||t(),setTimeout((()=>{try{for(let e=0;e<this.kernels.length;e++)this.kernels[e].destroy(!0);let t=this.kernels[0];t&&(t.kernel&&(t=t.kernel),t.constructor.destroyContext&&t.constructor.destroyContext(this.context))}catch(n){e(n)}t()}),0)}))}}function m(t){if(!t)return{};const e=Object.assign({},t);return t.hasOwnProperty("floatOutput")&&(i.warnDeprecated("setting","floatOutput","precision"),e.precision=t.floatOutput?"single":"unsigned"),t.hasOwnProperty("outputToTexture")&&(i.warnDeprecated("setting","outputToTexture","pipeline"),e.pipeline=Boolean(t.outputToTexture)),t.hasOwnProperty("outputImmutable")&&(i.warnDeprecated("setting","outputImmutable","immutable"),e.immutable=Boolean(t.outputImmutable)),t.hasOwnProperty("floatTextures")&&(i.warnDeprecated("setting","floatTextures","optimizeFloatMemory"),e.optimizeFloatMemory=Boolean(t.floatTextures)),e}e.exports={GPU:f,kernelOrder:c,kernelTypes:h}},{"./backend/cpu/kernel":8,"./backend/headless-gl/kernel":34,"./backend/kernel":36,"./backend/web-gl/kernel":70,"./backend/web-gl2/kernel":105,"./kernel-run-shortcut":111,"./utils":114,"gpu-mock.js":4}],109:[function(t,e,n){const{GPU:r}=t("./gpu"),{alias:i}=t("./alias"),{utils:s}=t("./utils"),{Input:a,input:o}=t("./input"),{Texture:u}=t("./texture"),{FunctionBuilder:l}=t("./backend/function-builder"),{FunctionNode:c}=t("./backend/function-node"),{CPUFunctionNode:h}=t("./backend/cpu/function-node"),{CPUKernel:p}=t("./backend/cpu/kernel"),{HeadlessGLKernel:d}=t("./backend/headless-gl/kernel"),{WebGLFunctionNode:f}=t("./backend/web-gl/function-node"),{WebGLKernel:m}=t("./backend/web-gl/kernel"),{kernelValueMaps:g}=t("./backend/web-gl/kernel-value-maps"),{WebGL2FunctionNode:y}=t("./backend/web-gl2/function-node"),{WebGL2Kernel:b}=t("./backend/web-gl2/kernel"),{kernelValueMaps:x}=t("./backend/web-gl2/kernel-value-maps"),{GLKernel:v}=t("./backend/gl/kernel"),{Kernel:w}=t("./backend/kernel"),{FunctionTracer:S}=t("./backend/function-tracer"),k=t("./plugins/math-random-uniformly-distributed");e.exports={alias:i,CPUFunctionNode:h,CPUKernel:p,GPU:r,FunctionBuilder:l,FunctionNode:c,HeadlessGLKernel:d,Input:a,input:o,Texture:u,utils:s,WebGL2FunctionNode:y,WebGL2Kernel:b,webGL2KernelValueMaps:x,WebGLFunctionNode:f,WebGLKernel:m,webGLKernelValueMaps:g,GLKernel:v,Kernel:w,FunctionTracer:S,plugins:{mathRandom:k}}},{"./alias":5,"./backend/cpu/function-node":6,"./backend/cpu/kernel":8,"./backend/function-builder":9,"./backend/function-node":10,"./backend/function-tracer":11,"./backend/gl/kernel":13,"./backend/headless-gl/kernel":34,"./backend/kernel":36,"./backend/web-gl/function-node":38,"./backend/web-gl/kernel":70,"./backend/web-gl/kernel-value-maps":39,"./backend/web-gl2/function-node":73,"./backend/web-gl2/kernel":105,"./backend/web-gl2/kernel-value-maps":74,"./gpu":108,"./input":110,"./plugins/math-random-uniformly-distributed":112,"./texture":113,"./utils":114}],110:[function(t,e,n){class r{constructor(t,e){this.value=t,Array.isArray(e)?this.size=e:(this.size=new Int32Array(3),e.z?this.size=new Int32Array([e.x,e.y,e.z]):e.y?this.size=new Int32Array([e.x,e.y]):this.size=new Int32Array([e.x]));const[n,r,i]=this.size;if(i){if(this.value.length!==n*r*i)throw new Error(`Input size ${this.value.length} does not match ${n} * ${r} * ${i} = ${r*n*i}`)}else if(r){if(this.value.length!==n*r)throw new Error(`Input size ${this.value.length} does not match ${n} * ${r} = ${r*n}`)}else if(this.value.length!==n)throw new Error(`Input size ${this.value.length} does not match ${n}`)}toArray(){const{utils:e}=t("./utils"),[n,r,i]=this.size;return i?e.erectMemoryOptimized3DFloat(this.value.subarray?this.value:new Float32Array(this.value),n,r,i):r?e.erectMemoryOptimized2DFloat(this.value.subarray?this.value:new Float32Array(this.value),n,r):this.value}}function i(t,e){return new r(t,e)}e.exports={Input:r,input:i}},{"./utils":114}],111:[function(t,e,n){const{utils:r}=t("./utils");function i(t){let e=function(){return t.build.apply(t,arguments),e=function(){let e=t.run.apply(t,arguments);if(t.switchingKernels){const r=t.resetSwitchingKernels(),i=t.onRequestSwitchKernel(r,arguments,t);n.kernel=t=i,e=i.run.apply(i,arguments)}return t.renderKernels?t.renderKernels():t.renderOutput?t.renderOutput():e},e.apply(t,arguments)};const n=function(){return e.apply(t,arguments)};return n.exec=function(){return new Promise(((t,n)=>{try{t(e.apply(this,arguments))}catch(r){n(r)}}))},n.replaceKernel=function(e){s(t=e,n)},s(t,n),n}function s(t,e){if(e.kernel)return void(e.kernel=t);const n=r.allPropertiesOf(t);for(let r=0;r<n.length;r++){const i=n[r];"_"===i[0]&&"_"===i[1]||("function"===typeof t[i]?"add"===i.substring(0,3)||"set"===i.substring(0,3)?e[i]=function(){return e.kernel[i].apply(e.kernel,arguments),e}:e[i]=function(){return e.kernel[i].apply(e.kernel,arguments)}:(e.__defineGetter__(i,(()=>e.kernel[i])),e.__defineSetter__(i,(t=>{e.kernel[i]=t}))))}e.kernel=t}e.exports={kernelRunShortcut:i}},{"./utils":114}],112:[function(t,e,n){const r={name:"math-random-uniformly-distributed",onBeforeRun:t=>{t.setUniform1f("randomSeed1",Math.random()),t.setUniform1f("randomSeed2",Math.random())},functionMatch:"Math.random()",functionReplace:"nrand(vTexCoord)",functionReturnType:"Number",source:"// https://www.shadertoy.com/view/4t2SDh\n//note: uniformly distributed, normalized rand, [0,1]\nhighp float randomSeedShift = 1.0;\nhighp float slide = 1.0;\nuniform highp float randomSeed1;\nuniform highp float randomSeed2;\n\nhighp float nrand(highp vec2 n) {\n  highp float result = fract(sin(dot((n.xy + 1.0) * vec2(randomSeed1 * slide, randomSeed2 * randomSeedShift), vec2(12.9898, 78.233))) * 43758.5453);\n  randomSeedShift = result;\n  if (randomSeedShift > 0.5) {\n    slide += 0.00009; \n  } else {\n    slide += 0.0009;\n  }\n  return result;\n}"};e.exports=r},{}],113:[function(t,e,n){class r{constructor(t){const{texture:e,size:n,dimensions:r,output:i,context:s,type:a="NumberTexture",kernel:o,internalFormat:u,textureFormat:l}=t;if(!i)throw new Error('settings property "output" required.');if(!s)throw new Error('settings property "context" required.');if(!e)throw new Error('settings property "texture" required.');if(!o)throw new Error('settings property "kernel" required.');this.texture=e,e._refs?e._refs++:e._refs=1,this.size=n,this.dimensions=r,this.output=i,this.context=s,this.kernel=o,this.type=a,this._deleted=!1,this.internalFormat=u,this.textureFormat=l}toArray(){throw new Error(`Not implemented on ${this.constructor.name}`)}clone(){throw new Error(`Not implemented on ${this.constructor.name}`)}delete(){throw new Error(`Not implemented on ${this.constructor.name}`)}clear(){throw new Error(`Not implemented on ${this.constructor.name}`)}}e.exports={Texture:r}},{}],114:[function(t,e,n){const r=t("acorn"),{Input:i}=t("./input"),{Texture:s}=t("./texture"),a=/function ([^(]*)/,o=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,u=/([^\s,]+)/g,l={systemEndianness:()=>d,getSystemEndianness(){const t=new ArrayBuffer(4),e=new Uint32Array(t),n=new Uint8Array(t);if(e[0]=3735928559,239===n[0])return"LE";if(222===n[0])return"BE";throw new Error("unknown endianness")},isFunction:t=>"function"===typeof t,isFunctionString:t=>"string"===typeof t&&"function"===t.slice(0,8).toLowerCase(),getFunctionNameFromString(t){const e=a.exec(t);return e&&0!==e.length?e[1].trim():null},getFunctionBodyFromString:t=>t.substring(t.indexOf("{")+1,t.lastIndexOf("}")),getArgumentNamesFromString(t){const e=t.replace(o,"");let n=e.slice(e.indexOf("(")+1,e.indexOf(")")).match(u);return null===n&&(n=[]),n},clone(t){if(null===t||"object"!==typeof t||t.hasOwnProperty("isActiveClone"))return t;const e=t.constructor();for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&(t.isActiveClone=null,e[n]=l.clone(t[n]),delete t.isActiveClone);return e},isArray:t=>!isNaN(t.length),getVariableType(t,e){if(l.isArray(t))return t.length>0&&"IMG"===t[0].nodeName?"HTMLImageArray":"Array";switch(t.constructor){case Boolean:return"Boolean";case Number:return e&&Number.isInteger(t)?"Integer":"Float";case s:return t.type;case i:return"Input"}if("nodeName"in t)switch(t.nodeName){case"IMG":case"CANVAS":return"HTMLImage";case"VIDEO":return"HTMLVideo"}else{if(t.hasOwnProperty("type"))return t.type;if("undefined"!==typeof OffscreenCanvas&&t instanceof OffscreenCanvas)return"OffscreenCanvas";if("undefined"!==typeof ImageBitmap&&t instanceof ImageBitmap)return"ImageBitmap";if("undefined"!==typeof ImageData&&t instanceof ImageData)return"ImageData"}return"Unknown"},getKernelTextureSize(t,e){let[n,r,i]=e,s=(n||1)*(r||1)*(i||1);return t.optimizeFloatMemory&&"single"===t.precision&&(n=s=Math.ceil(s/4)),r>1&&n*r===s?new Int32Array([n,r]):l.closestSquareDimensions(s)},closestSquareDimensions(t){const e=Math.sqrt(t);let n=Math.ceil(e),r=Math.floor(e);for(;n*r<t;)n--,r=Math.ceil(t/n);return new Int32Array([r,Math.ceil(t/r)])},getMemoryOptimizedFloatTextureSize(t,e){const n=l.roundTo((t[0]||1)*(t[1]||1)*(t[2]||1)*(t[3]||1),4)/e;return l.closestSquareDimensions(n)},getMemoryOptimizedPackedTextureSize(t,e){const[n,r,i]=t,s=l.roundTo((n||1)*(r||1)*(i||1),4)/(4/e);return l.closestSquareDimensions(s)},roundTo:(t,e)=>Math.floor((t+e-1)/e)*e,getDimensions(t,e){let n;if(l.isArray(t)){const e=[];let r=t;for(;l.isArray(r);)e.push(r.length),r=r[0];n=e.reverse()}else if(t instanceof s)n=t.output;else{if(!(t instanceof i))throw new Error(`Unknown dimensions of ${t}`);n=t.size}if(e)for(n=Array.from(n);n.length<3;)n.push(1);return new Int32Array(n)},flatten2dArrayTo(t,e){let n=0;for(let r=0;r<t.length;r++)e.set(t[r],n),n+=t[r].length},flatten3dArrayTo(t,e){let n=0;for(let r=0;r<t.length;r++)for(let i=0;i<t[r].length;i++)e.set(t[r][i],n),n+=t[r][i].length},flatten4dArrayTo(t,e){let n=0;for(let r=0;r<t.length;r++)for(let i=0;i<t[r].length;i++)for(let s=0;s<t[r][i].length;s++)e.set(t[r][i][s],n),n+=t[r][i][s].length},flattenTo(t,e){l.isArray(t[0])?l.isArray(t[0][0])?l.isArray(t[0][0][0])?l.flatten4dArrayTo(t,e):l.flatten3dArrayTo(t,e):l.flatten2dArrayTo(t,e):e.set(t)},splitArray(t,e){const n=[];for(let r=0;r<t.length;r+=e)n.push(new t.constructor(t.buffer,4*r+t.byteOffset,e));return n},getAstString(t,e){const n=Array.isArray(t)?t:t.split(/\r?\n/g),r=e.loc.start,i=e.loc.end,s=[];if(r.line===i.line)s.push(n[r.line-1].substring(r.column,i.column));else{s.push(n[r.line-1].slice(r.column));for(let t=r.line;t<i.line;t++)s.push(n[t]);s.push(n[i.line-1].slice(0,i.column))}return s.join("\n")},allPropertiesOf(t){const e=[];do{e.push.apply(e,Object.getOwnPropertyNames(t))}while(t=Object.getPrototypeOf(t));return e},linesToString:t=>t.length>0?t.join(";\n")+";\n":"\n",warnDeprecated(t,e,n){n?console.warn(`You are using a deprecated ${t} "${e}". It has been replaced with "${n}". Fixing, but please upgrade as it will soon be removed.`):console.warn(`You are using a deprecated ${t} "${e}". It has been removed. Fixing, but please upgrade as it will soon be removed.`)},flipPixels:(t,e,n)=>{const r=n/2|0,i=4*e,s=new Uint8ClampedArray(4*e),a=t.slice(0);for(let o=0;o<r;++o){const t=o*i,e=(n-o-1)*i;s.set(a.subarray(t,t+i)),a.copyWithin(t,e,e+i),a.set(s,e)}return a},erectPackedFloat:(t,e)=>t.subarray(0,e),erect2DPackedFloat:(t,e,n)=>{const r=new Array(n);for(let i=0;i<n;i++){const n=i*e,s=n+e;r[i]=t.subarray(n,s)}return r},erect3DPackedFloat:(t,e,n,r)=>{const i=new Array(r);for(let s=0;s<r;s++){const r=new Array(n);for(let i=0;i<n;i++){const a=s*n*e+i*e,o=a+e;r[i]=t.subarray(a,o)}i[s]=r}return i},erectMemoryOptimizedFloat:(t,e)=>t.subarray(0,e),erectMemoryOptimized2DFloat:(t,e,n)=>{const r=new Array(n);for(let i=0;i<n;i++){const n=i*e;r[i]=t.subarray(n,n+e)}return r},erectMemoryOptimized3DFloat:(t,e,n,r)=>{const i=new Array(r);for(let s=0;s<r;s++){const r=new Array(n);for(let i=0;i<n;i++){const a=s*n*e+i*e;r[i]=t.subarray(a,a+e)}i[s]=r}return i},erectFloat:(t,e)=>{const n=new Float32Array(e);let r=0;for(let i=0;i<e;i++)n[i]=t[r],r+=4;return n},erect2DFloat:(t,e,n)=>{const r=new Array(n);let i=0;for(let s=0;s<n;s++){const n=new Float32Array(e);for(let r=0;r<e;r++)n[r]=t[i],i+=4;r[s]=n}return r},erect3DFloat:(t,e,n,r)=>{const i=new Array(r);let s=0;for(let a=0;a<r;a++){const r=new Array(n);for(let i=0;i<n;i++){const n=new Float32Array(e);for(let r=0;r<e;r++)n[r]=t[s],s+=4;r[i]=n}i[a]=r}return i},erectArray2:(t,e)=>{const n=new Array(e),r=4*e;let i=0;for(let s=0;s<r;s+=4)n[i++]=t.subarray(s,s+2);return n},erect2DArray2:(t,e,n)=>{const r=new Array(n),i=4*e;for(let s=0;s<n;s++){const n=new Array(e),a=s*i;let o=0;for(let e=0;e<i;e+=4)n[o++]=t.subarray(e+a,e+a+2);r[s]=n}return r},erect3DArray2:(t,e,n,r)=>{const i=4*e,s=new Array(r);for(let a=0;a<r;a++){const r=new Array(n);for(let s=0;s<n;s++){const o=new Array(e),u=a*i*n+s*i;let l=0;for(let e=0;e<i;e+=4)o[l++]=t.subarray(e+u,e+u+2);r[s]=o}s[a]=r}return s},erectArray3:(t,e)=>{const n=new Array(e),r=4*e;let i=0;for(let s=0;s<r;s+=4)n[i++]=t.subarray(s,s+3);return n},erect2DArray3:(t,e,n)=>{const r=4*e,i=new Array(n);for(let s=0;s<n;s++){const n=new Array(e),a=s*r;let o=0;for(let e=0;e<r;e+=4)n[o++]=t.subarray(e+a,e+a+3);i[s]=n}return i},erect3DArray3:(t,e,n,r)=>{const i=4*e,s=new Array(r);for(let a=0;a<r;a++){const r=new Array(n);for(let s=0;s<n;s++){const o=new Array(e),u=a*i*n+s*i;let l=0;for(let e=0;e<i;e+=4)o[l++]=t.subarray(e+u,e+u+3);r[s]=o}s[a]=r}return s},erectArray4:(t,e)=>{const n=new Array(t),r=4*e;let i=0;for(let s=0;s<r;s+=4)n[i++]=t.subarray(s,s+4);return n},erect2DArray4:(t,e,n)=>{const r=4*e,i=new Array(n);for(let s=0;s<n;s++){const n=new Array(e),a=s*r;let o=0;for(let e=0;e<r;e+=4)n[o++]=t.subarray(e+a,e+a+4);i[s]=n}return i},erect3DArray4:(t,e,n,r)=>{const i=4*e,s=new Array(r);for(let a=0;a<r;a++){const r=new Array(n);for(let s=0;s<n;s++){const o=new Array(e),u=a*i*n+s*i;let l=0;for(let e=0;e<i;e+=4)o[l++]=t.subarray(e+u,e+u+4);r[s]=o}s[a]=r}return s},flattenFunctionToString:(t,e)=>{const{findDependency:n,thisLookup:i,doNotDefine:s}=e;let a=e.flattened;a||(a=e.flattened={});const o=r.parse(t),u=[];let c=0;function h(t){if(Array.isArray(t)){const e=[];for(let n=0;n<t.length;n++)e.push(h(t[n]));return e.join("")}switch(t.type){case"Program":return h(t.body)+("VariableDeclaration"===t.body[0].type?";":"");case"FunctionDeclaration":return`function ${t.id.name}(${t.params.map(h).join(", ")}) ${h(t.body)}`;case"BlockStatement":{const e=[];c+=2;for(let n=0;n<t.body.length;n++){const r=h(t.body[n]);r&&e.push(" ".repeat(c)+r,";\n")}return c-=2,`{\n${e.join("")}}`}case"VariableDeclaration":const e=l.normalizeDeclarations(t).map(h).filter((t=>null!==t));return e.length<1?"":`${t.kind} ${e.join(",")}`;case"VariableDeclarator":return t.init.object&&"ThisExpression"===t.init.object.type?i(t.init.property.name,!0)?`${t.id.name} = ${h(t.init)}`:null:`${t.id.name} = ${h(t.init)}`;case"CallExpression":if("subarray"===t.callee.property.name)return`${h(t.callee.object)}.${h(t.callee.property)}(${t.arguments.map((t=>h(t))).join(", ")})`;if("gl"===t.callee.object.name||"context"===t.callee.object.name)return`${h(t.callee.object)}.${h(t.callee.property)}(${t.arguments.map((t=>h(t))).join(", ")})`;if("ThisExpression"===t.callee.object.type)return u.push(n("this",t.callee.property.name)),`${t.callee.property.name}(${t.arguments.map((t=>h(t))).join(", ")})`;if(t.callee.object.name){const e=n(t.callee.object.name,t.callee.property.name);return null===e?`${t.callee.object.name}.${t.callee.property.name}(${t.arguments.map((t=>h(t))).join(", ")})`:(u.push(e),`${t.callee.property.name}(${t.arguments.map((t=>h(t))).join(", ")})`)}if("MemberExpression"===t.callee.object.type)return`${h(t.callee.object)}.${t.callee.property.name}(${t.arguments.map((t=>h(t))).join(", ")})`;throw new Error("unknown ast.callee");case"ReturnStatement":return`return ${h(t.argument)}`;case"BinaryExpression":return`(${h(t.left)}${t.operator}${h(t.right)})`;case"UnaryExpression":return t.prefix?`${t.operator} ${h(t.argument)}`:`${h(t.argument)} ${t.operator}`;case"ExpressionStatement":return`${h(t.expression)}`;case"SequenceExpression":return`(${h(t.expressions)})`;case"ArrowFunctionExpression":return`(${t.params.map(h).join(", ")}) => ${h(t.body)}`;case"Literal":return t.raw;case"Identifier":return t.name;case"MemberExpression":return"ThisExpression"===t.object.type?i(t.property.name):t.computed?`${h(t.object)}[${h(t.property)}]`:h(t.object)+"."+h(t.property);case"ThisExpression":return"this";case"NewExpression":return`new ${h(t.callee)}(${t.arguments.map((t=>h(t))).join(", ")})`;case"ForStatement":return`for (${h(t.init)};${h(t.test)};${h(t.update)}) ${h(t.body)}`;case"AssignmentExpression":return`${h(t.left)}${t.operator}${h(t.right)}`;case"UpdateExpression":return`${h(t.argument)}${t.operator}`;case"IfStatement":return`if (${h(t.test)}) ${h(t.consequent)}`;case"ThrowStatement":return`throw ${h(t.argument)}`;case"ObjectPattern":return t.properties.map(h).join(", ");case"ArrayPattern":return t.elements.map(h).join(", ");case"DebuggerStatement":return"debugger;";case"ConditionalExpression":return`${h(t.test)}?${h(t.consequent)}:${h(t.alternate)}`;case"Property":if("init"===t.kind)return h(t.key)}throw new Error(`unhandled ast.type of ${t.type}`)}const p=h(o);if(u.length>0){const t=[];for(let n=0;n<u.length;n++){const r=u[n];a[r]||(a[r]=!0),r&&t.push(l.flattenFunctionToString(r,e)+"\n")}return t.join("")+p}return p},normalizeDeclarations:t=>{if("VariableDeclaration"!==t.type)throw new Error('Ast is not of type "VariableDeclaration"');const e=[];for(let n=0;n<t.declarations.length;n++){const r=t.declarations[n];if(r.id&&"ObjectPattern"===r.id.type&&r.id.properties){const{properties:t}=r.id;for(let n=0;n<t.length;n++){const i=t[n];if("ObjectPattern"===i.value.type&&i.value.properties)for(let t=0;t<i.value.properties.length;t++){const n=i.value.properties[t];if("Property"!==n.type)throw new Error("unexpected state");e.push({type:"VariableDeclarator",id:{type:"Identifier",name:n.key.name},init:{type:"MemberExpression",object:{type:"MemberExpression",object:r.init,property:{type:"Identifier",name:i.key.name},computed:!1},property:{type:"Identifier",name:n.key.name},computed:!1}})}else{if("Identifier"!==i.value.type)throw new Error("unexpected state");e.push({type:"VariableDeclarator",id:{type:"Identifier",name:i.value&&i.value.name?i.value.name:i.key.name},init:{type:"MemberExpression",object:r.init,property:{type:"Identifier",name:i.key.name},computed:!1}})}}}else if(r.id&&"ArrayPattern"===r.id.type&&r.id.elements){const{elements:t}=r.id;for(let n=0;n<t.length;n++){const i=t[n];if("Identifier"!==i.type)throw new Error("unexpected state");e.push({type:"VariableDeclarator",id:{type:"Identifier",name:i.name},init:{type:"MemberExpression",object:r.init,property:{type:"Literal",value:n,raw:n.toString(),start:i.start,end:i.end},computed:!0}})}}else e.push(r)}return e},splitHTMLImageToRGB:(t,e)=>{const n=t.createKernel((function(t){return 255*t[this.thread.y][this.thread.x].r}),{output:[e.width,e.height],precision:"unsigned",argumentTypes:{a:"HTMLImage"}}),r=t.createKernel((function(t){return 255*t[this.thread.y][this.thread.x].g}),{output:[e.width,e.height],precision:"unsigned",argumentTypes:{a:"HTMLImage"}}),i=t.createKernel((function(t){return 255*t[this.thread.y][this.thread.x].b}),{output:[e.width,e.height],precision:"unsigned",argumentTypes:{a:"HTMLImage"}}),s=t.createKernel((function(t){return 255*t[this.thread.y][this.thread.x].a}),{output:[e.width,e.height],precision:"unsigned",argumentTypes:{a:"HTMLImage"}}),a=[n(e),r(e),i(e),s(e)];return a.rKernel=n,a.gKernel=r,a.bKernel=i,a.aKernel=s,a.gpu=t,a},splitRGBAToCanvases:(t,e,n,r)=>{const i=t.createKernel((function(t){const e=t[this.thread.y][this.thread.x];this.color(e.r/255,0,0,255)}),{output:[n,r],graphical:!0,argumentTypes:{v:"Array2D(4)"}});i(e);const s=t.createKernel((function(t){const e=t[this.thread.y][this.thread.x];this.color(0,e.g/255,0,255)}),{output:[n,r],graphical:!0,argumentTypes:{v:"Array2D(4)"}});s(e);const a=t.createKernel((function(t){const e=t[this.thread.y][this.thread.x];this.color(0,0,e.b/255,255)}),{output:[n,r],graphical:!0,argumentTypes:{v:"Array2D(4)"}});a(e);const o=t.createKernel((function(t){const e=t[this.thread.y][this.thread.x];this.color(255,255,255,e.a/255)}),{output:[n,r],graphical:!0,argumentTypes:{v:"Array2D(4)"}});return o(e),[i.canvas,s.canvas,a.canvas,o.canvas]},getMinifySafeName:t=>{try{const e=r.parse(`const value = ${t.toString()}`),{init:n}=e.body[0].declarations[0];return n.body.name||n.body.body[0].argument.name}catch(e){throw new Error("Unrecognized function type.  Please use `() => yourFunctionVariableHere` or function() { return yourFunctionVariableHere; }")}},sanitizeName:function(t){return c.test(t)&&(t=t.replace(c,"S_S")),h.test(t)?t=t.replace(h,"U_U"):p.test(t)&&(t=t.replace(p,"u_u")),t}},c=/\$/,h=/__/,p=/_/,d=l.getSystemEndianness();e.exports={utils:l}},{"./input":110,"./texture":113,acorn:1}]},{},[107])(107)},t.exports=n()}));const x={toTable(t){const e=t.reduce(((t,e)=>Object.assign(t,e)),{});return x.toHash(e)},toTable2D(t){const e={};let n=0;for(let r=0;r<t.length;r++){const i=t[r];for(let t=0;t<i.length;t++){const r=i[t];for(const t in r)r.hasOwnProperty(t)&&!e.hasOwnProperty(t)&&(e[t]=n++)}}return e},toInputTable2D(t){const e={};let n=0;for(let r=0;r<t.length;r++){const i=t[r].input;for(let t=0;t<i.length;t++){const r=i[t];for(const t in r)r.hasOwnProperty(t)&&(e.hasOwnProperty(t)||(e[t]=n++))}}return e},toOutputTable2D(t){const e={};let n=0;for(let r=0;r<t.length;r++){const i=t[r].output;for(let t=0;t<i.length;t++){const r=i[t];for(const t in r)r.hasOwnProperty(t)&&(e.hasOwnProperty(t)||(e[t]=n++))}}return e},toHash(t){const e={};let n=0;const r=Object.keys(t);for(let i=0;i<r.length;i++)e[r[i]]=n++;return e},toArray(t,e,n){const r=new Float32Array(n);for(const i in t)t.hasOwnProperty(i)&&(r[t[i]]=e.hasOwnProperty(i)?e[i]:0);return r},toArrayShort(t,e){const n=[];for(const r in t)if(t.hasOwnProperty(r)){if(!e.hasOwnProperty(r))break;n[t[r]]=e[r]}return Float32Array.from(n)},toArrays(t,e,n){const r=[];for(let i=0;i<e.length;i++)r.push(this.toArray(t,e[i],n));return r},toObject(t,e){const n={};for(const r in t)t.hasOwnProperty(r)&&(n[r]=e[t[r]]);return n},toObjectPartial(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;const i={};let s=0;for(const a in t)t.hasOwnProperty(a)&&(n>0&&s++<n||r>0&&s++>=r||(i[a]=e[t[a]-n]));return i},dataShape(t){const e=[];let n,r;for(t.hasOwnProperty("input")?(e.push("datum"),n=t.input):Array.isArray(t)?t[0]&&t[0].input?(e.push("array","datum"),n=t[0].input):Array.isArray(t[0])?(e.push("array"),n=t[0]):n=t:n=t;n;)if(r=Object.keys(n)[0],Array.isArray(n)||"object"===typeof n.buffer){e.push("array");const t=n[parseInt(r)];if("number"===typeof t){e.push("number");break}n=t}else{if("object"!==typeof n||"object"===typeof n.buffer)throw new Error("unhandled signature");{e.push("object");const t=n[r];if("number"===typeof t){e.push("number");break}n=t}}return e},addKeys(t,e){if(Array.isArray(t))return e;let n=Object.keys(e).length;for(const r in t)t.hasOwnProperty(r)&&(e.hasOwnProperty(r)||(e[r]=n++));return e}};var v=g((function(t,e){var n=m&&m.__assign||function(){return n=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},n.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.thaw=e.Block=e.Thaw=void 0;var r=function(){function t(e,r){var i=this;void 0===r&&(r={});var s=n(n({},t.defaultSettings),r),a=s.each,o=s.done;this.i=0,this.isStopped=!1,this.items=e,this.options=r,this.tick=function(){if(!i.isStopped&&(i.timeout=setTimeout(i.tick,0),!t.thawing)){var e=i.items[i.i];if(i.i>=i.items.length)return null!==o&&(t.thawing=!0,o(),t.thawing=!1),i.isStopped=!0,void clearTimeout(i.timeout);null!==a?(t.thawing=!0,a(e,i.i),t.thawing=!1):void 0!==e&&e(),i.i++}},t.thaws.push(this),r.delay||this.tick()}return Object.defineProperty(t,"isThawing",{get:function(){return t.thawing},enumerable:!1,configurable:!0}),t.stopAll=function(){for(var e=0;e<t.thaws.length;e++)t.thaws[e].stop()},t.prototype.makeReady=function(){return!!this.isStopped&&(this.isStopped=!1,!0)},t.prototype.add=function(t){return this.items.push(t),this.makeReady()&&this.tick(),this},t.prototype.insert=function(t){return this.items.splice(this.i,0,t),this.makeReady()&&this.tick(),this},t.prototype.addArray=function(t){return this.items=this.items.concat(t),this.makeReady()&&this.tick(),this},t.prototype.insertArray=function(t){var e=this.items.splice(0,this.i),n=this.items;return this.items=e.concat(t,n),this.makeReady()&&this.tick(),this},t.prototype.stop=function(){return this.isStopped=!0,clearTimeout(this.timeout),this.options.done&&this.options.done(),this},t.thawing=!1,t.thaws=[],t.defaultSettings={each:null,done:null},t}();function i(t,e){return new r(t,e)}e.Thaw=r,e.thaw=i;var s=function(){function t(t,e){void 0===e&&(e=200),this.index=0,this.thaws=[],this.count=e,this.options=t}return t.prototype.add=function(t){return this.next().add(t),this},t.prototype.addArray=function(t){return this.next().addArray(t),this},t.prototype.insert=function(t){return this.next().insert(t),this},t.prototype.insertArray=function(t){return this.next().insertArray(t),this},t.prototype.stop=function(){for(var t=0;t<this.thaws.length;t++)this.thaws[t].stop();return this},t.prototype.next=function(){var t,e=this.thaws;return e.length<this.count?(t=new r([],this.options),e.push(t)):t=e[this.index]||null,this.index++,this.index>=this.count&&(this.index=0),t},t}();e.Block=s,"undefined"!==typeof window&&(window.Thaw=r,window.thaw=i,window.Thaw.Block=s)}));function w(t){const e=[];for(let n=0;n<t.length;n++)e.push(Float32Array.from(t[n]));return e}function S(t,e){const n=[];for(let r=0;r<t.length;r++)n.push(Float32Array.from(t[r]));for(let r=0;r<e.length;r++)n.push(Float32Array.from(e[r]));return n}function k(t){const e=[];for(let n=0;n<t.length;n++)e.push(Float32Array.from([t[n]]));return e}function T(t,e){const n=[];for(let r=0;r<t.length;r++)n.push(Float32Array.from([t[r]]));for(let r=0;r<e.length;r++)n.push(Float32Array.from([e[r]]));return n}function A(t){return Float32Array.from(t)}function E(t,e,n,r,i,s){const a=[];for(let o=0;o<t.length;o++){const e=t[o],r=new Float32Array(i);for(const t in e)e.hasOwnProperty(t)&&(r[n[t]]=e[t]);a.push(r)}for(let o=0;o<e.length;o++){const t=e[o],n=new Float32Array(s);for(const e in t)t.hasOwnProperty(e)&&(n[r[e]]=t[e]);a.push(n)}return a}function _(t){const e=[];for(const n in t)t.hasOwnProperty(n)&&e.push(Float32Array.from([t[n]]));return e}function L(t,e){const n=[];for(const r in t)t.hasOwnProperty(r)&&n.push(Float32Array.from([t[r]]));for(const r in e)e.hasOwnProperty(r)&&n.push(Float32Array.from([e[r]]));return n}function C(t,e,n){const r=new Float32Array(n);for(const i in t)t.hasOwnProperty(i)&&(r[e[i]]=t[i]);return r}class I{constructor(t,e){this.prop=null,this.table={},this.length=0;const n=this.table;if(e){this.prop=e;for(let r=0;r<t.length;r++){const i=t[r][e];for(const t in i)i.hasOwnProperty(t)&&(n.hasOwnProperty(t)||(n[t]=this.length++))}}else if(Array.isArray(t)&&Array.isArray(t[0]))for(let r=0;r<t.length;r++){const e=t[r];for(let t=0;t<e.length;t++){const r=e[t];for(const t in r)r.hasOwnProperty(t)&&(n.hasOwnProperty(t)||(n[t]=this.length++))}}else for(let r=0;r<t.length;r++){const e=t[r];for(const t in e)e.hasOwnProperty(t)&&(n.hasOwnProperty(t)||(n[t]=this.length++))}}}function $(t){return Array.isArray(t)||t instanceof Float32Array?Math.max(...t):Math.max(...Object.values(t))}function O(t){let e=0;for(let n=0;n<t.length;n++)e+=t[n]**2;return e/t.length}function R(){return.4*Math.random()-.2}function D(t,e){return Math.random()*(e-t)+t}function z(){if(z.returnV)return z.returnV=!1,z.vVal;const t=2*Math.random()-1,e=2*Math.random()-1,n=t*t+e*e;if(0===n||n>1)return z();const r=Math.sqrt(-2*Math.log(n)/n);return z.vVal=e*r,z.returnV=!0,t*r}function M(t,e){return Math.floor(Math.random()*(e-t)+t)}function P(t,e){return t+z()*e}z.returnV=!1,z.vVal=0;var N=Object.freeze({__proto__:null,randomFloat:D,gaussRandom:z,randomInteger:M,randomN:P});function F(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=new Float32Array(t);if(null===e)for(let r=0;r<t;r++)n[r]=R();else for(let r=0;r<t;r++)n[r]=D(-e,e);return n}function V(t,e,n){const r=new Array(e);for(let i=0;i<e;i++)r[i]=F(t,n);return r}function K(t,e,n,r){const i=new Array(n);for(let s=0;s<n;s++)i[s]=V(t,e,r);return i}function j(t){return new Float32Array(t)}function B(t,e){if(t.buffer instanceof ArrayBuffer)return null;if(Array.isArray(t))return A;if(!e)throw new Error("table is not Object");const{length:n}=Object.keys(e);return t=>{const r=new Float32Array(n);for(const n in e)e.hasOwnProperty(n)&&"number"===typeof t[n]&&(r[e[n]]=t[n]||0);return r}}function U(){return{inputSize:0,outputSize:0,binaryThresh:.5}}function G(){return{activation:"sigmoid",iterations:2e4,errorThresh:.005,log:!1,logPeriod:10,leakyReluAlpha:.01,learningRate:.3,momentum:.1,callbackPeriod:10,timeout:1/0,beta1:.9,beta2:.999,epsilon:1e-8}}class W{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.options=U(),this.trainOpts=G(),this.sizes=[],this.outputLayer=-1,this.biases=[],this.weights=[],this.outputs=[],this.deltas=[],this.changes=[],this.errors=[],this.errorCheckInterval=1,this.inputLookup=null,this.inputLookupLength=0,this.outputLookup=null,this.outputLookupLength=0,this._formatInput=null,this._formatOutput=null,this.runInput=t=>(this.setActivation(),this.runInput(t)),this.calculateDeltas=t=>(this.setActivation(),this.calculateDeltas(t)),this.biasChangesLow=[],this.biasChangesHigh=[],this.changesLow=[],this.changesHigh=[],this.iterations=0,this.options={...this.options,...t},this.updateTrainingOptions(t);const{inputSize:e,hiddenLayers:n,outputSize:r}=this.options;e&&r&&(this.sizes=[e].concat(null!==n&&void 0!==n?n:[]).concat([r]))}initialize(){if(!this.sizes.length)throw new Error("Sizes must be set before initializing");this.outputLayer=this.sizes.length-1,this.biases=new Array(this.outputLayer),this.weights=new Array(this.outputLayer),this.outputs=new Array(this.outputLayer),this.deltas=new Array(this.outputLayer),this.changes=new Array(this.outputLayer),this.errors=new Array(this.outputLayer);for(let t=0;t<=this.outputLayer;t++){const e=this.sizes[t];if(this.deltas[t]=j(e),this.errors[t]=j(e),this.outputs[t]=j(e),t>0){this.biases[t]=F(e),this.weights[t]=new Array(e),this.changes[t]=new Array(e);for(let n=0;n<e;n++){const e=this.sizes[t-1];this.weights[t][n]=F(e),this.changes[t][n]=j(e)}}}this.setActivation(),"adam"===this.trainOpts.praxis&&this._setupAdam()}setActivation(t){const e=null!==t&&void 0!==t?t:this.trainOpts.activation;switch(e){case"sigmoid":this.runInput=this._runInputSigmoid,this.calculateDeltas=this._calculateDeltasSigmoid;break;case"relu":this.runInput=this._runInputRelu,this.calculateDeltas=this._calculateDeltasRelu;break;case"leaky-relu":this.runInput=this._runInputLeakyRelu,this.calculateDeltas=this._calculateDeltasLeakyRelu;break;case"tanh":this.runInput=this._runInputTanh,this.calculateDeltas=this._calculateDeltasTanh;break;default:throw new Error(`Unknown activation ${e}. Available activations are: 'sigmoid', 'relu', 'leaky-relu', 'tanh'`)}}get isRunnable(){return this.sizes.length>0}run(t){if(!this.isRunnable)throw new Error("network not runnable");let e;e=this.inputLookup?x.toArray(this.inputLookup,t,this.inputLookupLength):t,this.validateInput(e);const n=this.runInput(e).slice(0);return this.outputLookup?x.toObject(this.outputLookup,n):n}_runInputSigmoid(t){this.outputs[0]=t;let e=null;for(let n=1;n<=this.outputLayer;n++){const r=this.sizes[n],i=this.weights[n],s=this.biases[n],a=this.outputs[n];for(let e=0;e<r;e++){const n=i[e];let r=s[e];for(let e=0;e<n.length;e++)r+=n[e]*t[e];a[e]=1/(1+Math.exp(-r))}e=t=a}if(!e)throw new Error("output was empty");return e}_runInputRelu(t){this.outputs[0]=t;let e=null;for(let n=1;n<=this.outputLayer;n++){const r=this.sizes[n],i=this.weights[n],s=this.biases[n],a=this.outputs[n];for(let e=0;e<r;e++){const n=i[e];let r=s[e];for(let e=0;e<n.length;e++)r+=n[e]*t[e];a[e]=r<0?0:r}e=t=a}if(!e)throw new Error("output was empty");return e}_runInputLeakyRelu(t){this.outputs[0]=t;const{leakyReluAlpha:e}=this.trainOpts;let n=null;for(let r=1;r<=this.outputLayer;r++){const i=this.sizes[r],s=this.weights[r],a=this.biases[r],o=this.outputs[r];for(let n=0;n<i;n++){const r=s[n];let i=a[n];for(let e=0;e<r.length;e++)i+=r[e]*t[e];o[n]=Math.max(i,e*i)}n=t=o}if(!n)throw new Error("output was empty");return n}_runInputTanh(t){this.outputs[0]=t;let e=null;for(let n=1;n<=this.outputLayer;n++){const r=this.sizes[n],i=this.weights[n],s=this.biases[n],a=this.outputs[n];for(let e=0;e<r;e++){const n=i[e];let r=s[e];for(let e=0;e<n.length;e++)r+=n[e]*t[e];a[e]=Math.tanh(r)}e=t=a}if(!e)throw new Error("output was empty");return e}verifyIsInitialized(t){this.sizes.length&&this.outputLayer>0||(this.sizes=[],this.sizes.push(t[0].input.length),this.options.hiddenLayers?this.options.hiddenLayers.forEach((t=>{this.sizes.push(t)})):this.sizes.push(Math.max(3,Math.floor(t[0].input.length/2))),this.sizes.push(t[0].output.length),this.initialize())}updateTrainingOptions(t){const e={...this.trainOpts,...t};this.validateTrainingOptions(e),this.trainOpts=e,this.setLogMethod(this.trainOpts.log)}validateTrainingOptions(t){const e={activation:()=>["sigmoid","relu","leaky-relu","tanh"].includes(t.activation),iterations:()=>{const e=t.iterations;return"number"===typeof e&&e>0},errorThresh:()=>{const e=t.errorThresh;return"number"===typeof e&&e>0&&e<1},log:()=>{const e=t.log;return"function"===typeof e||"boolean"===typeof e},logPeriod:()=>{const e=t.logPeriod;return"number"===typeof e&&e>0},leakyReluAlpha:()=>{const e=t.leakyReluAlpha;return"number"===typeof e&&e>0&&e<1},learningRate:()=>{const e=t.learningRate;return"number"===typeof e&&e>0&&e<1},momentum:()=>{const e=t.momentum;return"number"===typeof e&&e>0&&e<1},callback:()=>{const e=t.callback;return"function"===typeof e||void 0===e},callbackPeriod:()=>{const e=t.callbackPeriod;return"number"===typeof e&&e>0},timeout:()=>{const e=t.timeout;return"number"===typeof e&&e>0},praxis:()=>{const e=t.praxis;return!e||"adam"===e},beta1:()=>{const e=t.beta1;return e>0&&e<1},beta2:()=>{const e=t.beta2;return e>0&&e<1},epsilon:()=>{const e=t.epsilon;return e>0&&e<1}};for(const n in e){const r=t;if(!e[n]())throw new Error(`[${n}, ${r[n]}] is out of normal training range, your network will probably not train.`)}}getTrainOptsJSON(){const{activation:t,iterations:e,errorThresh:n,log:r,logPeriod:i,leakyReluAlpha:s,learningRate:a,momentum:o,callbackPeriod:u,timeout:l,praxis:c,beta1:h,beta2:p,epsilon:d}=this.trainOpts;return{activation:t,iterations:e,errorThresh:n,log:"function"===typeof r||"boolean"===typeof r&&r,logPeriod:i,leakyReluAlpha:s,learningRate:a,momentum:o,callbackPeriod:u,timeout:l===1/0?"Infinity":l,praxis:c,beta1:h,beta2:p,epsilon:d}}setLogMethod(t){this.trainOpts.log="function"===typeof t?t:!!t&&this.logTrainingStatus}logTrainingStatus(t){console.log(`iterations: ${t.iterations}, training error: ${t.error}`)}calculateTrainingError(t){let e=0;for(let n=0;n<t.length;++n)e+=this.trainPattern(t[n],!0);return e/t.length}trainPatterns(t){for(let e=0;e<t.length;++e)this.trainPattern(t[e])}trainingTick(t,e,n){const{callback:r,callbackPeriod:i,errorThresh:s,iterations:a,log:o,logPeriod:u}=this.trainOpts;return!(e.iterations>=a||e.error<=s||Date.now()>=n)&&(e.iterations++,o&&e.iterations%u===0?(e.error=this.calculateTrainingError(t),o(e)):e.iterations%this.errorCheckInterval===0?e.error=this.calculateTrainingError(t):this.trainPatterns(t),r&&e.iterations%i===0&&r({iterations:e.iterations,error:e.error}),!0)}prepTraining(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.updateTrainingOptions(e);const n=this.formatData(t),r=Date.now()+this.trainOpts.timeout,i={error:1,iterations:0};return this.verifyIsInitialized(n),this.validateData(n),{preparedData:n,status:i,endTime:r}}train(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{preparedData:n,status:r,endTime:i}=this.prepTraining(t,e);for(;this.trainingTick(n,r,i););return r}async trainAsync(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{preparedData:n,status:r,endTime:i}=this.prepTraining(t,e);return await new Promise(((t,e)=>{try{const e=new v.Thaw(new Array(this.trainOpts.iterations),{delay:!0,each:()=>this.trainingTick(n,r,i)||e.stop(),done:()=>t(r)});e.tick()}catch(s){e(s)}}))}trainPattern(t,e){return this.runInput(t.input),this.calculateDeltas(t.output),this.adjustWeights(),e?O(this.errors[this.outputLayer]):null}_calculateDeltasSigmoid(t){for(let e=this.outputLayer;e>=0;e--){const n=this.sizes[e],r=this.outputs[e],i=this.errors[e],s=this.deltas[e],a=this.weights[e+1];for(let o=0;o<n;o++){const n=r[o];let u=0;if(e===this.outputLayer)u=t[o]-n;else{const t=this.deltas[e+1];for(let e=0;e<t.length;e++)u+=t[e]*a[e][o]}i[o]=u,s[o]=u*n*(1-n)}}}_calculateDeltasRelu(t){for(let e=this.outputLayer;e>=0;e--){const n=this.sizes[e],r=this.outputs[e],i=this.weights[e+1],s=this.deltas[e+1],a=this.errors[e],o=this.deltas[e];for(let u=0;u<n;u++){const n=r[u];let l=0;if(e===this.outputLayer)l=t[u]-n;else for(let t=0;t<s.length;t++)l+=s[t]*i[t][u];a[u]=l,o[u]=n>0?l:0}}}_calculateDeltasLeakyRelu(t){const e=this.trainOpts.leakyReluAlpha;for(let n=this.outputLayer;n>=0;n--){const r=this.sizes[n],i=this.outputs[n],s=this.deltas[n+1],a=this.weights[n+1],o=this.errors[n],u=this.deltas[n];for(let l=0;l<r;l++){const r=i[l];let c=0;if(n===this.outputLayer)c=t[l]-r;else for(let t=0;t<s.length;t++)c+=s[t]*a[t][l];o[l]=c,u[l]=r>0?c:e*c}}}_calculateDeltasTanh(t){for(let e=this.outputLayer;e>=0;e--){const n=this.sizes[e],r=this.outputs[e],i=this.deltas[e+1],s=this.weights[e+1],a=this.errors[e],o=this.deltas[e];for(let u=0;u<n;u++){const n=r[u];let l=0;if(e===this.outputLayer)l=t[u]-n;else for(let t=0;t<i.length;t++)l+=i[t]*s[t][u];a[u]=l,o[u]=(1-n*n)*l}}}adjustWeights(){const{learningRate:t,momentum:e}=this.trainOpts;for(let n=1;n<=this.outputLayer;n++){const r=this.outputs[n-1],i=this.sizes[n],s=this.deltas[n],a=this.changes[n],o=this.weights[n],u=this.biases[n];for(let n=0;n<i;n++){const i=s[n];for(let s=0;s<r.length;s++){let u=a[n][s];u=t*i*r[s]+e*u,a[n][s]=u,o[n][s]+=u}u[n]+=t*i}}}_setupAdam(){this.biasChangesLow=[],this.biasChangesHigh=[],this.changesLow=[],this.changesHigh=[],this.iterations=0;for(let t=0;t<=this.outputLayer;t++){const e=this.sizes[t];if(t>0){this.biasChangesLow[t]=j(e),this.biasChangesHigh[t]=j(e),this.changesLow[t]=new Array(e),this.changesHigh[t]=new Array(e);for(let n=0;n<e;n++){const e=this.sizes[t-1];this.changesLow[t][n]=j(e),this.changesHigh[t][n]=j(e)}}}this.adjustWeights=this._adjustWeightsAdam}_adjustWeightsAdam(){this.iterations++;const{iterations:t}=this,{beta1:e,beta2:n,epsilon:r,learningRate:i}=this.trainOpts;for(let s=1;s<=this.outputLayer;s++){const a=this.outputs[s-1],o=this.sizes[s],u=this.deltas[s],l=this.changesLow[s],c=this.changesHigh[s],h=this.weights[s],p=this.biases[s],d=this.biasChangesLow[s],f=this.biasChangesHigh[s];for(let s=0;s<o;s++){const o=u[s];for(let u=0;u<a.length;u++){const p=o*a[u],d=l[s][u]*e+(1-e)*p,f=c[s][u]*n+(1-n)*p*p,m=d/(1-Math.pow(e,t)),g=f/(1-Math.pow(n,t));l[s][u]=d,c[s][u]=f,h[s][u]+=i*m/(Math.sqrt(g)+r)}const m=u[s],g=d[s]*e+(1-e)*m,y=f[s]*n+(1-n)*m*m,b=d[s]/(1-Math.pow(e,t)),x=f[s]/(1-Math.pow(n,t));d[s]=g,f[s]=y,p[s]+=i*b/(Math.sqrt(x)+r)}}}validateData(t){const e=this.sizes[0],n=this.sizes[this.sizes.length-1],{length:r}=t;for(let i=0;i<r;i++){const{input:r,output:s}=t[i];if(r.length!==e)throw new Error(`input at index ${i} length ${r.length} must be ${e}`);if(t[i].output.length!==n)throw new Error(`output at index ${i} length ${s.length} must be ${n}`)}}validateInput(t){const e=this.sizes[0];if(t.length!==e)throw new Error(`input length ${t.length} must match options.inputSize of ${e}`)}formatData(t){if(!Array.isArray(t[0].input))if(this.inputLookup)this.inputLookupLength=Object.keys(this.inputLookup).length;else{const e=new I(t,"input");this.inputLookup=e.table,this.inputLookupLength=e.length}if(!Array.isArray(t[0].output))if(this.outputLookup)this.outputLookupLength=Object.keys(this.outputLookup).length;else{const e=new I(t,"output");this.outputLookup=e.table,this.outputLookupLength=e.length}if(this._formatInput||(this._formatInput=B(t[0].input,this.inputLookup)),this._formatOutput||(this._formatOutput=B(t[0].output,this.outputLookup)),this._formatInput&&this._formatOutput){const e=[];for(let n=0;n<t.length;n++)e.push({input:this._formatInput(t[n].input),output:this._formatOutput(t[n].output)});return e}if(this._formatInput){const e=[];for(let n=0;n<t.length;n++)e.push({input:this._formatInput(t[n].input),output:t[n].output});return e}if(this._formatOutput){const e=[];for(let n=0;n<t.length;n++)e.push({input:t[n].input,output:this._formatOutput(t[n].output)});return e}return t}addFormat(t){var e,n;Array.isArray(t.input)&&"number"===typeof t.input[0]||(this.inputLookup=x.addKeys(t.input,null!==(e=this.inputLookup)&&void 0!==e?e:{}),this.inputLookup&&(this.inputLookupLength=Object.keys(this.inputLookup).length)),Array.isArray(t.output)&&"number"===typeof t.output[0]||(this.outputLookup=x.addKeys(t.output,null!==(n=this.outputLookup)&&void 0!==n?n:{}),this.outputLookup&&(this.outputLookupLength=Object.keys(this.outputLookup).length))}test(t){const{preparedData:e}=this.prepTraining(t),n=[];let r=0;if(1===e[0].output.length){let t=0,i=0,s=0,a=0;for(let o=0;o<e.length;o++){const u=this.runInput(e[o].input),l=e[o].output,c=u[0]>this.options.binaryThresh?1:0,h=l[0];if(c!==h){const t=e[o];n.push({input:t.input,output:t.output,actual:c,expected:h})}0===c&&0===h?a++:1===c&&1===h?s++:0===c&&1===h?i++:1===c&&0===h&&t++,r+=O(u.map(((t,e)=>l[e]-t)))}return{error:r/e.length,misclasses:n,total:e.length,trueNeg:a,truePos:s,falseNeg:i,falsePos:t,precision:s>0?s/(s+t):0,recall:s>0?s/(s+i):0,accuracy:(a+s)/e.length}}for(let i=0;i<e.length;i++){const t=this.runInput(e[i].input),s=e[i].output,a=t.indexOf($(t)),o=s.indexOf($(s));if(a!==o){const t=e[i];n.push({input:t.input,output:t.output,actual:a,expected:o})}r+=O(t.map(((t,e)=>s[e]-t)))}return{error:r/e.length,misclasses:n,total:e.length}}toJSON(){var t,e;this.isRunnable||this.initialize();const n=this.weights.map((t=>t.map((t=>Array.from(t))))),r=this.biases.map((t=>Array.from(t))),i=[],s=this.sizes.length-1;for(let a=0;a<=s;a++)i.push({weights:null!==(t=n[a])&&void 0!==t?t:[],biases:null!==(e=r[a])&&void 0!==e?e:[]});return{type:"NeuralNetwork",sizes:[...this.sizes],layers:i,inputLookup:this.inputLookup?{...this.inputLookup}:null,inputLookupLength:this.inputLookupLength,outputLookup:this.outputLookup?{...this.outputLookup}:null,outputLookupLength:this.outputLookupLength,options:{...this.options},trainOpts:this.getTrainOptsJSON()}}fromJSON(t){if(this.options={...U(),...t.options},t.hasOwnProperty("trainOpts")){const e={...t.trainOpts,timeout:"Infinity"===t.trainOpts.timeout?1/0:t.trainOpts.timeout};this.updateTrainingOptions(e)}this.sizes=t.sizes,this.initialize(),this.inputLookup=t.inputLookup?{...t.inputLookup}:null,this.inputLookupLength=t.inputLookupLength,this.outputLookup=t.outputLookup?{...t.outputLookup}:null,this.outputLookupLength=t.outputLookupLength;const e=t.layers,n=this.weights.map(((t,n)=>e[n].weights.map((t=>Float32Array.from(t))))),r=this.biases.map(((t,n)=>Float32Array.from(e[n].biases)));for(let i=0;i<=this.outputLayer;i++)this.weights[i]=n[i]||[],this.biases[i]=r[i]||[];return this}toFunction(t){const{activation:e,leakyReluAlpha:n}=this.trainOpts;let r=!1;const i=(t,s)=>{if(0===t)return`(input[${s}]||0)`;const a=this.weights[t][s],o=this.biases[t][s];if(!a)throw new Error(`weights at layerIndex ${t} & nodeIndex ${s} not found`);if(!o)throw new Error(`bias as layerIndex ${t} & nodeIndex ${s} not found`);const u=[];a.forEach(((e,n)=>{e<0?u.push(`${e}*${i(t-1,n)}`):u.push(`+${e}*${i(t-1,n)}`)}));const l=`(${o.toString()}${u.join("")})`;switch(e){case"sigmoid":return`1/(1+1/Math.exp(${l}))`;case"relu":return r=!0,`((v=${l})<0?0:v)`;case"leaky-relu":return r=!0,`Math.max((v=${l}),${n}*v)`;case"tanh":return`Math.tanh(${l})`;default:throw new Error(`Unknown activation ${e}. Available activations are: 'sigmoid', 'relu', 'leaky-relu', 'tanh'`)}};function s(t){if(t.find((t=>t.includes('"'))))throw new Error("key contains '\"', which is not compatible")}const a=[];let o,u="";if(this.inputLookup&&(s(Object.keys(this.inputLookup)),u=`input = new Float32Array([${Object.keys(this.inputLookup).map((t=>`input["${t}"]`)).join(",")}]);`),this.sizes.length<1)throw new Error("No layers");for(let c=0;c<this.sizes[this.outputLayer];c++)a.push(i(this.outputLayer,c));if(this.outputLookup){const t=Object.keys(this.outputLookup);s(t),o=`{${t.map(((t,e)=>`"${t}":${a[e]}`)).join(",")}}`}else o=`[${a.join(",")}]`;const l=`${u}${r?"var v;":""}return ${o};`;return new Function("input",t?t(l):l)}}let H=null;function X(t){H=t}function q(t,e){let n=H;return null===n&&(n=new b.GPU({mode:"gpu"}),X(n)),n.createKernel(t,e).setPipeline(!0)}function Y(t,e,n){let r=H;return null===r&&(r=new b.GPU({mode:"gpu"}),X(r)),r.createKernelMap(t,e,n).setPipeline(!0)}function J(t,e){return new b.Input(t,e)}function Q(t){t instanceof b.Texture&&t.delete()}function Z(t){if(t instanceof b.Texture)t.clear();else{if(Array.isArray(t))if("number"===typeof t[0])t.fill(0);else{if("number"===typeof t[0][0]){for(let e=0;e<t.length;e++)t[e].fill(0);return}if("number"===typeof t[0][0][0]){for(let e=0;e<t.length;e++){const n=t[e];for(let t=0;t<n.length;t++)n[t].fill(0)}return}}if(!(t instanceof Float32Array))throw new Error("unhandled value");t.fill(0)}}function tt(t){if(t instanceof b.Texture)return t.clone();if(t instanceof Float32Array)return t.slice(0);if(Array.isArray(t)){if("number"===typeof t[0])return t.slice(0);if("number"===typeof t[0][0]){const e=new Array(t.length);for(let n=0;n<t.length;n++)e[n]=t[n].slice(0);return e}if("number"===typeof t[0][0][0]){const e=new Array(t.length);for(let n=0;n<t.length;n++){const e=t[n],r=new Array(e.length);for(let t=0;t<e.length;t++)r[t]=e[t].slice(0)}return e}}throw new Error("unhandled value")}function et(t,e,n){let r=e[this.thread.x];for(let i=0;i<this.constants.size;i++)r+=t[this.thread.x][i]*n[i];return 1/(1+Math.exp(-r))}function nt(t,e,n){let r=e[this.thread.x];for(let i=0;i<this.constants.size;i++)r+=t[this.thread.x][i]*n[i];return r<0?0:r}function rt(t,e,n){let r=e[this.thread.x];for(let i=0;i<this.constants.size;i++)r+=t[this.thread.x][i]*n[i];return r<0?0:.01*r}function it(t,e,n){let r=e[this.thread.x];for(let i=0;i<this.constants.size;i++)r+=t[this.thread.x][i]*n[i];return Math.tanh(r)}function st(t,e){return e-t}function at(t,e){return t*e*(1-e)}function ot(t,e){return e>0?t:0}function ut(t,e){return e>0?t:.01*t}function lt(t,e){return(1-e*e)*t}function ct(t,e,n,r){let i=0;for(let s=0;s<e;s++)i+=r[s]*n[s][t];return i}function ht(t,e,n,r,i){return t*r*i+e*n}function pt(t,e){return t+e}function dt(t,e){return t[this.thread.x]+e[this.thread.x]*this.constants.learningRate}function ft(t){let e=0;for(let n=0;n<this.constants.size;n++)e+=t[n]**2;return e/this.constants.size}class mt extends W{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(t),this.texturizeInputData=()=>{throw new Error("not yet setup")},this.forwardPropagate=[],this.backwardPropagate=[],this.changesPropagate=[],this.biasesPropagate=[],this.getMSE=()=>{throw new Error("not yet setup")},this._addMSE=()=>{throw new Error("not yet setup")},this._divideMSESum=()=>{throw new Error("not yet setup")},this.outputs=[],this.deltas=[],this.errors=[],this.weights=[],this.changes=[],this.biases=[],this.runInput=t=>{let e;this.outputs[0]=t;for(let n=1;n<=this.outputLayer;n++)Q(this.outputs[n]),this.outputs[n]=this.forwardPropagate[n](this.weights[n],this.biases[n],t),e=t=this.outputs[n];return e},this.calculateDeltas=t=>{for(let e=this.outputLayer;e>0;e--){let n;Q(this.deltas[e]),Q(this.errors[e]),n=e===this.outputLayer?this.backwardPropagate[e](this.outputs[e],t):this.backwardPropagate[e](this.weights[e+1],this.outputs[e],this.deltas[e+1]),this.deltas[e]=n.result,this.errors[e]=n.error}},this.errorCheckInterval=100,this.gpu=new b.GPU({mode:t.mode})}initialize(){super.initialize(),this.buildRunInput(),this.buildCalculateDeltas(),this.buildGetChanges(),this.buildChangeBiases(),this.buildGetMSE()}setActivation(){}trainPattern(t,e){return this.runInput(t.input),this.calculateDeltas(t.output),this.adjustWeights(),e?this.getMSE(this.errors[this.outputLayer]):null}calculateTrainingError(t){let e=new Float32Array([0]);for(let r=0;r<t.length;++r){const n=e,i=this.trainPattern(t[r],!0);e=this._addMSE(e,i),Q(i),Q(n)}const n=this._divideMSESum(t.length,e);return Q(e),(n instanceof b.Texture?n.toArray():n)[0]}adjustWeights(){this.getChanges(),this.changeBiases()}buildRunInput(){let t=null;switch(this.trainOpts.activation){case"sigmoid":t=et;break;case"relu":t=nt;break;case"leaky-relu":t=rt;break;case"tanh":t=it;break;default:throw new Error(`Unknown activation ${this.trainOpts.activation}. Available activations are: 'sigmoid', 'relu', 'leaky-relu', 'tanh'`)}for(let e=1;e<=this.outputLayer;e++)this.forwardPropagate[e]=this.gpu.createKernel(t,{output:[this.sizes[e]],pipeline:!0,constants:{size:this.sizes[e-1]},immutable:!0});this.texturizeInputData=this.gpu.createKernel((function(t){return t[this.thread.x]}),{output:[this.sizes[1]],pipeline:!0,immutable:!0})}buildCalculateDeltas(){let t;switch(this.trainOpts.activation){case"sigmoid":t=at;break;case"relu":t=ot;break;case"leaky-relu":t=ut;break;case"tanh":t=lt;break;default:throw new Error(`Unknown activation ${this.trainOpts.activation}. Available activations are: 'sigmoid', 'relu', 'leaky-relu', 'tanh'`)}t=b.alias(b.utils.getMinifySafeName((()=>t)),t),this.gpu.addFunction(t);for(let e=this.outputLayer;e>0;e--)e===this.outputLayer?this.backwardPropagate[this.outputLayer]=this.gpu.createKernelMap({error:st},(function(e,n){const r=e[this.thread.x],i=n[this.thread.x];return t(st(r,i),r)}),{output:[this.sizes[this.outputLayer]],pipeline:!0,immutable:!0}):this.backwardPropagate[e]=this.gpu.createKernelMap({error:ct},(function(e,n,r){const i=n[this.thread.x];return t(ct(this.thread.x,this.constants.size,e,r),i)}),{output:[this.sizes[e]],pipeline:!0,constants:{size:this.sizes[e+1]},immutable:!0})}buildGetChanges(){for(let t=1;t<=this.outputLayer;t++)this.changesPropagate[t]=this.gpu.createKernelMap({weights:pt,changes:ht},(function(t,e,n,r){return pt(ht(this.constants.learningRate,this.constants.momentum,r[this.thread.y][this.thread.x],e[this.thread.y],t[this.thread.x]),n[this.thread.y][this.thread.x])}),{output:[this.sizes[t-1],this.sizes[t]],pipeline:!0,constants:{size:this.sizes[t-1],learningRate:this.trainOpts.learningRate,momentum:this.trainOpts.momentum},immutable:!0})}getChanges(){for(let t=1;t<=this.outputLayer;t++){const e=this.weights[t],n=this.changes[t],r=this.changesPropagate[t](this.outputs[t-1],this.deltas[t],e,n);Q(e),Q(n),this.weights[t]=r.weights,this.changes[t]=r.changes,Q(r.result)}}buildChangeBiases(){for(let t=1;t<=this.outputLayer;t++)this.biasesPropagate[t]=this.gpu.createKernel(dt,{output:[this.sizes[t]],pipeline:!0,constants:{learningRate:this.trainOpts.learningRate},immutable:!0})}changeBiases(){for(let t=1;t<=this.outputLayer;t++){const e=this.biases[t];this.biases[t]=this.biasesPropagate[t](e,this.deltas[t]),Q(e)}}buildGetMSE(){this.getMSE=this.gpu.createKernel(ft,{output:[1],constants:{size:this.sizes[this.outputLayer]},pipeline:!0,immutable:!0}),this._addMSE=this.gpu.createKernel((function(t,e){return t[0]+e[0]}),{output:[1],pipeline:!0,immutable:!0}),this._divideMSESum=this.gpu.createKernel((function(t,e){const n=e[0];return n>0?n/t:0}),{output:[1]})}run(t){if(!this.isRunnable)throw new Error("network not runnable");let e;e=this.inputLookup?x.toArray(this.inputLookup,t,this.inputLookupLength):t,this.validateInput(e);const n=this.runInput(e),r=n instanceof b.Texture?n.toArray():n;return this.outputLookup?x.toObject(this.outputLookup,r):r}prepTraining(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.updateTrainingOptions(e);const n=this.formatData(t),r=Date.now()+this.trainOpts.timeout,i={error:1,iterations:0};this.verifyIsInitialized(n);const s=this.gpu.createKernel((function(t){return t[this.thread.x]}),{output:[n[0].output.length],pipeline:!0,immutable:!0});return{preparedData:n.map((t=>({input:this.texturizeInputData(t.input),output:s(t.output)}))),status:i,endTime:r}}toFunction(){throw new Error(`${this.constructor.name}-toFunction is not yet implemented`)}toJSON(){var t,e;null===this.sizes&&this.initialize();const n=this.weights.map((t=>(t instanceof b.Texture?t.toArray():t).map((t=>Array.from(t))))),r=this.biases.map((t=>Array.from(t instanceof b.Texture?t.toArray():t))),i=[];for(let s=0;s<=this.outputLayer;s++)i.push({weights:null!==(t=n[s])&&void 0!==t?t:[],biases:null!==(e=r[s])&&void 0!==e?e:[]});return{type:"NeuralNetworkGPU",sizes:[...this.sizes],layers:i,inputLookup:this.inputLookup?{...this.inputLookup}:null,inputLookupLength:this.inputLookupLength,outputLookup:this.outputLookup?{...this.outputLookup}:null,outputLookupLength:this.outputLookupLength,options:{...this.options},trainOpts:this.getTrainOptsJSON()}}}class gt extends Error{constructor(t){super(`Cannot run a ${t.constructor.name} before it is trained.`)}}class yt{constructor(t){null!==t&&void 0!==t||(t={}),t.binaryThresh,t.hiddenLayers,t.decodedSize&&t.decodedSize,this.denoiser=new mt(t)}denoise(t){return this.denoiser.run(t)}decode(t){if(!this.decoder)throw new gt(this);return this.decoder.run(t)}encode(t){if(!this.denoiser)throw new gt(this);this.denoiser.run(t);let e=this.encodedLayer;return e=e instanceof b.Texture?e.toArray():e.slice(0),e}likelyIncludesAnomalies(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.2;var n;const r=[],i=this.denoise(t);for(let s=0;s<(null!==(n=t.length)&&void 0!==n?n:0);s++)r[s]=Math.abs(t[s]-i[s]);return r.reduce(((t,e)=>t+e))/t.length>e}train(t,e){const n=[];for(const i of t)n.push({input:i,output:i});const r=this.denoiser.train(n,e);return this.decoder=this.createDecoder(),r}createDecoder(){const t=this.denoiser.toJSON(),e=[],n=[];for(let r=this.encodedLayerIndex;r<this.denoiser.sizes.length;r++)e.push(t.layers[r]),n.push(t.sizes[r]);return t.layers=e,t.sizes=n,t.options.inputSize=t.sizes[0],(new mt).fromJSON(t)}get encodedLayer(){return this.denoiser.outputs[this.encodedLayerIndex]}get encodedLayerIndex(){return Math.round(.5*this.denoiser.outputs.length)-1}}class bt{constructor(t){this.json={avgs:{error:0,iterations:0,testTime:0,trainTime:0},stats:{total:0,testSize:0,trainSize:0},sets:[]},this.initClassifier=t}testPartition(t,e,n){const r=this.initClassifier(),i=Date.now(),s=r.train(e,t),a=Date.now(),o=r.test(n),u=Date.now();return{...o,trainTime:a-i,testTime:u-a,iterations:s.iterations,error:s.error,total:o.total,network:r.toJSON()}}shuffleArray(t){for(let e=t.length-1;e>0;e--){const n=Math.floor(Math.random()*(e+1)),r=t[e];t[e]=t[n],t[n]=r}return t}train(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4;if(t.length<n)throw new Error(`Training set size is too small for ${t.length} k folds of ${n}`);this.shuffleArray(t);const r=t.length/n,i={trainTime:0,testTime:0,iterations:0,error:0},s={total:0,testSize:0,trainSize:0},a={total:0,testSize:0,trainSize:0,truePos:0,trueNeg:0,falsePos:0,falseNeg:0,precision:0,recall:0,accuracy:0},o=[];let u=null;for(let l=0;l<n;l++){const n=t.slice(0),c=n.splice(l*r,r),h=n,p=this.testPartition(e,h,c);null===u&&(u=p.hasOwnProperty("falseNeg")&&p.hasOwnProperty("falsePos")&&p.hasOwnProperty("trueNeg")&&p.hasOwnProperty("truePos"),u&&Object.assign(s,a)),i.iterations+=p.iterations,i.testTime+=p.testTime,i.trainTime+=p.trainTime,i.error+=p.error,s.total+=p.total,bt.isBinaryStats(s)&&bt.isBinaryPartitionResults(p)&&(s.accuracy+=p.accuracy,s.falseNeg+=p.falseNeg,s.falsePos+=p.falsePos,s.precision+=p.precision,s.recall+=p.recall,s.trueNeg+=p.trueNeg,s.truePos+=p.truePos),o.push(p)}return i.error/=n,i.iterations/=n,i.testTime/=n,i.trainTime/=n,bt.isBinaryStats(s)&&(s.precision=s.truePos/(s.truePos+s.falsePos),s.recall=s.truePos/(s.truePos+s.falseNeg),s.accuracy=(s.trueNeg+s.truePos)/s.total),s.testSize=r,s.trainSize=t.length-r,this.json={avgs:i,stats:s,sets:o},this.json}toNeuralNetwork(){return this.fromJSON(this.json)}toJSON(){return this.json}fromJSON(t){const e=t.sets.reduce(((t,e)=>t.error<e.error?t:e));return this.initClassifier().fromJSON(e.network)}}function xt(t){let e=0;for(let n=0;n<this.constants.height;n++)for(let r=0;r<this.constants.width;r++)e+=t[n][r]**2;return e/this.constants.length}bt.isBinaryStats=t=>void 0!==t.accuracy,bt.isBinaryResults=t=>void 0!==t.stats.accuracy,bt.isBinaryPartitionResults=t=>void 0!==t.accuracy;class vt{constructor(t){let{width:e,height:n}=t;this.calculate=q(xt,{output:[1],constants:{width:e,height:n,length:e*n},immutable:!0}),this.addAbsolute=q((function(t,e){return t[0]+Math.abs(e[0][0])}),{output:[1],immutable:!0}),this.add=q((function(t,e){return t[0]+e[0]}),{output:[1],immutable:!0}),this.divide=q((function(t,e){const n=e[0];return n>0?n/t:0}),{output:[1],immutable:!0})}}const wt={width:1,height:1,depth:null,weights:null,deltas:null,praxis:null,praxisOpts:null,cleanupDeltas:!0};class St{constructor(t){this.praxis=null,this.predictKernel=null,this.compareKernel=null,this.settings=t?{...wt,...t}:{...wt},this.setupPraxis()}get width(){var t;return null!==(t=this.settings.width)&&void 0!==t?t:0}get height(){var t;return null!==(t=this.settings.height)&&void 0!==t?t:0}get depth(){var t;return null!==(t=this.settings.depth)&&void 0!==t?t:0}get weights(){return this.settings.weights}set weights(t){this.settings.weights=t,this.settings.cleanupDeltas&&this.deltas&&Z(this.deltas)}get deltas(){return this.settings.deltas}set deltas(t){this.settings.deltas=t}get id(){var t;return null!==(t=this.settings.id)&&void 0!==t?t:""}set id(t){this.settings.id=t}setupPraxis(){const{initPraxis:t,praxis:e,praxisOpts:n}=this.settings;this.praxis||(t?this.praxis=n?t(this,n):t(this):e&&(this.praxis=e))}validate(){if(Number.isNaN(this.height))throw new Error(`${this.constructor.name} layer height is not a number`);if(Number.isNaN(this.width))throw new Error(`${this.constructor.name} layer width is not a number`);if(this.height<1)throw new Error(`${this.constructor.name} layer height is less than 1`);if(this.width<1)throw new Error(`${this.constructor.name} layer width is less than 1`)}setupKernels(t){}reuseKernels(t){if(t.width!==this.width)throw new Error(`${this.constructor.name} kernel width mismatch ${t.width} is not ${this.width}`);if(t.height!==this.height)throw new Error(`${this.constructor.name} kernel width mismatch ${t.height} is not ${this.height}`);if(t.hasOwnProperty("predictKernel")&&null!==t.predictKernel){if(!t.predictKernel.immutable)throw new Error(`${t.constructor.name}.predictKernel is not reusable, set kernel.immutable = true`);this.predictKernel=t.predictKernel}if(t.hasOwnProperty("compareKernel")&&null!==t.compareKernel){if(!t.compareKernel.immutable)throw new Error(`${t.constructor.name}.compareKernel is not reusable, set kernel.immutable = true`);this.compareKernel=t.compareKernel}this.praxis=t.praxis}predict(t){}compare(t){}learn(t){}toArray(){return Array.isArray(this.weights)?this.weights:this.weights.toArray()}toJSON(){return St.toJSON(this)}static toJSON(t){const{weights:e}=t;return{width:t.width,height:t.height,depth:t.depth,weights:kt(e&&e instanceof b.Texture?e.toArray():e),type:t.constructor.name,praxisOpts:t.praxis?t.praxis.toJSON():null}}}function kt(t){if(null===t)return null;if(Array.isArray(t)){if("number"===typeof t[0])return t;if(Array.isArray(t[0])&&"number"===typeof t[0][0])return t;if(Array.isArray(t[0][0])&&"number"===typeof t[0][0][0])return t;if(t[0]instanceof Float32Array)return t.map((t=>Array.from(t)));if(t[0][0]instanceof Float32Array)return t.map((t=>t.map((t=>Array.from(t)))))}else if(t)return Array.from(t);throw new Error("unexpected value")}function Tt(t,e){const n=new Array(e);for(let r=0;r<e;r++)n[r]=j(t);return n}function At(t,e,n){const r=new Array(n);for(let i=0;i<n;i++)r[i]=Tt(t,e);return r}class Et extends St{constructor(t,e){super(e),this.inputLayer=t;const{width:n,height:r,depth:i}=this;this.predictKernel=null,this.compareKernel=null,this.validate(),i>0?(this.weights=At(n,r,i),this.deltas=At(n,r,i)):r>0&&(this.weights=Tt(n,r),this.deltas=Tt(n,r)),this.setupPraxis()}get width(){return this.inputLayer.width}get height(){return this.inputLayer.height}get depth(){return this.inputLayer.depth}}class _t extends St{constructor(t,e){super(),this.settings=t,this.inputLayer=e}get width(){return this.inputLayer.width}get height(){return this.inputLayer.height}get depth(){return this.inputLayer.depth}get filterCount(){return this.settings.filterCount}get filterWidth(){return this.settings.filterWidth}get filterHeight(){return this.settings.filterHeight}get filters(){return this.settings.filters}set filters(t){this.settings.filters=t}get filterDeltas(){return this.settings.filterDeltas}set filterDeltas(t){this.settings.filterDeltas=t}}class Lt{constructor(){this.predictKernel=null,this.compareKernel=null,this.praxis=null}get width(){return this.settings.width}get height(){return this.settings.height}get depth(){return this.settings.depth}get weights(){return this.settings.weights}set weights(t){this.settings.weights=t}get deltas(){return this.settings.deltas}set deltas(t){this.settings.deltas=t}toJSON(){return St.toJSON(this)}}class Ct extends St{constructor(t,e){super({...e,width:t.width,height:t.height,depth:t.depth}),this.inputLayer=t}validate(){var t;if(super.validate(),this.width!==this.inputLayer.width)throw new Error(`width of ${this.width} does not match inputLayer.width of ${this.inputLayer.width}`);if(this.height!==this.inputLayer.height)throw new Error(`height of ${this.height} does not match inputLayer.height of ${this.inputLayer.height}`);if(this.depth!==(null!==(t=this.inputLayer.depth)&&void 0!==t?t:0))throw new Error(`depth of ${this.depth} does not match inputLayer.depth of ${this.inputLayer.depth}`)}}class It extends St{constructor(t,e,n){super(n),this.inputLayer1=t,this.inputLayer2=e,this.validate(),this.weights=Tt(this.width,this.height),this.deltas=Tt(this.width,this.height),this.setupPraxis()}}function $t(t,e){return t[this.thread.y][this.thread.x]-e[this.thread.x]}function Ot(t,e){return t[this.thread.y][this.thread.x]-e[this.thread.y][this.thread.x]}class Rt extends St{constructor(t,e){if(super(t),this.inputLayer=e,this.validate(),this.depth)throw new Error("Target layer not implemented for depth");this.height?(this.weights=Tt(this.width,this.height),this.deltas=Tt(this.width,this.height),this.errors=Tt(this.width,this.height)):(this.weights=j(this.width),this.deltas=j(this.width),this.errors=j(this.width))}setupKernels(){1===this.width?this.compareKernel=q($t,{output:[this.width,this.height],immutable:!0}):this.compareKernel=q(Ot,{output:[this.width,this.height],immutable:!0})}predict(){Q(this.weights),this.weights=tt(this.inputLayer.weights)}compare(t){Q(this.deltas),Q(this.errors),Q(this.inputLayer.deltas),this.deltas=this.compareKernel(this.weights,t),this.inputLayer.deltas=tt(this.deltas),this.errors=tt(this.deltas)}setupPraxis(){}}function Dt(t,e){return new Rt(t,e)}class zt{}class Mt extends St{}class Pt extends St{learn(t){const{weights:e}=this;if(!this.praxis)throw new Error("this.praxis not defined");this.weights=this.praxis.run(this,t),Q(e)}}class Nt{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.layerTemplate=t,this.settings={...e},this.kernel=null}get width(){return this.layerTemplate.width}get height(){return this.layerTemplate.height}get depth(){return this.layerTemplate.depth}setupKernels(){}reuseKernels(t){if(t.width!==this.width)throw new Error(`${this.constructor.name} kernel width mismatch ${t.width} is not ${this.width}`);if(t.height!==this.height)throw new Error(`${this.constructor.name} kernel width mismatch ${t.height} is not ${this.height}`);t.hasOwnProperty("kernel")&&(this.kernel=t.kernel)}toJSON(){return{...this.settings}}}function Ft(t,e){return t[this.thread.y][this.thread.x]+this.constants.learningRate*e[this.thread.y][this.thread.x]}const Vt={learningRate:.3};class Kt extends Nt{constructor(t,e){super(t),this.settings={...Vt,...e},this.kernel=null}run(t){return this.kernel(t.weights,t.deltas)}setupKernels(){var t;this.kernel=q(Ft,{output:[this.width,this.height],constants:{learningRate:null!==(t=this.settings.learningRate)&&void 0!==t?t:.01}})}}function jt(t,e){return new Kt(t,e)}function Bt(t){return t}function Ut(t,e,n,r){const i=t[this.thread.y][this.thread.x],s=r[this.thread.y][0],a=e[this.thread.y][this.thread.x],o=n[this.thread.x][0];return a+(this.constants.learningRate*s*o+this.constants.momentum*i)}const Gt={learningRate:.3,momentum:.1,weightsLayer:null,incomingLayer:null,deltaLayer:null};class Wt extends Nt{constructor(t,e){super(t),this.kernelMap=null,this.settings={...Gt,...e},this.changes=Tt(t.width,t.height)}get learningRate(){return this.settings.learningRate}get momentum(){return this.settings.momentum}get weightsLayer(){return this.settings.weightsLayer}set weightsLayer(t){this.settings.weightsLayer=t}get deltaLayer(){return this.settings.deltaLayer}set deltaLayer(t){this.settings.deltaLayer=t}get incomingLayer(){return this.settings.incomingLayer}set incomingLayer(t){this.settings.incomingLayer=t}run(){const t=this.kernelMap(this.changes,this.weightsLayer.weights,this.incomingLayer.weights,this.deltaLayer.deltas);return this.changes=t.changes,t.result}setupKernels(){this.kernelMap=Y({changes:Bt},Ut,{output:[this.width,this.height],constants:{learningRate:this.learningRate,momentum:this.momentum}})}}function Ht(t,e){return new Wt(t,e)}function Xt(t,e,n){return n*e+(1-e)*t*t}function qt(t,e,n){return t>e?e:t<n?n:t}function Yt(t,e,n){const r=e[this.thread.y][this.thread.x],i=qt(r,this.constants.clipValue,-this.constants.clipValue),s=t[this.thread.y][this.thread.x],a=n[this.thread.y][this.thread.x],o=Xt(r,this.constants.decayRate,a);return s+-this.constants.learningRate*i/Math.sqrt(o+this.constants.smoothEps)-this.constants.regularizationStrength*s}const Jt={decayRate:.999,regularizationStrength:1e-6,learningRate:.01,smoothEps:1e-8,clipValue:5};class Qt extends Nt{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(t),this.kernelMap=null,this.settings={...Jt,...e},this.momenta=Tt(t.width,t.height)}get clipValue(){return this.settings.clipValue}get decayRate(){return this.settings.decayRate}get learningRate(){return this.settings.learningRate}get regularizationStrength(){return this.settings.regularizationStrength}get smoothEps(){return this.settings.smoothEps}run(t){const{momenta:e,result:n}=this.kernelMap(t.weights,t.deltas,this.momenta);return Q(this.momenta),this.momenta=e,n}setupKernels(){this.kernelMap=Y({momenta:Xt},Yt,{output:[this.width,this.height],constants:{clipValue:this.clipValue,decayRate:this.decayRate,learningRate:this.learningRate,regularizationStrength:this.regularizationStrength,smoothEps:this.smoothEps},functions:[qt],immutable:!0})}}function Zt(t,e){return new Qt(t,e)}const te=Qt,ee=Zt;var ne=Object.freeze({__proto__:null,ArthurDeviationBiases:Kt,arthurDeviationBiases:jt,ArthurDeviationWeights:Wt,arthurDeviationWeights:Ht,MomentumRootMeanSquaredPropagation:Qt,momentumRootMeanSquaredPropagation:Zt,MRmsProp:te,mRmsProp:ee});function re(t,e){t.hasOwnProperty("inputLayer")?re(t.inputLayer,e):(t.hasOwnProperty("inputLayer1")&&re(t.inputLayer1,e),t.hasOwnProperty("inputLayer2")&&re(t.inputLayer2,e)),e(t)}function ie(t){const e=t.slice(0);for(let n=0;n<e.length;n++){let t=0;re(e[n],(r=>{e.includes(r)||(e.splice(n+t,0,r),t++)}))}return e}function se(t,e){if(t.width!==e.width)throw new Error(`Layer width mismatch of ${t.width} and ${e.width}`);if(t.height!==e.height)throw new Error(`Layer height mismatch of ${t.height} and ${e.height}`)}function ae(t,e){return t[this.thread.y][this.thread.x]+e[this.thread.y][this.thread.x]}class oe extends It{get width(){return this.inputLayer1.width}get height(){return this.inputLayer1.height}get depth(){return this.inputLayer1.depth}validate(){super.validate(),se(this.inputLayer1,this.inputLayer2)}setupKernels(){this.predictKernel=q(ae,{output:[this.width,this.height],immutable:!0})}predict(){Q(this.weights),this.weights=this.predictKernel(this.inputLayer1.weights,this.inputLayer2.weights)}compare(){Q(this.inputLayer1.deltas),Q(this.inputLayer2.deltas),this.inputLayer1.deltas=tt(this.deltas),this.inputLayer2.deltas=tt(this.deltas)}}function ue(t,e,n){return new oe(t,e,n)}const le={...wt,std:null};class ce extends Pt{constructor(t){super(),this.settings={...le,...t},this.setupPraxis(),this.validate(),this.weights||(this.weights=V(this.width,this.height,t.std)),this.deltas||(this.deltas=Tt(this.width,this.height))}predict(){}compare(){}}function he(t){return new ce(t)}function pe(t,e){let n=0;for(let r=0;r<this.constants.size;r++)n+=t[this.thread.y][r]*e[r][this.thread.x];return n}function de(t,e,n){let r=e[this.thread.y][this.thread.x];for(let i=0;i<this.constants.size;i++)r+=t[this.thread.y][i]*n[this.thread.x][i];return r}function fe(t,e,n){let r=e[this.thread.y][this.thread.x];for(let i=0;i<this.constants.size;i++)r+=t[i][this.thread.x]*n[i][this.thread.y];return r}class me extends It{constructor(){super(...arguments),this.compareKernel1=null,this.compareKernel2=null}get width(){return this.inputLayer2.width}set width(t){throw new Error("Cannot set width on Multiply")}get height(){return this.inputLayer1.height}set height(t){throw new Error("Cannot set height on Multiply")}get depth(){return this.inputLayer1.depth}set depth(t){throw new Error("Cannot set depth on Multiply")}validate(){if(super.validate(),this.inputLayer1.width!==this.inputLayer2.height)throw new Error(`Layer width mismatch of ${this.inputLayer1.width} and ${this.inputLayer2.height}`)}setupKernels(){this.predictKernel=q(pe,{output:[this.width,this.height],constants:{size:this.inputLayer2.height},immutable:!0}),this.compareKernel1=q(de,{output:[this.inputLayer1.width,this.inputLayer1.height],constants:{size:this.inputLayer2.width},immutable:!0}),this.compareKernel2=q(fe,{output:[this.inputLayer2.width,this.inputLayer2.height],constants:{size:this.inputLayer1.height},immutable:!0})}reuseKernels(t){super.reuseKernels(t),this.compareKernel1=t.compareKernel1,this.compareKernel2=t.compareKernel2}predict(){if(Q(this.weights),!this.predictKernel)throw new Error("this.predictKernel is not set");this.weights=this.predictKernel(this.inputLayer1.weights,this.inputLayer2.weights)}compare(){if(!this.compareKernel1)throw new Error("this.compareKernel1 not set");if(!this.compareKernel2)throw new Error("this.compareKernel2 not set");const t=this.inputLayer1.deltas,e=this.inputLayer2.deltas,n=this.compareKernel1(this.deltas,this.inputLayer1.deltas,this.inputLayer2.weights),r=this.compareKernel2(this.deltas,this.inputLayer2.deltas,this.inputLayer1.weights);this.inputLayer2.deltas=r,this.inputLayer1.deltas=n,Q(t),Q(e)}setupPraxis(){}toJSON(){return{...super.toJSON(),width:this.width,height:this.height}}}function ge(t,e,n){return new me(t,e,n)}function ye(t){return 1/(1+Math.exp(-t[this.thread.y][this.thread.x]))}function be(t){return 1/(1+Math.exp(-t[this.thread.z][this.thread.y][this.thread.x]))}function xe(t,e){const n=t[this.thread.y][this.thread.x];return n*(1-n)*e[this.thread.y][this.thread.x]}function ve(t,e){const n=t[this.thread.z][this.thread.y][this.thread.x];return n*(1-n)*e[this.thread.z][this.thread.y][this.thread.x]}class we extends Et{setupKernels(){this.depth>0?(this.predictKernel=q(be,{output:[this.width,this.height,this.depth],functions:[s],immutable:!0}),this.compareKernel=q(ve,{output:[this.width,this.height,this.depth],functions:[a],immutable:!0})):(this.predictKernel=q(ye,{output:[this.width,this.height],functions:[s],immutable:!0}),this.compareKernel=q(xe,{output:[this.width,this.height],functions:[a],immutable:!0}))}predict(){Q(this.weights),this.weights=this.predictKernel(this.inputLayer.weights)}compare(){Q(this.inputLayer.deltas),this.inputLayer.deltas=this.compareKernel(this.weights,this.deltas)}learn(t){}}function Se(t,e){return new we(t,e)}function ke(t,e){const{height:n}=t;function r(t,e){const n=Ht(t,e);return n.setupKernels(),n}function i(t,e){const n=jt(t,e);return n.setupKernels(),n}const s=he({id:"weights",height:n,width:e.height,initPraxis:r}),a=he({id:"biases",height:n,initPraxis:i}),o=Se(ue(ge(s,e),a)),u=s.praxis;return u.weightsLayer=s,u.incomingLayer=e,u.deltaLayer=o,o}function Te(t,e){if("number"===typeof t.stride)return{strideX:t.stride,strideY:t.stride};{let n=e.stride,r=e.stride;return"number"===typeof t.strideX&&(n=t.strideX),"number"===typeof t.strideY&&(r=t.strideY),{strideX:n,strideY:r}}}function Ae(t,e){if("number"===typeof t.padding)return{paddingX:t.padding,paddingY:t.padding};{let n=e.padding,r=e.padding;return"number"===typeof t.paddingX&&(n=t.paddingX),"number"===typeof t.paddingY&&(r=t.paddingY),{paddingX:n,paddingY:r}}}function Ee(t,e){return new Float32Array(t).fill(e)}function _e(t,e,n){const r=this.constants.paddingX-this.thread.x*this.constants.strideX,i=this.thread.x*this.constants.strideX-this.constants.paddingX,s=Math.min(this.constants.filterWidth,r+this.constants.inputWidth),a=this.constants.paddingY-this.thread.y*this.constants.strideY,o=this.thread.y*this.constants.strideY-this.constants.paddingY,u=Math.min(this.constants.filterHeight,a+this.constants.inputHeight);let l=0;for(let c=0;c<this.constants.inputDepth;c++)for(let n=Math.max(0,a),h=Math.max(0,o);n<u;n++,h++)for(let a=Math.max(0,r),o=Math.max(0,i);a<s;a++,o++)l+=e[c][n][a]*t[c][h][o];return l+n[this.thread.z]}function Le(t,e,n){const r=Math.max(0,Math.ceil((this.constants.paddingX-this.thread.x)/this.constants.strideX)),i=r*this.constants.strideX+this.thread.x-this.constants.paddingX,s=Math.min(this.constants.deltaWidth,Math.floor((this.constants.inputWidth-1-this.thread.x+this.constants.paddingX)/this.constants.strideX)+1),a=Math.max(0,Math.ceil((this.constants.paddingY-this.thread.y)/this.constants.strideY)),o=a*this.constants.strideY+this.thread.y-this.constants.paddingY,u=Math.min(this.constants.deltaHeight,Math.floor((this.constants.inputHeight-1-this.thread.y+this.constants.paddingY)/this.constants.strideY)+1);let l=t[this.thread.z][this.thread.y][this.thread.x];for(let c=a,h=o;c<u;c++,h+=this.constants.strideY)for(let t=r,a=i;t<s;t++,a+=this.constants.strideX)l+=e[this.thread.z][h][a]*n[this.constants.deltaZ][c][t];return l}function Ce(t,e,n){const r=this.thread.x+this.constants.paddingX,i=r<this.constants.filterWidth?0:Math.floor((r-this.constants.filterWidth+this.constants.strideX)/this.constants.strideX),s=r-i*this.constants.strideX,a=Math.min(i+Math.floor(s/this.constants.strideX)+1,this.constants.deltaWidth),o=this.thread.y+this.constants.paddingY,u=o<this.constants.filterHeight?0:Math.floor((o-this.constants.filterHeight+this.constants.strideY)/this.constants.strideY),l=o-u*this.constants.strideY,c=Math.min(u+Math.floor(l/this.constants.strideY)+1,this.constants.deltaHeight);let h=t[this.thread.z][this.thread.y][this.thread.x],p=u;for(let d=l;p<c;d-=this.constants.strideY,p++){let t=i;for(let r=s;t<a;r-=this.constants.strideX,t++)h+=e[this.thread.z][d][r]*n[this.constants.deltaZ][p][t]}return h}function Ie(t,e){let n=0;for(let r=0;r<this.constants.deltaHeight;r++)for(let t=0;t<this.constants.deltaWidth;t++)n+=e[this.thread.z][r][t];return t[this.thread.z][this.thread.y][this.thread.x]+n}const $e={stride:0,padding:0,bias:.1,filterCount:1,filterWidth:0,filterHeight:0};class Oe extends _t{constructor(t,e){var n,r,i;super(t,e),this.compareFilterDeltasKernel=null,this.compareInputDeltasKernel=null,this.compareBiasesKernel=null,this.settings={...$e,...t,...Ae(t,$e),...Te(t,$e)},this.weights=null!==(n=t.weights)&&void 0!==n?n:K(this.width,this.height,this.depth),this.deltas=At(this.width,this.height,this.depth),this.biases=Ee(this.depth,this.bias),this.biasDeltas=null!==(r=t.biasDeltas)&&void 0!==r?r:F(this.depth),this.filters=null!==(i=t.filters)&&void 0!==i?i:K(this.filterWidth,this.filterHeight,this.filterCount),this.filterDeltas=At(this.filterWidth,this.filterHeight,this.filterCount),this.validate()}get strideX(){return this.settings.strideX}get strideY(){return this.settings.strideY}get paddingX(){return this.settings.paddingX}get paddingY(){return this.settings.paddingX}get width(){return Math.floor((this.inputLayer.width+2*this.paddingX-this.filterWidth)/this.strideX+1)}get height(){return Math.floor((this.inputLayer.height+2*this.paddingY-this.filterHeight)/this.strideY+1)}get bias(){return this.settings.bias}get depth(){return this.filterCount}get biases(){return this.settings.biases}set biases(t){this.settings.biases=t}get biasDeltas(){return this.settings.biasDeltas}set biasDeltas(t){this.settings.biasDeltas=t}get filters(){return this.settings.filters}set filters(t){this.settings.filters=t}get filterDeltas(){return this.settings.filterDeltas}set filterDeltas(t){this.settings.filterDeltas=t}setupKernels(){this.predictKernel=q(_e,{constants:{inputWidth:this.inputLayer.width,inputHeight:this.inputLayer.height,inputDepth:this.inputLayer.depth,strideX:this.strideX,strideY:this.strideY,paddingX:this.paddingX,paddingY:this.paddingY,filterWidth:this.filterWidth,filterHeight:this.filterHeight},output:[this.width,this.height,this.depth],immutable:!0}),this.compareFilterDeltasKernel=q(Le,{constants:{deltaWidth:this.width,deltaHeight:this.height,deltaZ:this.depth,inputWidth:this.inputLayer.width,inputHeight:this.inputLayer.height,inputDepth:this.inputLayer.depth,strideX:this.strideX,strideY:this.strideY,paddingX:this.paddingX,paddingY:this.paddingY,filterWidth:this.filterWidth,filterHeight:this.filterHeight},output:[this.width,this.height,this.depth],immutable:!0}),this.compareInputDeltasKernel=q(Ce,{constants:{deltaWidth:this.width,deltaHeight:this.height,deltaZ:this.depth,strideX:this.strideX,strideY:this.strideY,paddingX:this.paddingX,paddingY:this.paddingY,filterWidth:this.filterWidth,filterHeight:this.filterHeight,filterCount:this.filterCount},output:[this.inputLayer.width,this.inputLayer.height,this.inputLayer.depth],immutable:!0}),this.compareBiasesKernel=q(Ie,{output:[1,1,this.depth],constants:{deltaWidth:this.width,deltaHeight:this.height},immutable:!0})}predict(){this.weights=this.predictKernel(this.inputLayer.weights,this.filters,this.biases)}compare(){const{filterDeltas:t,biasDeltas:e}=this;this.filterDeltas=this.compareFilterDeltasKernel(t,this.inputLayer.weights,this.deltas),Q(t),this.biasDeltas=this.compareBiasesKernel(e,this.deltas),Q(e),Q(this.deltas),this.deltas=this.compareInputDeltasKernel(this.filters,this.inputLayer.deltas),Q(this.inputLayer.deltas),this.inputLayer.deltas=tt(this.deltas)}learn(t){const{weights:e}=this;this.weights=this.praxis.run(this,t),Q(e)}}function Re(t,e){return new Oe(t,e)}function De(t){return t}function ze(t){return De(Math.random())<this.constants.probability?0:t[this.thread.y][this.thread.x]}function Me(t){return t[this.thread.y][this.thread.x]*this.constants.probability}function Pe(t,e){return 0===t[this.thread.y][this.thread.x]?0:e[this.thread.y][this.thread.x]}const Ne={...wt,probability:.5};class Fe extends _t{constructor(t,e){super(e,t),this.predictKernelMap=null,this.settings={...Ne,...e},this.dropouts=null,this.validate()}setupKernels(t){const e=[this.width,this.height];t?(this.predictKernelMap=Y({dropouts:De},ze,{output:e,immutable:!0}),this.compareKernel=q(Pe,{output:e,immutable:!0})):this.predictKernelMap=Y({},Me,{output:e,immutable:!0})}predict(){Q(this.weights),this.dropouts&&Q(this.dropouts);const{result:t,dropouts:e}=this.predictKernelMap(this.inputLayer.weights);this.weights=t,this.dropouts=e}compare(){Q(this.deltas),this.deltas=this.compareKernel(this.dropouts,this.inputLayer.deltas)}}function Ve(t,e){return new Fe(t,e)}function Ke(t,e){const{height:n,praxisOpts:r=null}=t,i=he({id:"weights",height:n,width:e.height,praxisOpts:r}),s=he({id:"biases",height:n,praxisOpts:r});return Se(ue(ge(i,e,{praxisOpts:r}),s,{praxisOpts:r}),{praxisOpts:r})}function je(t,e,n){let r=0,i=0;for(let s=0;s<this.constants.inputHeight;s++)for(let n=0;n<this.constants.inputWidth;n++)r+=t[s][n]*e[this.thread.x][i],i++;return r+n[this.thread.x]}function Be(t,e,n){let r=0,i=0;for(let s=0;s<this.constants.inputDepth;s++)for(let n=0;n<this.constants.inputHeight;n++)for(let a=0;a<this.constants.inputWidth;a++)r+=t[s][n][a]*e[this.thread.x][i],i++;return r+n[this.thread.x]}function Ue(t,e,n){let r=0;const i=this.thread.x+this.thread.y*this.output.x;for(let s=0;s<this.constants.filterCount;s++)r+=n[s][i]*e[0][s];return r+t[this.thread.y][this.thread.x]}function Ge(t,e,n){let r=0;const i=this.thread.x+this.thread.y*this.output.x;for(let s=0;s<this.constants.filterCount;s++)r+=n[s][i]*e[0][s];return r+t[this.thread.z][this.thread.y][this.thread.x]}function We(t,e){return t[this.thread.x]+e[this.thread.y][this.thread.x]}function He(t,e,n){return t[this.thread.y][this.thread.x]+e[this.thread.y][this.thread.x]*n[this.constants.deltaY][this.constants.deltaX]}function Xe(t,e,n){const r=Math.floor(this.thread.x/(this.constants.inputWidth*this.constants.inputHeight)),i=Math.floor((this.thread.x-r*this.constants.inputWidth*this.constants.inputHeight)/this.constants.inputWidth),s=this.thread.x-this.constants.inputWidth*(i+this.constants.inputHeight*r);return t[this.thread.y][this.thread.x]+e[r][i][s]*n[0][this.thread.y]}class qe extends _t{constructor(t,e){super(t,e),this.compareFilterDeltasKernel=null,this.compareInputDeltasKernel=null,this.compareBiasesKernel=null,this.settings={...t},this.validate();const n=e.width*e.height*e.depth;this.biases=Ee(this.height,this.bias),this.biasDeltas=j(this.height),this.filters=V(n,this.height),this.filterDeltas=Tt(n,this.height),this.depth>0?(this.weights=K(this.width,this.height,this.depth),this.deltas=At(this.width,this.height,this.depth)):this.height>0&&(this.weights=V(this.width,this.height),this.deltas=Tt(this.width,this.height))}get bias(){return this.settings.bias}get biases(){return this.settings.biases}set biases(t){this.settings.biases=t}get biasDeltas(){return this.settings.biases}set biasDeltas(t){this.settings.biasDeltas=t}validate(){if(super.validate(),this.depth>0)throw new Error("depth not supported")}setupKernels(){const{inputLayer:t}=this,e=t.width*t.height*t.depth;t.depth>0?(this.predictKernel=q(Be,{output:[this.width,this.height],constants:{inputHeight:t.height,inputWidth:t.width,inputDepth:t.depth}}),this.compareFilterDeltasKernel=q(Xe,{output:[e,this.height],constants:{deltaX:0,deltaY:0,inputWidth:t.width,inputHeight:t.height},immutable:!0}),this.compareInputDeltasKernel=q(Ge,{output:[t.width,t.height,t.depth],constants:{filterCount:this.height},immutable:!0})):(this.predictKernel=q(je,{output:[this.width,this.height],constants:{inputHeight:t.height,inputWidth:t.width}}),this.compareFilterDeltasKernel=q(He,{output:[e,this.height],constants:{deltaX:0,deltaY:0,inputWidth:t.width,inputHeight:t.height}}),this.compareInputDeltasKernel=q(Ue,{output:[t.width,t.height],constants:{filterCount:this.height}})),this.compareBiasesKernel=q(We,{output:[this.width,this.height]})}predict(){this.weights=this.predictKernel(this.inputLayer.weights,this.filters,this.biases)}compare(){const t=this.inputLayer.deltas;this.inputLayer.deltas=this.compareInputDeltasKernel(t,this.deltas,this.filters),Q(t);const{biasDeltas:e,filterDeltas:n}=this;this.biasDeltas=this.compareBiasesKernel(this.biases,this.deltas),this.filterDeltas=this.compareFilterDeltasKernel(n,this.inputLayer.weights,this.deltas),Q(e),Q(n)}}function Ye(t,e){return new qe(t,e)}function Je(t){return-t[this.thread.y][this.thread.x]}class Qe extends Ct{constructor(t,e){super(t,e),this.validate()}setupKernels(){this.predictKernel=q(Je,{output:[this.width,this.height]})}predict(){this.weights=this.predictKernel(this.inputLayer.weights)}}function Ze(t,e){return new Qe(t,e)}function tn(t,e){return t[this.thread.y][this.thread.x]*e[this.thread.y][this.thread.x]}function en(t,e){return t[this.thread.y][this.thread.x]*e[this.thread.y][this.thread.x]}class nn extends It{get width(){return this.inputLayer1.width}get height(){return this.inputLayer1.height}get depth(){return this.inputLayer1.depth}validate(){super.validate(),se(this.inputLayer1,this.inputLayer2)}setupKernels(){this.predictKernel=q(tn,{output:[this.width,this.height],immutable:!0}),this.compareKernel=q(en,{output:[this.width,this.height],immutable:!0})}predict(){Q(this.weights),this.weights=this.predictKernel(this.inputLayer1.weights,this.inputLayer2.weights)}compare(){Q(this.inputLayer1.deltas),Q(this.inputLayer2.deltas),this.inputLayer1.deltas=this.compareKernel(this.inputLayer2.weights,this.deltas),this.inputLayer2.deltas=this.compareKernel(this.inputLayer1.weights,this.deltas)}}function rn(t,e,n){return new nn(t,e,n)}function sn(t){return new Float32Array(t).fill(1)}function an(t,e){const n=new Array(e);for(let r=0;r<e;r++)n[r]=sn(t);return n}class on extends Pt{constructor(t){super(t),this.validate(),this.weights=an(this.width,this.height),this.deltas=Tt(this.width,this.height)}}function un(t){return new on(t)}function ln(t){return u(t[this.thread.y][this.thread.x])}function cn(t){return u(t[this.thread.z][this.thread.y][this.thread.x])}function hn(t,e){return l(t[this.thread.y][this.thread.x],e[this.thread.y][this.thread.x])}function pn(t,e){return l(t[this.thread.z][this.thread.y][this.thread.x],e[this.thread.z][this.thread.y][this.thread.x])}class dn extends Et{setupKernels(){this.depth>0?(this.predictKernel=q(cn,{output:[this.width,this.height,this.depth],functions:[u],immutable:!0}),this.compareKernel=q(pn,{output:[this.width,this.height,this.depth],functions:[l],immutable:!0})):(this.predictKernel=q(ln,{output:[this.width,this.height],functions:[u],immutable:!0}),this.compareKernel=q(hn,{output:[this.width,this.height],functions:[l],immutable:!0}))}predict(){Q(this.weights),this.weights=this.predictKernel(this.inputLayer.weights)}compare(){Q(this.inputLayer.deltas),this.inputLayer.deltas=this.compareKernel(this.weights,this.deltas)}}function fn(t,e){return new dn(t,e)}class mn extends Pt{constructor(t){super(t),this.validate(),this.weights=Tt(this.width,this.height),this.deltas=Tt(this.width,this.height)}predict(){}compare(){}}function gn(t){return new mn(t)}function yn(t,e,n){const{height:r}=t,i=he({height:r,width:n.height}),s=he({width:r,height:r}),a=gn({height:r}),o=Se(ue(ue(ge(i,n),ge(s,e)),a)),u=he({height:r,width:n.height}),l=he({width:r,height:r}),c=gn({height:r}),h=Se(ue(ue(ge(u,n),ge(l,e)),c)),p=he({height:r,width:n.height}),d=he({width:r,height:r}),f=gn({height:r}),m=fn(ue(ue(ge(p,n),ge(d,rn(h,e))),f));return ue(rn(ue(un({width:o.width,height:o.height}),Ze(o)),m),rn(e,o))}const bn={weights:null};class xn extends Mt{constructor(t){super({...bn,...t}),this.reshapeInput=null,this.validate(),this.reshapeInput=null,this.deltas=Tt(this.width,this.height)}setupKernels(){1===this.width&&(this.predict=this.predict1D,this.reshapeInput=q((function(t){return t[this.thread.y]}),{output:[1,this.height],immutable:!0}))}reuseKernels(t){this.reshapeInput=t.reshapeInput}predict(t){if((Array.isArray(t)||t instanceof Float32Array)&&"number"===typeof t[0]&&t.length===this.height*this.width)Q(this.weights),this.weights=J(t,[this.width,this.height]);else{if(!Array.isArray(t)||t.length!==this.height||!(Array.isArray(t[0])||t[0]instanceof Float32Array)||t[0].length!==this.width)throw new Error("Inputs are not of sized correctly");this.weights=tt(t)}}predict1D(t){this.weights&&Q(this.weights),this.reshapeInput?this.weights=this.reshapeInput(t):this.weights=t}compare(){}learn(){}}function vn(t){return new xn(t)}function wn(t){return h(t[this.thread.y][this.thread.x])}function Sn(t){return h(t[this.thread.z][this.thread.y][this.thread.x])}function kn(t,e){return p(t[this.thread.y][this.thread.x],e[this.thread.y][this.thread.x])}function Tn(t,e){return p(t[this.thread.z][this.thread.y][this.thread.x],e[this.thread.z][this.thread.y][this.thread.x])}class An extends Et{setupKernels(){const{width:t,height:e,depth:n}=this.inputLayer;this.depth>0?(this.predictKernel=q(Sn,{output:[t,e,n],functions:[h],immutable:!0}),this.compareKernel=q(Tn,{output:[t,e,n],functions:[p],immutable:!0})):(this.predictKernel=q(wn,{output:[t,e],functions:[h],immutable:!0}),this.compareKernel=q(kn,{output:[t,e],functions:[p],immutable:!0}))}predict(){Q(this.weights),this.weights=this.predictKernel(this.inputLayer.weights)}compare(){const{deltas:t}=this;this.deltas=this.compareKernel(this.weights,t),Q(t)}}function En(t,e){return new An(t,e)}function _n(t,e,n){const{height:r}=t;if("number"!==typeof r)throw new Error("no settings.height given");n.setDimensions&&n.setDimensions(1,r);const i=he({width:e.height,height:r,std:.08,id:"inputGateWeights"}),s=he({width:r,height:r,std:.08,id:"inputGatePeepholes"}),a=gn({width:1,height:r,id:"inputGateBias"}),o=Se(ue(ue(ge(i,e),ge(s,n)),a),{id:"inputGate"}),u=he({width:e.height,height:r,std:.08,id:"forgetGateWeights"}),l=he({width:r,height:r,std:.08,id:"forgetGatePeepholes"}),c=gn({width:1,height:r,id:"forgetGateBias"}),h=Se(ue(ue(ge(u,e),ge(l,n)),c),{id:"forgetGate"}),p=he({width:e.height,height:r,std:.08,id:"outputGateWeights"}),d=he({width:r,height:r,std:.08,id:"outputGatePeepholes"}),f=gn({width:1,height:r,id:"outputGateBias"}),m=Se(ue(ue(ge(p,e),ge(d,n)),f),{id:"outputGate"}),g=he({width:e.height,height:r,std:.08,id:"memoryWeights"}),y=he({width:r,height:r,std:.08,id:"memoryPeepholes"}),b=gn({width:1,height:r,id:"memoryBias"}),x=fn(ue(ue(ge(g,e),ge(y,n)),b),{id:"memory"}),v=rn(h,n,{id:"retainCell"}),w=rn(o,x,{id:"writeCell"});return rn(m,fn(ue(v,w,{id:"cell"})),{id:"activations"})}function Ln(t,e){const{height:n}=t,r=he({height:n,width:e.height,id:"outputGate",std:.08}),i=he({height:n,id:"output",std:.08}),s=ge(r,e,{id:"outputGateConnected"});return Dt({id:"target",...t},ue(s,i))}function Cn(t){return t}function In(t){return t}function $n(t){const e=this.thread.x*this.constants.strideX-this.constants.paddingX,n=this.thread.y*this.constants.strideY-this.constants.paddingY,r=e+this.constants.filterWidth,i=n+this.constants.filterHeight,s=Math.max(e,0),a=Math.max(n,0),o=Math.min(r,this.constants.inputWidth),u=Math.min(i,this.constants.inputHeight);let l=t[this.thread.z][a][s];for(let c=a;c<u;c++)for(let e=s;e<o;e++){const n=t[this.thread.z][c][e];n>l&&(l=n)}return l}function On(t,e,n){const r=this.thread.x+.5,i=this.thread.y+.5,s=1/this.constants.strideX,a=1/this.constants.strideY,o=Math.max(0,Math.ceil((r-this.constants.filterWidth+this.constants.paddingX)*s)),u=Math.max(0,Math.ceil((i-this.constants.filterHeight+this.constants.paddingY)*a)),l=Math.min(Math.ceil((r+this.constants.paddingX)*s),this.constants.outputWidth),c=Math.min(Math.ceil((i+this.constants.paddingY)*a),this.constants.outputHeight);let h=0;for(let p=u;p<c;p++)for(let r=o;r<l;r++){const i=e[p][r],s=n[p][r];Math.abs(i-this.thread.x)<.1&&Math.abs(s-this.thread.y)<.1&&(h+=t[p][r])}return h}const Rn={padding:0,stride:0,filterWidth:0,filterHeight:0,filterCount:0};class Dn extends _t{constructor(t,e){super(t,e),this.predictKernelMap=null,this.settings={...t,...Te(t,Rn),...Ae(t,Rn)},this.weights=K(this.width,this.height,this.depth),this.deltas=At(this.width,this.height,this.depth),this.validate()}get strideX(){return this.settings.strideX}get strideY(){return this.settings.strideY}get paddingX(){return this.settings.paddingX}get paddingY(){return this.settings.paddingY}get width(){return Math.ceil((this.inputLayer.width+2*this.paddingX-this.filterWidth)/this.strideX+1)}get height(){return Math.floor((this.inputLayer.height+2*this.paddingY-this.filterHeight)/this.strideY+1)}get depth(){return this.settings.filterCount}get filterCount(){return this.settings.filterCount}get switchX(){return this.settings.switchX}set switchX(t){this.settings.switchX=t}get switchY(){return this.settings.switchY}set switchY(t){this.settings.switchY=t}setupKernels(){this.predictKernelMap=Y({switchX:In,switchY:Cn},$n,{output:[this.width,this.height,this.depth],constants:{inputWidth:this.inputLayer.width,inputHeight:this.inputLayer.height,paddingX:this.paddingX,paddingY:this.paddingY,filterHeight:this.filterHeight,filterWidth:this.filterWidth,strideX:this.strideX,strideY:this.strideY}}),this.compareKernel=q(On,{output:[this.inputLayer.width,this.inputLayer.height,this.inputLayer.depth],constants:{inputWidth:this.inputLayer.width,inputHeight:this.inputLayer.height,outputWidth:this.width,outputHeight:this.height,filterWidth:this.filterWidth,filterHeight:this.filterHeight,paddingX:this.paddingX,paddingY:this.paddingY,strideX:this.strideX,strideY:this.strideY}})}predict(){const{result:t,switchX:e,switchY:n}=this.predictKernelMap(this.inputLayer.weights);this.switchX=e,this.switchY=n,this.weights=t}compare(){const t=this.inputLayer.deltas;this.inputLayer.deltas=this.compareKernel(this.deltas,this.switchX,this.switchY),Q(t)}}function zn(t,e){return new Dn(t,e)}class Mn extends Lt{constructor(t){super(),this.praxis=null,this.predictKernel=null,this.compareKernel=null,this.settings={},this.recurrentInput=t,this.validate()}get width(){return this.recurrentInput.width}get height(){return this.recurrentInput.height}get depth(){return this.recurrentInput.depth}get deltas(){return this.recurrentInput.deltas}set deltas(t){const e=this.recurrentInput.deltas;this.recurrentInput.deltas=t,Q(e)}get weights(){return this.recurrentInput.weights}set weights(t){const e=this.recurrentInput.weights;this.recurrentInput.weights=t,Q(e)}validate(){if(St.prototype.validate.call(this),this.width!==this.recurrentInput.width)throw new Error(`${this.constructor.name} layer width ${this.width} and ${this.recurrentInput.constructor.name} width (${this.recurrentInput.width}) are not same`);if(this.height!==this.recurrentInput.height)throw new Error(`${this.constructor.name} layer height ${this.height} and ${this.recurrentInput.constructor.name} width (${this.recurrentInput.height}) are not same`)}setDimensions(t,e){this.recurrentInput.width=t,this.recurrentInput.height=e}predict(){}compare(){}learn(){}setupKernels(){}reuseKernels(){}}class Pn extends Lt{constructor(t){super(),this.praxis=null,this.settings={},this.predictKernel=null,this.compareKernel=null,t&&(this.settings={...t})}setDimensions(t,e){this.praxis=null,this.settings={...this.settings,width:t,height:e,weights:Tt(t,e),deltas:Tt(t,e)}}setupKernels(){}reuseKernels(){}predict(){}compare(){}learn(t){const{weights:e}=this;this.weights=this.praxis.run(this,t),Q(e)}}function Nn(){return new Pn}function Fn(t){return e(t[this.thread.y][this.thread.x])}function Vn(t,e){return r(t[this.thread.y][this.thread.x],e[this.thread.y][this.thread.x])}function Kn(t){return e(t[this.thread.z][this.thread.y][this.thread.x])}function jn(t,e){return r(t[this.thread.z][this.thread.y][this.thread.x],e[this.thread.z][this.thread.y][this.thread.x])}class Bn extends Et{setupKernels(){const{width:t,height:n,depth:i}=this.inputLayer;i>0?(this.predictKernel=q(Kn,{output:[t,n,i],functions:[e],immutable:!0}),this.compareKernel=q(jn,{output:[t,n,i],functions:[r],immutable:!0})):(this.predictKernel=q(Fn,{output:[t,n],functions:[e],immutable:!0}),this.compareKernel=q(Vn,{output:[t,n],functions:[r],immutable:!0}))}predict(){Q(this.weights),this.weights=this.predictKernel(this.inputLayer.weights)}compare(){Q(this.inputLayer.deltas),this.inputLayer.deltas=this.compareKernel(this.weights,this.deltas)}}function Un(t,e){return new Bn(t,e)}function Gn(t,e,n){const{height:r}=t;if("number"!==typeof r)throw new Error("height not set");n.setDimensions&&n.setDimensions(1,r);const i=he({id:"weight",height:r,width:e.height,std:.08}),s=he({id:"transition",height:r,width:r,std:.08}),a=gn({id:"bias",height:r});return Un(ue(ue(ge(i,e),ge(s,n)),a))}class Wn extends St{constructor(t,e){super(t),this.inputLayer=e,this.validate()}predict(){Q(this.weights),this.weights=tt(this.inputLayer.weights)}learn(){}}function Hn(t,e){return new Wn(t,e)}function Xn(t){let e=-1/0;for(let n=0;n<this.constants.inputHeight;n++)for(let r=0;r<this.constants.inputWidth;r++){const i=t[n][r];i>e&&(e=i)}return e}function qn(t){let e=-1/0;for(let n=0;n<this.constants.inputDepth;n++)for(let r=0;r<this.constants.inputHeight;r++)for(let i=0;i<this.constants.inputWidth;i++){const s=t[n][r][i];s>e&&(e=s)}return e}function Yn(t){let e=0;for(let n=0;n<this.constants.inputHeight;n++)for(let r=0;r<this.constants.inputWidth;r++)e+=t[n][r];return e}function Jn(t){let e=0;for(let n=0;n<this.constants.inputDepth;n++)for(let r=0;r<this.constants.inputHeight;r++)for(let i=0;i<this.constants.inputWidth;i++)e+=t[n][r][i];return e}function Qn(t,e){return Math.exp(t[this.thread.x]-e[0])}function Zn(t,e){return Math.exp(t[this.thread.z][this.thread.y][this.thread.x]-e[0])}function tr(t,e){return t[this.thread.y][this.thread.x]/e[0]}function er(t,e){return t[this.thread.z][this.thread.y][this.thread.x]/e[0]}function nr(t,e){let n=0;return this.thread.x+this.thread.y*this.output.x===t&&(n=1),-(n-e[this.thread.y][this.thread.x])}function rr(t,e){let n=0;return this.thread.x+this.thread.y*this.output.x+this.thread.z*this.output.x*this.output.y===t&&(n=1),-(n-e[this.thread.z][this.thread.y][this.thread.x])}class ir extends Ct{constructor(t,e){super(t,e),this.errors=null,this.getExponentialsKernel=null,this.getMaxValueKernel=null,this.getSumKernel=null,this.validate(),this.depth>0?(this.weights=K(this.width,this.height,this.depth),this.deltas=At(this.width,this.height,this.depth)):this.height>0?(this.weights=V(this.width,this.height),this.deltas=Tt(this.width,this.height)):(this.weights=F(this.width),this.deltas=j(this.width))}setupKernels(){const{width:t,height:e,depth:n}=this;n>0?(this.getExponentialsKernel=q(Zn,{output:[t,e,n]}),this.getMaxValueKernel=q(qn,{output:[1,1,1],constants:{inputWidth:t,inputHeight:e,inputDepth:n}}),this.getSumKernel=q(Jn,{output:[1,1,1],constants:{inputWidth:t,inputHeight:e,inputDepth:n}}),this.predictKernel=q(er,{output:[t,e,n]}),this.compareKernel=q(rr,{output:[t,e,n],immutable:!0})):(this.getExponentialsKernel=q(Qn,{output:[t,e]}),this.getMaxValueKernel=q(Xn,{output:[1,1],constants:{inputWidth:t,inputHeight:e}}),this.getSumKernel=q(Yn,{output:[1,1],constants:{inputWidth:t,inputHeight:e}}),this.predictKernel=q(tr,{output:[t,e]}),this.compareKernel=q(nr,{output:[t,e],immutable:!0}))}predict(){const t=this.getMaxValueKernel(this.inputLayer.weights),e=this.getExponentialsKernel(this.inputLayer.weights,t),n=this.getSumKernel(e);this.weights=this.predictKernel(e,n)}compare(t){const{deltas:e,errors:n}=this;this.errors=this.compareKernel(t[0],e),this.deltas=tt(this.errors),Q(e),Q(n);const r=this.inputLayer.deltas;this.inputLayer.deltas=tt(this.deltas),Q(r)}}function sr(t,e){return new ir(t,e)}class ar extends St{constructor(t,e){super(e),this.inputLayer=t}predict(){Q(this.weights),this.weights=tt(this.inputLayer.weights),this.validate()}learn(){}}function or(t,e){return new ar(t,e)}function ur(t){return t[this.thread.x][this.thread.y]}const lr=ur;class cr extends Ct{get width(){return this.inputLayer.height}get height(){return this.inputLayer.width}constructor(t){super(t),this.validate()}setupKernels(){this.predictKernel=q(ur,{output:[this.height,this.width]}),this.compareKernel=q(lr,{output:[this.width,this.height]})}predict(){this.weights=this.predictKernel(this.inputLayer.weights)}compare(){this.inputLayer.deltas=this.compareKernel(this.deltas)}}function hr(t){return new cr(t)}const pr={Activation:Et,Internal:Lt,InternalModel:zt,EntryPoint:Mt,Filter:_t,Model:Pt,Modifier:Ct,Operator:It,Target:Rt};var dr=Object.freeze({__proto__:null,layerTypes:pr,Add:oe,add:ue,arthurFeedForward:ke,BaseLayer:St,baseLayerDefaultSettings:wt,Convolution:Oe,convolution:Re,Dropout:Fe,dropout:Ve,feedForward:Ke,FullyConnected:qe,fullyConnected:Ye,gru:yn,Input:xn,input:vn,LeakyRelu:An,leakyRelu:En,lstmCell:_n,Multiply:me,multiply:ge,MultiplyElement:nn,multiplyElement:rn,Negative:Qe,negative:Ze,Ones:on,ones:un,output:Ln,Pool:Dn,pool:zn,Random:ce,random:he,RecurrentInput:Mn,RecurrentZeros:Pn,rnnCell:Gn,Regression:Wn,regression:Hn,Relu:Bn,relu:Un,Sigmoid:we,sigmoid:Se,SoftMax:ir,softMax:sr,SVM:ar,svm:or,Tanh:dn,tanh:fn,Target:Rt,target:Dt,Transpose:cr,transpose:hr,Zeros:mn,zeros:gn});const fr=Object.keys(dr);function mr(t,e,n){if(!fr.find((e=>e===t.type)))return null;const r=dr[t.type];if(r.prototype instanceof pr.Filter){if(!e)throw new Error("inputLayer missing");return new r(t,e)}if(r.prototype instanceof pr.Activation||r.prototype instanceof pr.Modifier){if(!e)throw new Error("inputLayer missing");return new r(e,t)}if(r.prototype instanceof pr.Internal)return new r(t);if(r.prototype instanceof pr.Operator){if(!e)throw new Error("inputLayer1 missing");if(!n)throw new Error("inputLayer2 missing");return new r(e,n,t)}if(r.prototype instanceof pr.InternalModel||r.prototype instanceof pr.EntryPoint||r.prototype instanceof pr.Model)return new r(t);if(r===Rt){if(!e)throw new Error("inputLayer missing");return new r(t,e)}return null}const gr={learningRate:.3,binaryThresh:.5,initPraxis:(t,e)=>{var n;return Zt(t,null!==(n=t.settings.praxisOpts)&&void 0!==n?n:e)}},yr={iterations:2e4,errorThresh:.005,log:!1,logPeriod:10,learningRate:.3,callbackPeriod:10,errorCheckInterval:100,timeout:1/0};class br{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.trainOpts={},this.layers=null,this._inputLayer=null,this._hiddenLayers=null,this._outputLayer=null,this._model=null,this.meanSquaredError=null,this.inputLookup=null,this.inputLookupLength=null,this.outputLookup=null,this.outputLookupLength=null,this.options={...gr,...t},this._updateTrainingOptions({...yr,...t})}static _validateTrainingOptions(t){const{iterations:e,errorThresh:n,log:r,logPeriod:i,learningRate:s,callback:a,callbackPeriod:o,timeout:u}=t,l={iterations:()=>"number"===typeof e&&e>0,errorThresh:()=>"number"===typeof n&&n>0&&n<1,log:()=>"function"===typeof r||"boolean"===typeof r,logPeriod:()=>"number"===typeof i&&i>0,learningRate:()=>"number"===typeof s&&s>0&&s<1,callback:()=>"function"===typeof a||null===a,callbackPeriod:()=>"number"===typeof o&&o>0,timeout:()=>"number"===typeof u&&u>0};Object.keys(yr).forEach((e=>{if(l.hasOwnProperty(e)&&!l[e]()){const n=t[e];throw new Error(`[${e}, ${(null!==n&&void 0!==n?n:"undefined").toString()}] is out of normal training range, your network will probably not train.`)}}))}_setLogMethod(t){this.trainOpts.log="function"===typeof t?t:!!t&&console.log}_updateTrainingOptions(t){var e;this.trainOpts={...yr,...this.trainOpts,...t},br._validateTrainingOptions(this.trainOpts),this._setLogMethod(null!==(e=t.log)&&void 0!==e?e:this.trainOpts.log);const{callback:n,callbackPeriod:r,errorCheckInterval:i}=this.trainOpts;n&&r!==i&&console.warn(`options.callbackPeriod with value of ${(null!==r&&void 0!==r?r:"undefined").toString()} does not match options.errorCheckInterval with value of ${(null!==i&&void 0!==i?i:"undefined").toString()}, if logging error, it will repeat.  These values may need to match`)}_connectOptionsLayers(){const{inputLayerIndex:t,outputLayerIndex:e,layers:n}=this.options;if(!n)throw new Error("this.options.layers in unexpected state");if("number"!==typeof t)throw new Error("inputLayerIndex not a number");if("number"!==typeof e)throw new Error("inputLayerIndex not a number");const r=n[t];if(!r)throw new Error("inputLayer not found in this.options.layers");const i=n[e];if(!i)throw new Error("outputLayer not found in this.options.layers");return this._inputLayer=r,this._hiddenLayers=n.slice(t,e-t),this._outputLayer=i,n}_connectNewLayers(){const{inputLayer:t,outputLayer:e}=this.options;if(!t)throw new Error("inputLayer not defined");const n=[];this._inputLayer=t();const r=this._connectHiddenLayers(this._inputLayer);if(!e)throw new Error("outputLayer not defined");return this._outputLayer=e(r[r.length-1],r.length),n.push(this._inputLayer),n.push(...r),n.push(this._outputLayer),ie(n)}_connectHiddenLayers(t){this._hiddenLayers=[];const e=[],{hiddenLayers:n}=this.options;if(!n)throw new Error("hiddenLayers not defined");for(let r=0;r<n.length;r++){const i=n[r](t,r);e.push(i),this._hiddenLayers.push(i),t=i}return e}initialize(){this.layers=this.options.layers?this._connectOptionsLayers():this._connectNewLayers(),this.initializeLayers(this.layers),this._model=this.layers.filter((t=>t instanceof Pt))}initializeLayers(t){var e,n;for(let i=0;i<t.length;i++){const r=t[i];r.setupKernels(!0),r instanceof Pt&&null===r.praxis&&"function"===typeof this.options.initPraxis&&(r.praxis=this.options.initPraxis(r,null!==(n=null!==(e=r.settings.praxisOpts)&&void 0!==e?e:this.options.praxisOpts)&&void 0!==n?n:{}),r.praxis.setupKernels())}const r=t[t.length-1];this.meanSquaredError=new vt({width:r.width,height:r.height})}run(t){let e;if(Array.isArray(t)||t.buffer)e=t;else{if(!this.inputLookup)throw new Error("input is incompatible with net");e=x.toArray(this.inputLookup,t,this.inputLookupLength)}let n=this.runInput(e);return n instanceof b.Texture&&(n=n.toArray()),this.outputLookup?x.toObject(this.outputLookup,n):n}runInput(t){if(!this.layers)throw new Error("not initialized");this.layers[0].predict(t);for(let e=1;e<this.layers.length;e++)this.layers[e].predict();return this.layers[this.layers.length-1].weights}train(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{preparedData:n,status:r,endTime:i}=this._prepTraining(t,e);let s=!0;const a=()=>this._calculateTrainingError(n),o=()=>this._trainPatterns(n);for(;s;)s=this._trainingTick(r,i,a,o);return r}async trainAsync(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{preparedData:n,status:r,endTime:i}=this._prepTraining(t,e);return await new Promise(((t,e)=>{try{const e=()=>this._calculateTrainingError(n),s=()=>this._trainPatterns(n),a=new v.Thaw(new Array(this.trainOpts.iterations),{delay:!0,each:()=>this._trainingTick(r,i,e,s)||a.stop(),done:()=>t(r)});a.tick()}catch(s){e(s)}}))}_trainingTick(t,e,n,r){const{trainOpts:i}=this;return!(t.iterations>=i.iterations||t.error<=i.errorThresh||Date.now()>=e)&&("function"===typeof i.log&&t.iterations%i.logPeriod===0?(t.error=n(),i.log(`iterations: ${t.iterations}, training error: ${t.error}`)):t.iterations%i.errorCheckInterval===0?t.error=n():r(),i.callback&&t.iterations%i.callbackPeriod===0&&i.callback(Object.assign(t)),t.iterations++,!0)}_prepTraining(t,e){this._updateTrainingOptions(e);const n=this.formatData(t),r=this.trainOpts.timeout?Date.now()+this.trainOpts.timeout:0,i={error:1,iterations:0};return this.verifyIsInitialized(),{preparedData:this.transferData(n),status:i,endTime:r}}verifyIsInitialized(){this._model||this.initialize()}_calculateTrainingError(t){let e=new Float32Array([0]);const n=this.meanSquaredError;for(let i=0;i<t.length;++i){const r=e,s=this._trainPattern(t[i].input,t[i].output,!0);e=n.add(e,s),Q(s),Q(r)}const r=n.divide(t.length,e);if(Q(e),r instanceof b.Texture){const t=r.toArray();return Q(r),t[0]}return r[0]}_trainPatterns(t){for(let e=0;e<t.length;++e)this._trainPattern(t[e].input,t[e].output,!1)}_trainPattern(t,e,n){var r;if(this.runInput(t),this._calculateDeltas(e),this.adjustWeights(),n){if(!(null===(r=this._outputLayer)||void 0===r?void 0:r.errors))throw new Error("outputLayer.errors not defined");return this.meanSquaredError.calculate(this._outputLayer.errors)}return null}_calculateDeltas(t){const e=this.layers;for(let n=e.length-1;n>-1;n--)e[n].compare(t)}adjustWeights(){const t=this._model;for(let e=0;e<t.length;e++)t[e].learn(this.trainOpts.learningRate)}formatData(t){if(!Array.isArray(t)){const e=[];e.push(t),t=e}const e=t[0].input;let n;if(!Array.isArray(t)||Array.isArray(e)||e instanceof Float32Array)n=t;else{if(!this.inputLookup){const e=new I(t,"input");this.inputLookup=e.table,this.inputLookupLength=e.length}n=t.map((t=>({input:x.toArray(this.inputLookup,t.input,this.inputLookupLength)})),this)}const r=t[0].output;if(!Array.isArray(r)&&!(r instanceof Float32Array)){if(!this.outputLookup){const e=new I(t,"output");this.outputLookup=e.table,this.outputLookupLength=e.length}n=t.map(((t,e)=>{const r=x.toArray(this.outputLookup,t.output,this.inputLookupLength);return{input:n[e].input,output:r}}),this)}return n}transferData(t){const e=new Array(t.length),n=q((function(t){return t[this.thread.x]}),{output:[t[0].input.length],immutable:!0}),r=q((function(t){return t[this.thread.x]}),{output:[t[0].output.length],immutable:!0});for(let i=0;i<t.length;i++){const s=t[i];e[i]={input:n(s.input),output:r(s.output)}}return e}test(){throw new Error(`${this.constructor.name}-test is not yet implemented`)}toJSON(){var t;if(this.layers||this.initialize(),!this._model||!this.layers||!this._inputLayer||!this._hiddenLayers||!this._outputLayer)throw new Error("network is not initialized");const e=[];for(let n=0;n<this.layers.length;n++){const t=this.layers[n],r=t.toJSON();t.hasOwnProperty("inputLayer")?r.inputLayerIndex=this.layers.indexOf(t.inputLayer):t.hasOwnProperty("inputLayer1")&&t.hasOwnProperty("inputLayer2")&&(r.inputLayer1Index=this.layers.indexOf(t.inputLayer1),r.inputLayer2Index=this.layers.indexOf(t.inputLayer2)),e.push(r)}return{type:this.constructor.name,sizes:null!==(t=this.options.sizes)&&void 0!==t?t:[this._inputLayer.height].concat(this._hiddenLayers.map((t=>t.height))).concat([this._outputLayer.height]),outputLayerIndex:this.layers.indexOf(this._outputLayer),layers:e,inputLayerIndex:this.layers.indexOf(this._inputLayer)}}static fromJSON(t,e){var n,r,i,s;const a=t.layers,o=[],u=e?null!==(n=mr(a[0]))&&void 0!==n?n:e(a[0]):mr(a[0]);if(!u)throw new Error("unable to find layer");o.push(u);for(let l=1;l<a.length;l++){const t=a[l];if("undefined"===typeof t.inputLayerIndex&&"undefined"===typeof t.inputLayer1Index&&"undefined"===typeof t.inputLayer2Index){const n=e?null!==(r=mr(t))&&void 0!==r?r:e(t):mr(t);if(!n)throw new Error("unable to find layer");o.push(n)}else if("number"===typeof t.inputLayerIndex){const n=o[t.inputLayerIndex];if(!n)throw new Error("inputLayer1 not found");const r=e?null!==(i=mr(t,n))&&void 0!==i?i:e(t,n):mr(t,n);if(!r)throw new Error("unable to find layer");o.push(r)}else{if("number"!==typeof t.inputLayer1Index)throw new Error("Cannot create network from provided JSON. inputLayer1Index not defined.");if("number"!==typeof t.inputLayer2Index)throw new Error("Cannot create network from provided JSON. inputLayer2Index not defined.");const n=o[t.inputLayer1Index],r=o[t.inputLayer2Index];if(void 0===n)throw new Error(`Cannot create network from provided JSON. layer of index ${t.inputLayer1Index} not found.`);if(void 0===r)throw new Error(`Cannot create network from provided JSON. layer of index ${t.inputLayer2Index} not found.`);const i=e?null!==(s=mr(t,n,r))&&void 0!==s?s:e(t,n,r):mr(t,n,r);if(!i)throw new Error("unable to find layer");o.push(i)}}return new this({...t,layers:o})}toFunction(){throw new Error(`${this.constructor.name}-toFunction is not yet implemented`)}}function xr(t,e){if(!e)throw new TypeError(`Required parameter 'net' is of type ${typeof e}. Must be of type 'brain.NeuralNetwork'`);const n=e.run(t);let r=null,i=-1;return Object.entries(n).forEach((t=>{let[e,n]=t;"undefined"!==typeof n&&"number"===typeof n&&n>i&&(r=e,i=n)})),r}class vr extends Lt{constructor(){super(...arguments),this.settings={},this.layer=null}setLayer(t){this.layer=t}get width(){if(!this.layer)throw new Error("layer not set");return this.layer.width}set width(t){throw new Error(`${this.constructor.name}-width is not yet implemented`)}get height(){if(!this.layer)throw new Error("layer not set");return this.layer.height}set height(t){throw new Error(`${this.constructor.name}-height is not yet implemented`)}get deltas(){if(!this.layer)throw new Error("layer not set");return this.layer.deltas}set deltas(t){if(!this.layer)throw new Error("layer not set");Q(this.layer.deltas),this.layer.deltas=t}get weights(){if(!this.layer)throw new Error("layer not set");return this.layer.weights}set weights(t){if(!this.layer)throw new Error("layer not set");Q(this.layer.weights),this.layer.weights=t}predict(){}compare(){}learn(){throw new Error("no longer using")}setupKernels(){}reuseKernels(){}}class wr extends br{constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),this.trainOpts={},this._outputConnection=null,this._layerSets=[],this._hiddenLayerOutputIndices=[],this._model=null}_connectLayers(){if(!this.options.inputLayer)throw new Error("inputLayer not found");if(!this.options.outputLayer)throw new Error("outputLayer not found");const t=this.options.inputLayer(),e=this._connectHiddenLayers(t);return{inputLayer:t,hiddenLayers:e,outputLayer:this.options.outputLayer(e[e.length-1],-1)}}_connectLayersDeep(){const t=[],e=this._layerSets[this._layerSets.length-1];let n=0;function r(n){const r=e.indexOf(n);if(r<0)throw new Error("unable to find layer");return t[r]}function i(t){return{...t.settings,weights:null,deltas:null,praxis:null}}for(let s=0;s<e.length;s++){const a=e[s];let o;if(a instanceof Et)o=new a.constructor(r(a.inputLayer),i(a));else if(a instanceof Mt)o=new a.constructor(i(a));else if(a instanceof _t)o=new a.constructor(i(a.inputLayer),r(a.inputLayer));else if(a instanceof Lt){const t=e[this._hiddenLayerOutputIndices[n++]];if(a instanceof vr)throw new Error("unfinished");if(a instanceof Mn)o=new Mn(t);else{if(!(a instanceof Pn))throw new Error(`hidden layer ${a.constructor.name} extends unknown hidden layer`);o=new Mn(t)}}else if(a instanceof zt||a instanceof Pt)o=a;else if(a instanceof Ct)o=new a.constructor(r(a.inputLayer),i(a.inputLayer));else if(a instanceof It)o=new a.constructor(r(a.inputLayer1),r(a.inputLayer2),i(a));else{if(!(a instanceof Rt))throw new Error(`hidden layer ${a.constructor.name} extends unknown hidden layer`);o=new a.constructor(i(a),r(a.inputLayer))}t.push(o)}return t}_connectHiddenLayers(t){const e=[];if(!this.options.hiddenLayers)throw new Error("hiddenLayers not defined");for(let n=0;n<this.options.hiddenLayers.length;n++){const r=new Pn,i=this.options.hiddenLayers[n](t,r,n);t=i,e.push(i)}return e}initialize(){let t;if(this._outputConnection=new vr,this.options.layers)t=this._connectOptionsLayers();else{const{inputLayer:e,hiddenLayers:n,outputLayer:r}=this._connectLayers();t=ie([e,...n,r]),this._hiddenLayerOutputIndices=n.map((e=>t.indexOf(e))),this._inputLayer=e,this._hiddenLayers=n,this._outputLayer=r}this.layers=t,this._layerSets=[t],this._model=t.filter((t=>t instanceof Pt||t instanceof zt)),this.initializeLayers(t)}initializeDeep(){const t=this._connectLayersDeep();for(let e=0;e<t.length;e++){const n=t[e];n.setupKernels(!0),n.reuseKernels(this._layerSets[0][e])}this._layerSets.push(t)}run(t){for(;this._layerSets.length<=t.length;)this.initializeDeep();const e=this.runInputs(t);return e instanceof b.Texture?e.toArray():e}runInput(t){throw new Error("use .runInputs()")}runInputs(t){for(;this._layerSets.length<t.length;)this.initializeDeep();const e=t.length-1;for(let i=0;i<=e;i++){const e=this._layerSets[i];e[0].predict(t[i]);for(let t=1;t<e.length;t++)e[t].predict()}const n=this._layerSets[e],r=n[n.length-1].weights;return this.end(),r}train(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{preparedData:n,status:r,endTime:i}=this._prepTraining(t,e);let s=!0;const a=()=>this._calculateTrainingError(n),o=()=>this._trainPatterns(n);for(;s;)s=this._trainingTick(r,i,a,o);return r}end(){const t=this._layerSets.length-1,e=this._layerSets[t];e[0].predict([new Float32Array([0])]);for(let n=1;n<e.length;n++)e[n].predict()}transferData(t){return t}_prepTraining(t,e){this._updateTrainingOptions(e);const n=this.trainOpts.timeout?Date.now()+this.trainOpts.timeout:0,r={error:1,iterations:0};return this.verifyIsInitialized(),{preparedData:this.transferData(t),status:r,endTime:n}}_calculateTrainingError(t){if(!this.meanSquaredError)throw new Error("this.meanSquaredError not setup");let e=new Float32Array(1);for(let r=0;r<t.length;++r){const n=e,i=this._trainPattern(t[r],!0);e=this.meanSquaredError.add(e,i),Q(i),Q(n)}const n=this.meanSquaredError.divide(t.length,e);return Q(e),n instanceof b.Texture?n.toArray()[0]:n[0]}formatData(t){return t}_calculateDeltas(t){const e=this._layerSets[this._layerSets.length-1];for(let n=e.length-2;n>=0;n--)e[n].compare();for(let n=t.length-2;n>=0;n--){const e=this._layerSets[n];e[e.length-1].compare(t[n+1]);for(let t=e.length-2;t>=0;t--)e[t].compare()}}adjustWeights(){var t;const e=this._model;for(let n=0;n<e.length;n++)e[n].learn(null!==(t=this.options.learningRate)&&void 0!==t?t:0)}_trainPatterns(t){for(let e=0;e<t.length;++e)this._trainPattern(t[e],!1)}_trainPattern(t,e){if(this.runInputs(t),this._calculateDeltas(t),this.adjustWeights(),e){if(!this.meanSquaredError)throw new Error("this.meanSquaredError not setup");let e=new Float32Array(1);for(let n=0,r=t.length-2;n<=r;n++){const t=this._layerSets[n],r=t[t.length-1],i=e;e=this.meanSquaredError.addAbsolute(i,r.errors),Q(i)}return tt(this.meanSquaredError.divide(t.length,e))}return null}}class Sr{constructor(t,e){this.rows=0,this.columns=0,t&&(this.rows=t),e&&(this.columns=e),this.weights=j(this.rows*this.columns),this.deltas=j(this.rows*this.columns)}getWeight(t,e){const n=this.columns*t+e;if(n<0||n>=this.weights.length)throw new Error("get accessor is skewed");return this.weights[n]}setWeight(t,e,n){const r=this.columns*t+e;if(r<0||r>=this.weights.length)throw new Error("set accessor is skewed");return this.weights[r]=n,this}getDelta(t,e){const n=this.columns*t+e;if(n<0||n>=this.deltas.length)throw new Error("get accessor is skewed");return this.deltas[n]}setDelta(t,e,n){const r=this.columns*t+e;if(r<0||r>=this.weights.length)throw new Error("set accessor is skewed");return this.deltas[r]=n,this}toJSON(){return{rows:this.rows,columns:this.columns,weights:Array.from(this.weights.slice(0))}}static fromJSON(t){const e=new Sr(t.rows,t.columns);for(let n=0,r=t.rows*t.columns;n<r;n++)e.weights[n]=t.weights[n];return e}static fromArray(t){const e=new Sr(t.length,t[0].length);return e.fromArray(t),e}deltasToArray(){return this.toArray("deltas")}weightsToArray(){return this.toArray("weights")}toArray(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"weights";const e=new Array(this.rows);return this.iterate({row:t=>{e[t]=new Array(this.columns)},column:(n,r)=>{"weights"===t?e[n][r]=this.getWeight(n,r):"deltas"===t&&(e[n][r]=this.getDelta(n,r))}}),e}fromArray(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"weights";if(t.length!==this.rows)throw new Error("rows do not match");if(t[0].length!==this.columns)throw new Error("columns do not match");return this.iterate({column:(n,r)=>{const i=t[n][r];if("number"!==typeof i)throw new Error("value not number");"weights"===e?this.setWeight(n,r,i):"deltas"===e&&this.setDelta(n,r,i)}}),this}iterate(t){const e=this.rows,n=this.columns;for(let r=0;r<e;r++){t.row&&t.row(r);for(let e=0;e<n;e++)t.column&&t.column(r,e)}return this}}class kr extends Sr{constructor(t,e,n){super(t,e),this.std=n;for(let r=0,i=this.weights.length;r<i;r++)this.weights[r]=D(-n,n)}}class Tr{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.values=t,this.indexTable={},this.characterTable={},this.characters=[],this.specialIndexes=[],this.isSetup=!1,void 0!==t&&this.setup(t,e)}setup(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this.isSetup)throw new Error("DataFormatter is already setup");this.values=t,this.buildCharactersFromIterable(t),this.buildTables(e),t[0].input&&this.addInputOutput(),this.addUnrecognized(),this.isSetup=!0}buildCharactersFromIterable(t){const e={};for(let n=0,r=t.length;n<r;n++){const r=t[n];if(r.hasOwnProperty("length")){const t=r;for(let n=0,r=t.length;n<r;n++){const r=t[n];e.hasOwnProperty(r)||(e[r]=!0,this.characters.push(r))}}else if("number"===typeof r){if(e.hasOwnProperty(r))continue;e[r]=!0,this.characters.push(r)}else if("boolean"===typeof r){const t=r.toString();if(e.hasOwnProperty(t))continue;e[t]=!0,this.characters.push(t)}else if(Array.isArray(r)&&"string"===typeof r[0])for(let t=0;t<r.length;t++){const n=r[t];e.hasOwnProperty(n)||(e[n]=!0,this.characters.push(n))}else if(!Array.isArray(r)||"number"!==typeof r[0]&&"boolean"!==typeof r[0]){if(!r.hasOwnProperty("input")||!r.hasOwnProperty("output"))throw new Error("Unhandled value");{const{input:t,output:n}=r;Array.isArray(t)?this.addCharacters(t,e):this.addCharacters(t.toString(),e),Array.isArray(n)?this.addCharacters(n,e):this.addCharacters(n.toString(),e)}}else for(let t=0;t<r.length;t++){const i=r[t].toString();e.hasOwnProperty(n)||(e[i]=!0,this.characters.push(i))}}}addCharacters(t,e){for(let n=0;n<t.length;n++){const r=t[n].toString();e.hasOwnProperty(r)||(e[r]=!0,this.characters.push(r))}}buildTables(t){const e=this.characters.length;for(let n=0;n<e;n++){const e=this.characters[n];n>=t&&(this.indexTable[e]=n,this.characterTable[n]=e)}}toIndexes(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=[],{indexTable:r}=this;switch(typeof t){case"number":case"boolean":t=t.toString()}for(let i=0,s=t.length;i<s;i++){const s=t[i].toString();let a=r[s];if(void 0===a){if(!r.unrecognized)throw new Error(`unrecognized character "${s}"`);a=r.unrecognized}a<e||n.push(a)}return n}toIndexesInputOutput(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const r=this.toIndexesValue(t,n,!0);return"undefined"===typeof e?r:r.concat(this.toIndexesValue(e,n,!1))}toIndexesValue(t,e,n){if("string"===typeof t)t=t.split("");else if("number"===typeof t||"boolean"===typeof t)t=t.toString().split("");else{if(!Array.isArray(t)||"number"!==typeof t[0]&&"boolean"!==typeof t[0]&&"string"!==typeof t[0])throw new Error("unrecognized value");t=t.map((t=>t.toString()))}return n&&(t=t.concat(["stop-input","start-output"])),this.toIndexes(t,e)}toCharacters(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=[],{indexTable:r,characterTable:i}=this;for(let s=0,a=t.length;s<a;s++){const a=t[s];if(a<e)continue;let o=i[a];if(void 0===o){if(!r.unrecognized)throw new Error(`unrecognized index "${a}"`);o=i[r.unrecognized]}else null!==o&&n.push(o.toString())}return n}toString(t,e){return this.toCharacters(t,e).join("")}addInputOutput(){this.addSpecial("stop-input"),this.addSpecial("start-output")}addUnrecognized(){this.addSpecial("unrecognized")}static fromAllPrintable(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["\n"];for(let n=32;n<=126;n++)e.push(String.fromCharCode(n));return new Tr(e,t)}static fromAllPrintableInputOutput(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["\n"];const n=Tr.fromAllPrintable(t,e);return n.addInputOutput(),n.addUnrecognized(),n}static fromStringInputOutput(t,e){const n=Array.from(new Set(t)).join(""),r=new Tr(n.split(""),e);return r.addInputOutput(),r.addUnrecognized(),r.isSetup=!0,r}static fromArrayInputOutput(t,e){const n=[];for(let s=0;s<t.length;s++){const e=t[s];n.push(Ar(e.input),Ar(e.output))}const r=Array.isArray(n)?n.flat():n,i=new Tr(Array.from(new Set(r)),e);return i.addInputOutput(),i.addUnrecognized(),i.isSetup=!0,i}static fromString(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=Array.from(new Set(t)).join("");return new Tr(n.split(""),e)}toJSON(){return{indexTable:this.indexTable,characterTable:this.characterTable,values:this.values,characters:this.characters,specialIndexes:this.specialIndexes}}static fromJSON(t){const e=new Tr;return e.indexTable=t.indexTable,e.characterTable=t.characterTable,e.values=t.values,e.characters=t.characters,e.specialIndexes=t.specialIndexes,e.isSetup=!0,e}addSpecial(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=this.indexTable[t]=this.characters.length;this.characterTable[n]=e,this.specialIndexes.push(this.characters.length),this.characters.push(t)}toFunctionString(){return`\nvar characterTable = ${JSON.stringify(this.characterTable)};\nvar indexTable = ${JSON.stringify(this.indexTable)};\nvar characters = ${JSON.stringify(this.characters)};\nvar dataFormatter = {\n  toIndexes: function ${this.toIndexes.toString()},\n  toIndexesInputOutput: function ${this.toIndexesInputOutput.toString()},\n  toCharacters: function ${this.toCharacters.toString()},\n  toIndexesValue: function ${this.toIndexesValue.toString()},\n};`}formatDataIn(t,e){var n;return void 0===t?[]:Array.isArray(t)&&"number"===typeof t[0]?t:(null===(n=this.indexTable)||void 0===n?void 0:n.hasOwnProperty("stop-input"))?this.toIndexesInputOutput(t,e):this.toIndexes(t)}formatDataOut(t,e){return this.toCharacters(e).join("")}format(t){if("number"===typeof t[0]&&!Array.isArray(t[0])&&(!t[0].hasOwnProperty("input")||!t[0].hasOwnProperty("output")))return t;const e=[];if("string"===typeof t[0]||"number"===typeof t[0]||Array.isArray(t[0]))if(this.isSetup)for(let n=0,r=t.length;n<r;n++)e.push(this.formatDataIn(t[n]));else{this.setup(t);for(let n=0;n<t.length;n++)e.push(this.formatDataIn(Ar(t[n])))}else{if(!t[0].input||!t[0].output)throw new Error("unrecognized data");this.isSetup||this.setup(t);for(let n=0,r=t.length;n<r;n++)e.push(this.formatDataIn(Ar(t[n].input),Ar(t[n].output)))}return e}}function Ar(t){if("string"===typeof t)return t;if("number"===typeof t)return t.toString();if("boolean"===typeof t)return t.toString();if(Array.isArray(t)&&"string"===typeof t[0])return t;if("boolean"===typeof t[0])return t.map((t=>t.toString()));if("number"===typeof t[0])return t.map((t=>t.toString()));throw new Error("unrecognized value, expected string[], string, number[], number, boolean[], or boolean")}function Er(t,e){t.rows=e.rows,t.columns=e.columns,t.weights=e.weights.slice(0),t.deltas=e.deltas.slice(0)}function _r(t,e,n){for(let r=0;r<e.weights.length;r++)t.weights[r]=e.weights[r]+n.weights[r],t.deltas[r]=0}function Lr(t,e,n){for(let r=0;r<t.deltas.length;r++)e.deltas[r]=t.deltas[r],n.deltas[r]=t.deltas[r]}function Cr(t){for(let e=0;e<t.weights.length;e++)t.weights[e]=1,t.deltas[e]=0}function Ir(t,e){t.rows=e.rows,t.columns=e.columns,t.weights=e.weights.slice(0),t.deltas=e.deltas.slice(0);for(let n=0;n<e.weights.length;n++)t.weights[n]=-e.weights[n],t.deltas[n]=0}function $r(t,e,n){const r=e.rows,i=e.columns,s=n.columns;for(let a=0;a<r;a++){const r=i*a,o=s*a;for(let a=0;a<s;a++){let u=0;for(let t=0;t<i;t++){const i=r+t,o=s*t+a;u+=e.weights[i]*n.weights[o],e.deltas[i]=0,n.deltas[o]=0}t.weights[o+a]=u}}}function Or(t,e,n){const r=e.rows,i=e.columns,s=n.columns;for(let a=0;a<r;a++){const r=i*a,o=s*a;for(let a=0;a<s;a++)for(let u=0;u<i;u++){const i=r+u,l=s*u+a,c=t.deltas[o+a];e.deltas[i]+=n.weights[l]*c,n.deltas[l]+=e.weights[i]*c}}}function Rr(t,e,n){const{weights:r}=e;for(let i=0;i<r.length;i++)t.weights[i]=e.weights[i]*n.weights[i],t.deltas[i]=0}function Dr(t,e,n){for(let r=0;r<e.weights.length;r++)e.deltas[r]=n.weights[r]*t.deltas[r],n.deltas[r]=e.weights[r]*t.deltas[r]}function zr(t,e){for(let n=0;n<e.weights.length;n++)t.weights[n]=Math.max(0,e.weights[n]),t.deltas[n]=0}function Mr(t,e){for(let n=0;n<t.deltas.length;n++)e.deltas[n]=e.weights[n]>0?t.deltas[n]:0}function Pr(t,e,n){const{columns:r}=e,i=r*n;for(let s=0;s<r;s++)t.weights[s]=e.weights[i+s],t.deltas[s]=0}function Nr(t,e,n){const{columns:r}=e,i=r*n;for(let s=0;s<r;s++)e.deltas[i+s]=t.deltas[s]}function Fr(t,e){for(let n=0;n<e.weights.length;n++)t.weights[n]=1/(1+Math.exp(-e.weights[n])),t.deltas[n]=0}function Vr(t,e){for(let n=0;n<t.deltas.length;n++){const r=t.weights[n];e.deltas[n]=r*(1-r)*t.deltas[n]}}function Kr(t){const e=new Sr(t.rows,t.columns);let n=-999999;for(let i=0;i<t.weights.length;i++)t.weights[i]>n&&(n=t.weights[i]);let r=0;for(let i=0;i<t.weights.length;i++)e.weights[i]=Math.exp(t.weights[i]-n),r+=e.weights[i];for(let i=0;i<t.weights.length;i++)e.weights[i]/=r;return e}function jr(t,e){for(let n=0;n<e.weights.length;n++)t.weights[n]=Math.tanh(e.weights[n]),t.deltas[n]=0}function Br(t,e){for(let n=0;n<t.deltas.length;n++){const r=t.weights[n];e.deltas[n]=(1-r*r)*t.deltas[n]}}class Ur{constructor(){this.states=[],this.inputRow=0}add(t,e){if(t.weights.length!==e.weights.length)throw new Error("misaligned matrices");const n=new Sr(t.rows,t.columns);return this.states.push({name:"add",product:n,left:t,right:e,forwardFn:_r,backpropagationFn:Lr}),n}allOnes(t,e){const n=new Sr(t,e);return this.states.push({name:"allOnes",product:n,left:n,forwardFn:Cr,backpropagationFn:()=>{}}),n}cloneNegative(t){const e=new Sr(t.rows,t.columns);return this.states.push({name:"cloneNegative",product:e,left:t,forwardFn:Ir,backpropagationFn:()=>{}}),e}subtract(t,e){if(t.weights.length!==e.weights.length)throw new Error("misaligned matrices");return this.add(this.add(this.allOnes(t.rows,t.columns),this.cloneNegative(t)),e)}multiply(t,e){if(t.columns!==e.rows)throw new Error("misaligned matrices");const n=new Sr(t.rows,e.columns);return this.states.push({name:"multiply",product:n,left:t,right:e,forwardFn:$r,backpropagationFn:Or}),n}multiplyElement(t,e){if(t.weights.length!==e.weights.length)throw new Error("misaligned matrices");const n=new Sr(t.rows,t.columns);return this.states.push({name:"multiplyElement",product:n,left:t,right:e,forwardFn:Rr,backpropagationFn:Dr}),n}relu(t){const e=new Sr(t.rows,t.columns);return this.states.push({name:"relu",product:e,left:t,forwardFn:zr,backpropagationFn:Mr}),e}input(t){return this.states.push({name:"input",product:t,forwardFn:e=>{if(this.inputValue){if(this.inputValue.length!==e.weights.length)throw new Error("this.inputValue is of wrong dimensions");e.weights=t.weights=this.inputValue}},backpropagationFn:()=>{}}),t}inputMatrixToRow(t){const e=this,n=new Sr(t.columns,1);return this.states.push({name:"inputMatrixToRow",product:n,left:t,get right(){return e.inputRow},forwardFn:Pr,backpropagationFn:Nr}),n}sigmoid(t){const e=new Sr(t.rows,t.columns);return this.states.push({name:"sigmoid",product:e,left:t,forwardFn:Fr,backpropagationFn:Vr}),e}tanh(t){const e=new Sr(t.rows,t.columns);return this.states.push({name:"tanh",product:e,left:t,forwardFn:jr,backpropagationFn:Br}),e}observe(t){return this.states.push({name:"observe",product:new Sr,forwardFn:()=>{},backpropagationFn:()=>{}}),t}runIndex(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.inputRow=t;let e=this.states[0];for(let n=0,r=this.states.length;n<r;n++)e=this.states[n],e.hasOwnProperty("forwardFn")&&e.forwardFn(e.product,e.left,e.right);return e.product}runInput(t){this.inputValue=t;let e=this.states[0];for(let n=0,r=this.states.length;n<r;n++)e=this.states[n],e.hasOwnProperty("forwardFn")&&e.forwardFn(e.product,e.left,e.right);return e.product}backpropagate(){let t=this.states.length,e=this.states[0];for(;t-- >0;)e=this.states[t],e.hasOwnProperty("backpropagationFn")&&e.backpropagationFn(e.product,e.left,e.right);return e.product}backpropagateIndex(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.inputRow=t;let e=this.states.length,n=this.states[0];for(;e-- >0;)n=this.states[e],n.hasOwnProperty("backpropagationFn")&&n.backpropagationFn(n.product,n.left,n.right);return n.product}predictTarget(t,e){let n=0;const r=this.runInput(t);for(let i=0;i<r.weights.length;i++){const t=r.weights[i]-e[i];n+=Math.abs(t),r.deltas[i]=t}return n}predictTargetIndex(t,e){const n=this.runIndex(t),r=n,i=Kr(n);return r.deltas=i.weights.slice(0),r.deltas[e]-=1,-Math.log2(i.weights[e])}}function Gr(t){const{weights:e}=t;let n=e[0],r=0;for(let i=1;i<e.length;i++){const t=e[i];t<n||(r=i,n=t)}return r}function Wr(t){const e=D(0,1),n=t.weights;let r=0,i=0;for(;;){if(r+=n[i],r>e)return i;i++}}const Hr={iterations:2e4,errorThresh:.005,log:!1,logPeriod:10,learningRate:.01,callbackPeriod:10,timeout:1/0},Xr=()=>({inputSize:20,inputRange:20,hiddenLayers:[20,20],outputSize:20,decayRate:.999,smoothEps:1e-8,regc:1e-6,clipval:5,maxPredictionLength:100,dataFormatter:new Tr});class qr{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.options={...Xr()},this.trainOpts={...Hr},this.stepCache={},this.runs=0,this.ratioClipped=0,this.model=Object.seal({isInitialized:!1,input:new Sr(0,0),hiddenLayers:[],output:new Sr(0,0),equations:[],allMatrices:[],equationConnections:[],outputConnector:new kr(0,0,.08)}),this.initialLayerInputs=[],this.options={...this.options,...t},this.updateTrainingOptions({...Hr}),t.json&&this.fromJSON(t.json)}initialize(){const{dataFormatter:t}=this.options;(null===t||void 0===t?void 0:t.characters.length)&&(this.options.inputSize=this.options.inputRange=this.options.outputSize=t.characters.length),this.model=this.mapModel()}createHiddenLayers(){const{hiddenLayers:t,inputSize:e}=this.options,n=[];n.push(this.getHiddenLayer(t[0],e));let r=t[0];for(let i=1;i<t.length;i++){const e=t[i];n.push(this.getHiddenLayer(e,r)),r=e}return n}getHiddenLayer(t,e){return{weight:new kr(t,e,.08),transition:new kr(t,t,.08),bias:new Sr(t,1)}}getEquation(t,e,n,r){if(!r.weight||!r.transition||!r.bias)throw new Error("hiddenLayer does not have expected properties");const i=t.relu.bind(t),s=t.add.bind(t),a=t.multiply.bind(t);return i(s(s(a(r.weight,e),a(r.transition,n)),r.bias))}createInputMatrix(){const{inputRange:t,inputSize:e}=this.options;if(t<1)throw new Error("this.options.inputRange not an expected number");if(e<1)throw new Error("this.options.inputSize not an expected number");return new kr(t+1,e,.08)}createOutputMatrices(){const{outputSize:t,hiddenLayers:e}=this.options,n=Yr(e);return{outputConnector:new kr(t+1,n,.08),output:new Sr(t+1,1)}}bindEquation(){const{model:t}=this,{hiddenLayers:e}=this.options,n=new Ur,r=[],i=t.equationConnections.length>0?Yr(t.equationConnections):this.initialLayerInputs;let s=this.getEquation(n,n.inputMatrixToRow(t.input),i[0],t.hiddenLayers[0]);r.push(s);for(let a=1,o=e.length;a<o;a++){if(!i[a])throw new Error(`Cannot find equation at index ${a}`);s=this.getEquation(n,s,i[a],t.hiddenLayers[a]),r.push(s)}t.equationConnections.push(r),n.add(n.multiply(t.outputConnector,s),t.output),t.equations.push(n)}mapModel(){const t=[];this.initialLayerInputs=this.options.hiddenLayers.map((t=>new Sr(t,1)));const e=this.createInputMatrix();t.push(e);const n=this.createHiddenLayers();if(!n.length)throw new Error("net.hiddenLayers not set");for(let s=0,a=n.length;s<a;s++){const e=n[s];for(const n in e)e.hasOwnProperty(n)&&t.push(e[n])}const{output:r,outputConnector:i}=this.createOutputMatrices();return t.push(i),t.push(r),Object.seal({isInitialized:!0,input:e,hiddenLayers:n,output:r,equations:[],allMatrices:t,equationConnections:[],outputConnector:i})}trainInput(t){this.runs++;const{model:e}=this,n=t.length;let r,i=0;for(;e.equations.length<=t.length+1;)this.bindEquation();for(let s=-1,a=t.length;s<a;s++){const a=s+1;r=e.equations[a];const o=-1===s?0:t[s]+1,u=s===n-1?0:t[s+1]+1;i+=r.predictTargetIndex(o,u)}return Math.pow(2,i/(n-1))/100}backpropagate(t){let e=t.length;const{model:n}=this,{equations:r}=n;for(;e>0;)r[e].backpropagateIndex(t[e-1]+1),e--;r[0].backpropagateIndex(0)}adjustWeights(){const{regc:t,clipval:e,decayRate:n,smoothEps:r}=this.options,{trainOpts:i,model:s,stepCache:a}=this,{learningRate:o}=i,{allMatrices:u}=s;let l=0,c=0;for(let h=0;h<u.length;h++){const i=u[h],{weights:s,deltas:p}=i;h in a||(a[h]=j(i.rows*i.columns));const d=a[h];for(let a=0;a<s.length;a++){let i=p[a];const u=s[a];d[a]=d[a]*n+(1-n)*i*i,i>e?(i=e,l++):i<-e&&(i=-e,l++),c++,s[a]=u+-o*i/Math.sqrt(d[a]+r)-t*u}}this.ratioClipped=l/c}get isRunnable(){return!this.model||0!==this.model.equations.length||(console.error("No equations bound, did you run train()?"),!1)}checkRunnable(){if(!this.isRunnable)throw new Error("Network not runnable")}run(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;const r=this.options.maxPredictionLength+(null!==t?t.length:0)+(this.options.dataFormatter?this.options.dataFormatter.specialIndexes.length:0);this.checkRunnable();const i=this.options.dataFormatter&&t.length>0?this.options.dataFormatter.formatDataIn(t):t,{model:s}=this,a=[];let o=0;for(;;){const t=0===o?0:o<i.length?i[o-1]+1:a[o-1];for(;s.equations.length<=o;)this.bindEquation();const u=s.equations[o].runIndex(t),l=new Sr(s.output.rows,s.output.columns);if(Er(l,u),1!==n&&e)for(let e=0,r=l.weights.length;e<r;e++)l.weights[e]/=n;const c=Kr(l),h=e?Wr(c):Gr(c);if(o++,0===h)break;if(o>=r)break;a.push(h)}return this.options.dataFormatter.formatDataOut(i,a.slice(i.length).map((t=>t-1)))}verifyIsInitialized(){this.model.isInitialized||this.initialize()}updateTrainingOptions(t){var e;this.trainOpts={...Hr,...t},this.validateTrainingOptions(this.trainOpts),this.setLogMethod(null!==(e=t.log)&&void 0!==e?e:this.trainOpts.log)}validateTrainingOptions(t){const e={iterations:()=>{const e=t.iterations;return"number"===typeof e&&e>0},errorThresh:()=>{const e=t.errorThresh;return"number"===typeof e&&e>0&&e<1},log:()=>{const e=t.log;return"function"===typeof e||"boolean"===typeof e},logPeriod:()=>{const e=t.logPeriod;return"number"===typeof e&&e>0},learningRate:()=>{const e=t.learningRate;return"number"===typeof e&&e>0&&e<1},callback:()=>{const e=t.callback;return"function"===typeof e||void 0===e},callbackPeriod:()=>{const e=t.callbackPeriod;return"number"===typeof e&&e>0},timeout:()=>{const e=t.timeout;return"number"===typeof e&&e>0}};for(const n in e){const r=t;if(!e[n]())throw new Error(`[${n}, ${r[n]}] is out of normal training range, your network will probably not train.`)}}setLogMethod(t){this.trainOpts.log="function"===typeof t?t:!!t&&console.log}prepTraining(t,e){var n;this.updateTrainingOptions(e);const r=this.options.dataFormatter.format(t),i=Date.now()+(null!==(n=this.trainOpts.timeout)&&void 0!==n?n:0),s={error:1,iterations:0};return this.verifyIsInitialized(),{preparedData:r,status:s,endTime:i}}train(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var n;this.trainOpts=e={...Hr,...e};const{iterations:r,errorThresh:i,logPeriod:s,callback:a,callbackPeriod:o}=this.trainOpts,u=!0===e.log?console.log:e.log;let l,c,h=1/0;if(null===(n=this.options)||void 0===n?void 0:n.dataFormatter)c=this.options.dataFormatter.format(t);else{if(!Array.isArray(t)||!Array.isArray(t[0])||"number"!==typeof t[0][0])throw new Error("training not in expected format of number[][]");c=t}for(this.verifyIsInitialized(),l=0;l<r&&h>i;l++){let e=0;for(let t=0;t<c.length;t++)e+=this.trainPattern(c[t],!0);if(h=e/t.length,isNaN(h))throw new Error("Network error rate is unexpected NaN, check network configurations and try again. Most probably input format is not correct or training data is not enough. ");u&&l%s===0&&u(`iterations: ${l}, training error: ${h}`),a&&l%o===0&&a({error:h,iterations:l})}return{error:h,iterations:l}}addFormat(t){}formatData(t){const e=[];for(let n=0;n<t.length;n++)e.push(this.options.dataFormatter.formatDataIn(t[n]));return e}toJSON(){this.model.isInitialized||this.initialize();const{model:t,options:e}=this;return{type:this.constructor.name,options:{...e,dataFormatter:e.dataFormatter.toJSON()},trainOpts:{...this.trainOpts,timeout:this.trainOpts.timeout===1/0?"Infinity":this.trainOpts.timeout},input:t.input.toJSON(),hiddenLayers:t.hiddenLayers.map((t=>{const e={};for(const n in t)t.hasOwnProperty(n)&&(e[n]=t[n].toJSON());return e})),outputConnector:this.model.outputConnector.toJSON(),output:this.model.output.toJSON()}}fromJSON(t){const{options:e}=t,n=[],r=Sr.fromJSON(t.input);n.push(r);const i=[];t.hiddenLayers.forEach((t=>{const e={};for(const r in t)e[r]=Sr.fromJSON(t[r]),n.push(e[r]);i.push(e)}));const s=Sr.fromJSON(t.outputConnector);n.push(s);const a=Sr.fromJSON(t.output);return n.push(a),e.dataFormatter?this.options={...Xr(),...e,dataFormatter:Tr.fromJSON(e.dataFormatter)}:this.options={...Xr(),...e,dataFormatter:new Tr},this.model=Object.seal({isInitialized:!0,input:r,hiddenLayers:i,output:a,allMatrices:n,outputConnector:s,equations:[],equationConnections:[]}),this.initialLayerInputs=this.options.hiddenLayers.map((t=>new Sr(t,1))),this.bindEquation(),this}toFunction(t){const{model:e}=this,{equations:n}=this.model,r=n[1],{states:i}=r,s=JSON.stringify(this.toJSON());function a(t){const r=e.equationConnections[0],{states:i}=n[0];for(let e=0,n=i.length;e<n;e++)if(i[e].product===t)return e;return r.indexOf(t)}function o(t,e){for(let n=0,r=i.length;n<r;n++){const r=i[n];if(n===e){const e=a(t);return e>-1&&(t===r.left||t===r.right)?`typeof prevStates[${e}] === 'object' ? prevStates[${e}].product : new Matrix(${t.rows}, ${t.columns})`:`new Matrix(${t.rows}, ${t.columns})`}if(t===r.product)return`states[${n}].product`;if(t===r.right)return`states[${n}].right`;if(t===r.left)return`states[${n}].left`}return""}function u(t,n){if(!t||!t.rows||!t.columns)return"null";if(t===e.input)return"json.input";if(t===e.outputConnector)return"json.outputConnector";if(t===e.output)return"json.output";for(let r=0,i=e.hiddenLayers.length;r<i;r++){const n=e.hiddenLayers[r];for(const e in n)if(n.hasOwnProperty(e)&&n[e]===t)return`json.hiddenLayers[${r}].${e}`}return o(t,n)}function l(t){const e=t.toString().split("{");e.shift();const n=e.join("{").split("}");return n.pop(),n.join("}").split("\n").join("\n        ").replace("product.deltas[i] = 0;","").replace("product.deltas[column] = 0;","").replace("left.deltas[leftIndex] = 0;","").replace("right.deltas[rightIndex] = 0;","").replace("product.deltas = left.deltas.slice(0);","")}function c(t){return`src/recurrent/matrix/${t.replace(/[A-Z]/g,(function(t){return`-${t.toLowerCase()}`}))}.js`}const h=[],p={},d=[];for(let m=0,g=i.length;m<g;m++){const t=i[m];h.push(`states[${m}] = {\n      name: '${t.forwardFn.name}',\n      left: ${t.left?u(t.left,m):"undefined"},\n      right: ${t.right?u(t.right,m):"undefined"},\n      product: ${u(t.product,m)}\n    }`);const e=t.forwardFn.name;p[e]||(p[e]=!0,d.push(`        case '${e}': //compiled from ${c(e)}\n          ${l(t.forwardFn.toString())}\n          break;`))}const f=`\n  if (typeof rawInput === 'undefined') rawInput = [];\n  if (typeof isSampleI === 'undefined') isSampleI = false;\n  if (typeof temperature === 'undefined') temperature = 1;\n  var json = ${s};\n  ${this.options.dataFormatter?`${this.options.dataFormatter.toFunctionString()};\n  Object.assign(dataFormatter, json.options.dataFormatter);`:""}\n  ${this.options.dataFormatter&&"function"===typeof this.options.dataFormatter.formatDataIn?`const formatDataIn = function (input, output) { ${l(this.options.dataFormatter.formatDataIn.toString())} }.bind(dataFormatter);`:""}\n  ${null!==this.options.dataFormatter&&"function"===typeof this.options.dataFormatter.formatDataOut?`const formatDataOut = function formatDataOut(input, output) { ${l(this.options.dataFormatter.formatDataOut.toString())} }.bind(dataFormatter);`:""}\n  var maxPredictionLength =\n    ${this.options.maxPredictionLength} +\n    rawInput.length +\n    ${this.options.dataFormatter?this.options.dataFormatter.specialIndexes.length:0};\n  var input = ${this.options.dataFormatter&&"function"===typeof this.options.dataFormatter.formatDataIn?"formatDataIn(rawInput)":"rawInput"};\n  var _i = 0;\n  var output = [];\n  var states = [];\n  var prevStates;\n  while (true) {\n    var previousIndex = (_i === 0\n        ? 0\n        : _i < input.length\n          ? input[_i - 1] + 1\n          : output[_i - 1])\n          ;\n    var rowPluckIndex = previousIndex;\n    prevStates = states;\n    states = [];\n    ${h.join(";\n    ")};\n    for (var stateIndex = 0, stateMax = ${h.length}; stateIndex < stateMax; stateIndex++) {\n      var state = states[stateIndex];\n      var product = state.product;\n      var left = state.left;\n      var right = state.right;\n      switch (state.name) {\n${d.join("\n")}\n      }\n    }\n\n    var logProbabilities = state.product;\n    if (temperature !== 1 && isSampleI) {\n      for (var q = 0, nq = logProbabilities.weights.length; q < nq; q++) {\n        logProbabilities.weights[q] /= temperature;\n      }\n    }\n\n    var probs = softmax(logProbabilities);\n    var nextIndex = isSampleI ? sampleI(probs) : maxI(probs);\n\n    _i++;\n    if (nextIndex === 0) {\n      break;\n    }\n    if (_i >= maxPredictionLength) {\n      break;\n    }\n\n    output.push(nextIndex);\n  }\n  ${this.options.dataFormatter&&"function"===typeof this.options.dataFormatter.formatDataOut?"return formatDataOut(input, output.slice(input.length).map(function(value) { return value - 1; }))":"return output.slice(input.length).map(function(value) { return value - 1; })"};\n  function Matrix(rows, columns) {\n    this.rows = rows;\n    this.columns = columns;\n    this.weights = zeros(rows * columns);\n  }\n  ${j.toString()}\n  ${Kr.toString().replace("_1.Matrix","Matrix")}\n  ${D.toString()}\n  ${Wr.toString()}\n  ${Gr.toString()}`;return new Function("rawInput","isSampleI","temperature",t?t(f):f)}trainPattern(t,e){const n=this.trainInput(t);return this.backpropagate(t),this.adjustWeights(),e?n:0}}function Yr(t){return t[t.length-1]}class Jr extends qr{getHiddenLayer(t,e){return Qr(t,e)}getEquation(t,e,n,r){return Zr(t,e,n,r)}}function Qr(t,e){return{updateGateInputMatrix:new kr(t,e,.08),updateGateHiddenMatrix:new kr(t,t,.08),updateGateBias:new Sr(t,1),resetGateInputMatrix:new kr(t,e,.08),resetGateHiddenMatrix:new kr(t,t,.08),resetGateBias:new Sr(t,1),cellWriteInputMatrix:new kr(t,e,.08),cellWriteHiddenMatrix:new kr(t,t,.08),cellWriteBias:new Sr(t,1)}}function Zr(t,e,n,r){if(!r.updateGateInputMatrix||!r.updateGateHiddenMatrix||!r.updateGateBias||!r.resetGateInputMatrix||!r.resetGateHiddenMatrix||!r.resetGateBias||!r.cellWriteInputMatrix||!r.cellWriteHiddenMatrix||!r.cellWriteBias)throw new Error("hiddenLayer does not have expected properties");const i=t.sigmoid.bind(t),s=t.add.bind(t),a=t.multiply.bind(t),o=t.multiplyElement.bind(t),u=t.tanh.bind(t),l=t.allOnes.bind(t),c=t.cloneNegative.bind(t),h=i(s(s(a(r.updateGateInputMatrix,e),a(r.updateGateHiddenMatrix,n)),r.updateGateBias)),p=i(s(s(a(r.resetGateInputMatrix,e),a(r.resetGateHiddenMatrix,n)),r.resetGateBias)),d=u(s(s(a(r.cellWriteInputMatrix,e),a(r.cellWriteHiddenMatrix,o(p,n))),r.cellWriteBias));return s(o(s(l(h.rows,h.columns),c(h)),d),o(n,h))}class ti{constructor(t,e){this.prop=e,this.length=0,this.table={};for(let n=0;n<t.length;n++){const r=t[n][e];for(let t=0;t<r.length;t++){const e=r[t];for(const t in e)e.hasOwnProperty(t)&&(this.table.hasOwnProperty(t)||(this.table[t]=this.length++))}}}}const ei=()=>({...Xr(),inputSize:1,hiddenLayers:[20],outputSize:1,inputRange:0});class ni extends qr{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(),this.inputLookupLength=0,this.inputLookup=null,this.outputLookup=null,this.outputLookupLength=0,this.model=Object.seal({isInitialized:!1,hiddenLayers:[],output:new Sr(0,0),equations:[],allMatrices:[],equationConnections:[],outputConnector:new kr(0,0,.08)}),this.options=ei(),this.options={...this.options,...t},this.updateTrainingOptions({...ri,...t}),t.json&&this.fromJSON(t.json)}createInputMatrix(){throw new Error("Input Matrices do not exist on RNNTimeStep")}createOutputMatrices(){const{outputSize:t}=this.options,e=Yr(this.options.hiddenLayers),n=new kr(t,e,.08);return{output:new kr(t,1,.08),outputConnector:n}}bindEquation(){const{model:t,options:e}=this,{hiddenLayers:n,inputSize:r}=e,i=t.hiddenLayers,s=new Ur,a=[],o=t.equationConnections.length>0?t.equationConnections[t.equationConnections.length-1]:this.initialLayerInputs;let u=this.getEquation(s,s.input(new Sr(r,1)),o[0],i[0]);a.push(u);for(let l=1,c=n.length;l<c;l++)u=this.getEquation(s,u,o[l],i[l]),a.push(u);t.equationConnections.push(a),s.add(s.multiply(t.outputConnector,u),t.output),t.equations.push(s)}initialize(){this.model=this.mapModel()}mapModel(){const t=[];this.initialLayerInputs=this.options.hiddenLayers.map((t=>new Sr(t,1)));const e=this.createHiddenLayers();for(let i=0,s=e.length;i<s;i++){const n=e[i];for(const e in n)n.hasOwnProperty(e)&&t.push(n[e])}const{outputConnector:n,output:r}=this.createOutputMatrices();return t.push(n),t.push(r),Object.seal({isInitialized:!0,hiddenLayers:e,output:r,equations:[],allMatrices:t,equationConnections:[],outputConnector:n})}backpropagate(){for(let t=this.model.equations.length-1;t>-1;t--)this.model.equations[t].backpropagate()}run(t){const e=x.dataShape(t).join(",");switch(e){case"array,number":return this.runArray(t);case"array,array,number":return this.runArrayOfArray(t);case"object,number":return this.runObject(t);case"array,object,number":return this.runArrayOfObject(t);default:throw new Error(`Unrecognized data shape ${e}`)}}forecast(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;const n=x.dataShape(t).join(",");switch(n){case"array,number":return this.forecastArray(t,e);case"array,array,number":return this.forecastArrayOfArray(t,e);case"object,number":return this.runObject(t);case"array,object,number":return this.forecastArrayOfObject(t,e);default:throw new Error(`Unrecognized data shape ${n}`)}}forecastArray(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.checkRunnable();const{model:n}=this,{equations:r}=n,i=t.length+e;for(;r.length<=i;)this.bindEquation();let s,a=0;if(1===this.options.inputSize)for(let u=0;u<t.length;u++)s=r[a++].runInput(Float32Array.from([t[u]]));else for(let u=0;u<t.length;u++)s=r[a++].runInput(Float32Array.from([]));if(!s)throw new Error("lastOutput not set");const o=[s.weights[0]];for(let u=0,l=e-1;u<l;u++)s=r[a++].runInput(s.weights),o.push(s.weights[0]);return this.end(),Float32Array.from(o)}forecastArrayOfArray(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.checkRunnable();const{model:n}=this,{equations:r}=n,i=t.length+e;for(;r.length<=i;)this.bindEquation();let s,a=0;for(let u=0;u<t.length;u++)s=r[a++].runInput(t[u]);if(!s)throw new Error("lastOutput not set");const o=[Float32Array.from(s.weights)];for(let u=0,l=e-1;u<l;u++)s=r[a++].runInput(s.weights),o.push(Float32Array.from(s.weights.slice(0)));return this.end(),o}forecastArrayOfObject(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(!this.inputLookup)throw new Error("this.inputLookup not set");if(!this.outputLookup)throw new Error("this.outputLookup not set");const n=t.map((t=>x.toArray(this.inputLookup,t,this.inputLookupLength)));return this.forecastArrayOfArray(n,e).map((t=>x.toObject(this.outputLookup,t)))}train(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.trainOpts=e={...Hr,...e},1===this.options.inputSize&&1===this.options.outputSize&&this.setSize(t),this.verifySize();const n=this.formatData(t);let r,i=1/0;this.verifyIsInitialized();const{iterations:s,errorThresh:a,logPeriod:o,callback:u,callbackPeriod:l}=this.trainOpts,c=!0===e.log?console.log:e.log;for(r=0;r<s&&i>a;r++){let t=0;for(let e=0;e<n.length;e++)t+=this.trainPattern(n[e],!0);if(i=t/n.length,isNaN(i))throw new Error("Network error rate is unexpected NaN, check network configurations and try again. Most probably input format is not correct or training data is not enough. ");c&&r%o===0&&c(`iterations: ${r}, training error: ${i}`),u&&r%l===0&&u({error:i,iterations:r})}return{error:i,iterations:r}}trainArrayOfArray(t){if(t.length<2)throw new Error("input must be an array of 2 or more");const{equations:e}=this.model;for(;e.length<t.length;)this.bindEquation();let n=0;for(let r=0,i=t.length-1;r<i;r++)n+=e[r].predictTarget(t[r],t[r+1]);return this.end(),n/t.length}trainPattern(t,e){const n=this.trainArrayOfArray(t);return this.backpropagate(),this.adjustWeights(),e?n:0}setSize(t){let e=0;switch(x.dataShape(t).join(",")){case"array,array,number":case"array,object,number":case"array,datum,array,number":case"array,datum,object,number":e=1;break;case"array,array,array,number":e=t[0][0].length;break;case"array,array,object,number":e=Object.keys(x.toTable2D(t)).length;break;case"array,datum,array,array,number":e=t[0].input[0].length;break;case"array,datum,array,object,number":e=Object.keys(x.toInputTable2D(t)).length;break;default:throw new Error("unknown data shape or configuration")}this.options=Object.seal({...this.options,inputSize:e,outputSize:e})}verifySize(){if((this.options.inputSize||this.options.outputSize)&&this.options.inputSize!==this.options.outputSize)throw new Error("manually set inputSize and outputSize mismatch")}runArray(t){this.checkRunnable();const{equations:e}=this.model;for(;e.length<=t.length;)this.bindEquation();let n;for(let r=0;r<t.length;r++)n=e[r].runInput(new Float32Array([t[r]]));return this.end(),n.weights[0]}runArrayOfArray(t){this.checkRunnable();const{model:e}=this,{equations:n}=e;for(;n.length<=t.length;)this.bindEquation();let r;for(let i=0;i<t.length;i++)r=n[i].runInput(t[i]).weights;return this.end(),null!==r&&void 0!==r?r:Float32Array.from([])}runObject(t){if(!this.inputLookup)throw new Error("this.inputLookup not set");if(!this.outputLookup)throw new Error("this.outputLookup not set");if(!this.outputLookupLength)throw new Error("this.outputLookupLength not set");if(this.inputLookup===this.outputLookup){const e=x.toArrayShort(this.inputLookup,t);return x.toObjectPartial(this.outputLookup,this.forecastArray(e,this.outputLookupLength-e.length),e.length)}return x.toObject(this.outputLookup,this.forecastArray(x.toArray(this.inputLookup,t,this.inputLookupLength),this.outputLookupLength))}runArrayOfObject(t){if(null===this.inputLookup)throw new Error("this.inputLookup not set");if(null===this.outputLookup)throw new Error("this.outputLookup not set");const e=t.map((t=>x.toArray(this.inputLookup,t,this.inputLookupLength)));return this.forecastArrayOfArray(e,1).map((t=>x.toObject(this.outputLookup,t)))[0]}runArrayOfObjectOfArray(t){if(!this.inputLookup)throw new Error("this.inputLookup not set");if(!this.outputLookup)throw new Error("this.outputLookup not set");return x.toObject(this.outputLookup,this.runArrayOfArray(x.toArrays(this.inputLookup,t,this.inputLookupLength)))}end(){this.model.equations[this.model.equations.length-1].runInput(new Float32Array(this.options.outputSize))}requireInputOutputOfOne(){if(1!==this.options.inputSize)throw new Error("inputSize must be 1 for this data size");if(1!==this.options.outputSize)throw new Error("outputSize must be 1 for this data size")}formatArray(t){const e=[];this.requireInputOutputOfOne();for(let n=0;n<t.length;n++)e.push(Float32Array.from([t[n]]));return[e]}formatArrayOfArray(t){const e=[],{inputSize:n,outputSize:r}=this.options;if(1===n&&1===r){for(let n=0;n<t.length;n++)e.push(k(t[n]));return e}if(n!==t[0].length)throw new Error("inputSize must match data input size");if(r!==t[0].length)throw new Error("outputSize must match data output size");for(let i=0;i<t.length;i++)e.push(Float32Array.from(t[i]));return[e]}formatArrayOfObject(t){if(this.requireInputOutputOfOne(),!this.inputLookup){const e=new I(t);this.inputLookup=this.outputLookup=e.table,this.inputLookupLength=this.outputLookupLength=e.length}const e=[];for(let n=0;n<t.length;n++)e.push(_(t[n]));return e}formatArrayOfObjectMulti(t){if(!this.inputLookup){const e=new I(t);this.inputLookup=this.outputLookup=e.table,this.inputLookupLength=this.outputLookupLength=e.length}const e=[];for(let n=0;n<t.length;n++)e.push([C(t[n],this.inputLookup,this.inputLookupLength)]);return e}formatArrayOfDatumOfArray(t){const e=[];this.requireInputOutputOfOne();for(let n=0;n<t.length;n++){const r=t[n];e.push(T(r.input,r.output))}return e}formatArrayOfDatumOfObject(t){if(this.requireInputOutputOfOne(),!this.inputLookup){const e=new I(t,"input");this.inputLookup=e.table,this.inputLookupLength=e.length}if(!this.outputLookup){const e=new I(t,"output");this.outputLookup=e.table,this.outputLookupLength=e.length}const e=[];for(let n=0;n<t.length;n++){const r=t[n];e.push(L(r.input,r.output))}return e}formatArrayOfArrayOfArray(t){const e=[];for(let n=0;n<t.length;n++)e.push(w(t[n]));return e}formatArrayOfArrayOfObject(t){if(!this.inputLookup){const e=new I(t);this.inputLookup=this.outputLookup=e.table,this.inputLookupLength=this.outputLookupLength=e.length}const e=[];for(let n=0;n<t.length;n++){const r=[];for(let e=0;e<t[n].length;e++)r.push(C(t[n][e],this.inputLookup,this.inputLookupLength));e.push(r)}return e}formatArrayOfDatumOfArrayOfArray(t){const e=[],{inputSize:n,outputSize:r}=this.options;if(n!==t[0].input[0].length)throw new Error("inputSize must match data input size");if(r!==t[0].output[0].length)throw new Error("outputSize must match data output size");for(let i=0;i<t.length;i++){const n=t[i];e.push(S(n.input,n.output))}return e}formatArrayOfDatumOfArrayOfObject(t){if(!this.inputLookup){const e=new ti(t,"input");this.inputLookup=e.table,this.inputLookupLength=e.length}if(!this.outputLookup){const e=new ti(t,"output");this.outputLookup=e.table,this.outputLookupLength=e.length}if(!this.outputLookupLength)throw new Error("this.outputLookupLength not set to usable number");const e=[];for(let n=0;n<t.length;n++){const r=t[n];e.push(E(r.input,r.output,this.inputLookup,this.outputLookup,this.inputLookupLength,this.outputLookupLength))}return e}formatData(t){switch(x.dataShape(t).join(",")){case"array,number":return this.formatArray(t);case"array,array,number":return this.formatArrayOfArray(t);case"array,object,number":return 1===this.options.inputSize?this.formatArrayOfObject(t):this.formatArrayOfObjectMulti(t);case"array,datum,array,number":return this.formatArrayOfDatumOfArray(t);case"array,datum,object,number":return this.formatArrayOfDatumOfObject(t);case"array,array,array,number":return this.formatArrayOfArrayOfArray(t);case"array,array,object,number":return this.formatArrayOfArrayOfObject(t);case"array,datum,array,array,number":return this.formatArrayOfDatumOfArrayOfArray(t);case"array,datum,array,object,number":return this.formatArrayOfDatumOfArrayOfObject(t);default:throw new Error("unknown data shape or configuration")}}test(t){const e=[];let n=0;const r=this.formatData(t);for(let i=0;i<r.length;i++){const s=r[i],a=this.run(s.splice(0,s.length-1)),o=s[s.length-1];let u=0,l=0;for(let t=0;t<a.length;t++){l++;const e=o[t]-a[t];u+=e*e}if(n+=u/l,Math.abs(u)>this.trainOpts.errorThresh){const n=t[i];e.push({value:n,actual:a})}}return{error:n/r.length,misclasses:e,total:r.length}}addFormat(t){var e,n,r,i,s,a;switch(x.dataShape(t).join(",")){case"array,array,number":case"datum,array,array,number":case"array,number":case"datum,array,number":return;case"datum,object,number":this.inputLookup=x.addKeys(t.input,null!==(e=this.inputLookup)&&void 0!==e?e:{}),this.inputLookup&&(this.inputLookupLength=Object.keys(this.inputLookup).length),this.outputLookup=x.addKeys(t.output,null!==(n=this.outputLookup)&&void 0!==n?n:{}),this.outputLookup&&(this.outputLookupLength=Object.keys(this.outputLookup).length);break;case"object,number":this.inputLookup=this.outputLookup=x.addKeys(t,null!==(r=this.inputLookup)&&void 0!==r?r:{}),this.inputLookup&&(this.inputLookupLength=this.outputLookupLength=Object.keys(this.inputLookup).length);break;case"array,object,number":{const e=t;for(let t=0;t<e.length;t++)this.inputLookup=this.outputLookup=x.addKeys(e[t],null!==(i=this.inputLookup)&&void 0!==i?i:{}),this.inputLookup&&(this.inputLookupLength=this.outputLookupLength=Object.keys(this.inputLookup).length);break}case"datum,array,object,number":{const e=t,n=e.input;for(let t=0;t<n.length;t++)this.inputLookup=x.addKeys(n[t],null!==(s=this.inputLookup)&&void 0!==s?s:{}),this.inputLookup&&(this.inputLookupLength=Object.keys(this.inputLookup).length);const r=e.output;for(let t=0;t<r.length;t++)this.outputLookup=x.addKeys(r[t],null!==(a=this.outputLookup)&&void 0!==a?a:{}),this.outputLookup&&(this.outputLookupLength=Object.keys(this.outputLookup).length);break}default:throw new Error("unknown data shape or configuration")}}toJSON(){this.model||this.initialize();const{model:t}=this,e={...this.options,...Xr};return{type:this.constructor.name,options:e,hiddenLayers:t.hiddenLayers.map((t=>{const e={};for(const n in t)t.hasOwnProperty(n)&&(e[n]=t[n].toJSON());return e})),outputConnector:t.outputConnector.toJSON(),output:t.output.toJSON(),inputLookup:this.inputLookup,inputLookupLength:this.inputLookupLength,outputLookup:this.outputLookup,outputLookupLength:this.outputLookupLength}}fromJSON(t){const{options:e}=t,n=[],r=[];t.hiddenLayers.forEach((t=>{const e={};for(const r in t)e[r]=Sr.fromJSON(t[r]),n.push(e[r]);r.push(e)}));const i=Sr.fromJSON(t.outputConnector);n.push(i);const s=Sr.fromJSON(t.output);return n.push(s),this.options={...ei(),...e},this.inputLookup=t.inputLookup,this.inputLookupLength=t.inputLookupLength,this.outputLookup=t.outputLookup,this.outputLookupLength=t.outputLookupLength,this.model=Object.seal({isInitialized:!0,hiddenLayers:r,output:s,allMatrices:n,outputConnector:i,equations:[],equationConnections:[]}),this.initialLayerInputs=e.hiddenLayers.map((t=>new Sr(t,1))),this.bindEquation(),this}toFunction(t){const{model:e,inputLookup:n,inputLookupLength:r,outputLookup:i,outputLookupLength:s}=this,{inputSize:a}=this.options,{equations:o}=e,u=o[1],{states:l}=u,c=JSON.stringify(this.toJSON());function h(t){const n=e.equationConnections[0],{states:r}=o[0];for(let e=0,i=r.length;e<i;e++)if(r[e].product===t)return e;return n.indexOf(t)}function p(t,e){for(let n=0,r=l.length;n<r;n++){const r=l[n];if(n===e){const e=h(t);switch(t){case r.left:if(e>-1)return`typeof prevStates[${e}] === 'object' ? prevStates[${e}].product : new Matrix(${t.rows}, ${t.columns})`;case r.right:if(e>-1)return`typeof prevStates[${e}] === 'object' ? prevStates[${e}].product : new Matrix(${t.rows}, ${t.columns})`;case r.product:return`new Matrix(${t.rows}, ${t.columns})`;default:throw Error("unknown state")}}if(t===r.product)return`states[${n}].product`;if(t===r.right)return`states[${n}].right`;if(t===r.left)return`states[${n}].left`}return""}function d(t,n){if(!t||!t.rows||!t.columns)return"null";if(t===e.outputConnector)return"json.outputConnector";if(t===e.output)return"json.output";for(let r=0,i=e.hiddenLayers.length;r<i;r++){const n=e.hiddenLayers[r];for(const e in n)if(n.hasOwnProperty(e)&&n[e]===t)return`json.hiddenLayers[${r}].${e}`}return p(t,n)}function f(){return n?1===a?n===i?`function lookupInput(input) {\n            var table = ${JSON.stringify(n)};\n            var result = [];\n            for (var p in table) {\n              if (!input.hasOwnProperty(p)) break;\n              result.push(Float32Array.from([input[p]]));\n            }\n            return result;\n          }`:`function lookupInput(input) {\n          var table = ${JSON.stringify(n)};\n          var result = [];\n          for (var p in table) {\n            result.push(Float32Array.from([input[p]]));\n          }\n          return result;\n        }`:`function lookupInput(rawInputs) {\n        var table = ${JSON.stringify(n)};\n        var result = [];\n        for (var i = 0; i < rawInputs.length; i++) {\n          var rawInput = rawInputs[i];\n          var input = new Float32Array(${r});\n          for (var p in table) {\n            input[table[p]] = rawInput.hasOwnProperty(p) ? rawInput[p] : 0;\n          }\n          result.push(input);\n        }\n        return result;\n      }`:""}function m(){return i?1===a?n===i?`function lookupOutputPartial(output, input) {\n            var table = ${JSON.stringify(i)};\n            var offset = input.length;\n            var result = {};\n            var i = 0;\n            for (var p in table) {\n              if (i++ < offset) continue;\n              result[p] = output[table[p] - offset][0];\n            }\n            return result;\n          }`:`function lookupOutput(output) {\n          var table = ${JSON.stringify(i)};\n          var result = {};\n          for (var p in table) {\n            result[p] = output[table[p]][0];\n          }\n          return result;\n        }`:`function lookupOutput(output) {\n        var table = ${JSON.stringify(i)};\n        var result = {};\n        for (var p in table) {\n          result[p] = output[table[p]];\n        }\n        return result;\n      }`:""}function g(t){const e=t.toString().split("{");e.shift();const n=e.join("{").split("}");return n.pop(),n.join("}").split("\n").join("\n        ").replace("product.deltas[i] = 0;","").replace("product.deltas[column] = 0;","").replace("left.deltas[leftIndex] = 0;","").replace("right.deltas[rightIndex] = 0;","").replace("product.deltas = left.deltas.slice(0);","")}function y(t){return`src/recurrent/matrix/${t.replace(/[A-Z]/g,(function(t){return`-${t.toLowerCase()}`}))}.js`}const b=[],x={},v=[];for(let k=0,T=l.length;k<T;k++){const t=l[k];b.push(`states[${k}] = {\n      name: '${t.forwardFn.name}',\n      left: ${t.left?d(t.left,k):"undefined"},\n      right: ${t.right?d(t.right,k):"undefined"},\n      product: ${d(t.product,k)}\n    }`);const e=t.forwardFn.name;x[e]||(x[e]=!0,"input"===t.name?(v.push(`case '${e}':`),v.push(n&&1===a?"product.weights = _i < input.length ? input[_i]: prevStates[prevStates.length - 1].product.weights;":1===a?"product.weights = [input[_i]];":"product.weights = input[_i];"),v.push("break;")):v.push(`        case '${e}':${"forwardFn"!==e?` //compiled from ${y(e)}`:""}\n          ${g(t.forwardFn.toString())}\n          break;`))}const w=1===a&&this.outputLookup,S=`\n  var input = ${this.inputLookup?"lookupInput(rawInput)":"rawInput"};\n  var json = ${c};\n  var output = [];\n  var states = [];\n  var prevStates;\n  var state;\n  var max = ${w?n===i?r:"input.length + "+(s-1):"input.length"};\n  for (var _i = 0; _i < max; _i++) {\n    prevStates = states;\n    states = [];\n    ${b.join(";\n    ")};\n    for (var stateIndex = 0, stateMax = ${b.length}; stateIndex < stateMax; stateIndex++) {\n      state = states[stateIndex];\n      var product = state.product;\n      var left = state.left;\n      var right = state.right;\n\n      switch (state.name) {\n${v.join("\n")}\n      }\n    }\n    ${1===a&&n?"if (_i >= input.length - 1) { output.push(state.product.weights); }":"output = state.product.weights;"}\n  }\n  ${i?i===n?"return lookupOutputPartial(output, input)":"return lookupOutput(output)":1===a?"return output[0]":"return output"};\n  ${f()}\n  ${m()}\n\n  function Matrix(rows, columns) {\n    this.rows = rows;\n    this.columns = columns;\n    this.weights = new Float32Array(rows * columns);\n  }\n  ${Kr.toString().replace("_2.default","Matrix")}\n  ${D.toString()}\n  ${Wr.toString()}\n  ${Gr.toString()}`;return new Function("rawInput",t?t(S):S)}}const ri={...Hr};class ii extends ni{getHiddenLayer(t,e){return Qr(t,e)}getEquation(t,e,n,r){return Zr(t,e,n,r)}}class si extends qr{getHiddenLayer(t,e){return ai(t,e)}getEquation(t,e,n,r){return oi(t,e,n,r)}}function ai(t,e){return{inputMatrix:new kr(t,e,.08),inputHidden:new kr(t,t,.08),inputBias:new Sr(t,1),forgetMatrix:new kr(t,e,.08),forgetHidden:new kr(t,t,.08),forgetBias:new Sr(t,1),outputMatrix:new kr(t,e,.08),outputHidden:new kr(t,t,.08),outputBias:new Sr(t,1),cellActivationMatrix:new kr(t,e,.08),cellActivationHidden:new kr(t,t,.08),cellActivationBias:new Sr(t,1)}}function oi(t,e,n,r){if(!r.inputMatrix||!r.inputHidden||!r.inputBias||!r.forgetMatrix||!r.forgetHidden||!r.forgetBias||!r.outputMatrix||!r.outputHidden||!r.outputBias||!r.cellActivationMatrix||!r.cellActivationHidden||!r.cellActivationBias)throw new Error("hiddenLayer does not have expected properties");const i=t.sigmoid.bind(t),s=t.add.bind(t),a=t.multiply.bind(t),o=t.multiplyElement.bind(t),u=t.tanh.bind(t),l=i(s(s(a(r.inputMatrix,e),a(r.inputHidden,n)),r.inputBias)),c=i(s(s(a(r.forgetMatrix,e),a(r.forgetHidden,n)),r.forgetBias)),h=i(s(s(a(r.outputMatrix,e),a(r.outputHidden,n)),r.outputBias)),p=u(s(s(a(r.cellActivationMatrix,e),a(r.cellActivationHidden,n)),r.cellActivationBias)),d=o(c,n),f=o(l,p);return o(h,u(s(d,f)))}class ui extends ni{getHiddenLayer(t,e){return ai(t,e)}getEquation(t,e,n,r){return oi(t,e,n,r)}}function li(t,e){const n=[];for(;t<e;t++)n.push(t);return n}function ci(t){return Array.isArray(t)?Float32Array.from(t):Float32Array.from(Object.values(t))}function hi(t){let{pixelX:e,pixelY:n,radius:r,inputs:i,row:s,line:a,fontSize:o,fontClassName:u}=t,l=`<rect\n              x="${e/2-r}"\n              y="${n/2+s*n-r}"\n              width="${2*r}"\n              height="${2*r}"\n              stroke="black"\n              stroke-width="1"\n              fill="${i.color}"\n              class="${i.className}" />\n            <line\n              x1="${e/4}"\n              y1="${n/2+s*n}"\n              x2="${e/2-r}"\n              y2="${n/2+s*n}"\n              style="stroke:${a.color};stroke-width:${a.width}"\n              class="${a.className}" />`;return i.labels&&(l+=`<text\n              x="${e/8}"\n              y="${n/2+s*n-5}"\n              fill="black"\n              font-size="${o}"\n              class="${u}">${i.labels[s]}</text>`),l}function pi(t){let{pixelX:e,pixelY:n,row:r,column:i,radius:s,hidden:a}=t;return`<circle\n            cx="${e/2+i*e}"\n            cy="${n/2+r*n}"\n            r="${s}"\n            stroke="black"\n            stroke-width="1"\n            fill="${a.color}"\n            class="${a.className}" />`}function di(t){let{pixelX:e,pixelY:n,row:r,column:i,line:s,outputs:a,radius:o}=t;return`<circle\n            cx="${e/2+i*e}"\n            cy="${n/2+r*n}"\n            r="${o}"\n            stroke="black"\n            stroke-width="1"\n            fill="${a.color}"\n            class="${a.className}" />\n          <line\n            x1="${e/2+i*e+o}"\n            y1="${n/2+r*n}"\n            x2="${e/2+i*e+e/4}"\n            y2="${n/2+r*n}"\n            style="stroke:${s.color};stroke-width:${s.width}"\n            class="${s.className}" />`}function fi(t){let{pixelX:e,pixelY:n,row:r,column:i,radius:s,lineY:a,line:o,previousConnectionIndex:u}=t;return`<line\n            x1="${e/2+(i-1)*e+s}"\n            y1="${a/2+u*a}"\n            x2="${e/2+i*e-s}"\n            y2="${n/2+r*n}"\n            style="stroke:${o.color};stroke-width:${o.width}"\n            class="${o.className}" />`}function mi(t){const{sizes:e,height:n,width:r}=t;let i="";const s=r/e.length;for(let a=0;a<e.length;a++){const r=e[a],o=n/r;for(let u=0;u<r;u++)if(0===a)i+=hi({pixelX:s,pixelY:o,row:u,column:a,...t});else{a===e.length-1?i+=di({pixelX:s,pixelY:o,row:u,column:a,...t}):i+=pi({pixelX:s,pixelY:o,row:u,column:a,...t});const r=e[a-1],l=n/r;for(let e=0;e<r;e++)i+=fi({pixelX:s,pixelY:o,row:u,column:a,lineY:l,previousConnectionIndex:e,...t})}}return i}function gi(t){let{pixelX:e,pixelY:n,row:r,column:i,radius:s,recurrentLine:a}=t;const o=e/2+i*e+s+1,u=n/2+r*n,l=o-2*s-2;return`<path\n              d="M ${o} ${u} C ${l+100} ${u+50}, ${o-100} ${u+50}, ${l} ${u}"\n              stroke="${a.color}"\n              stroke-width="${a.width}"\n              fill="transparent"\n              stroke-linecap="round"\n              marker-end="url(#arrow)"\n              class="${a.className}" />`}function yi(t){const{width:e,height:n,recurrentLine:r,sizes:i,radius:s}=t,a=e/i.length;let o=`<defs>\n              <marker id="arrow" markerWidth="10" markerHeight="10" refX="8" refY="3" orient="auto" markerUnits="strokeWidth">\n                <path d="M0,0 L0,6 L9,3 z" fill="${r.color}" />\n              </marker>\n            </defs>`;o+=mi(t);for(let u=1;u<i.length;u++){const t=i[u],e=n/t;for(let n=0;n<t;n++)o+=gi({pixelX:a,pixelY:e,row:n,column:u,radius:s,recurrentLine:r})}return o}function bi(t){const{options:e}=t;if(!e)throw new Error("options not defined");if(!e.inputLayer)throw new Error("options.inputLater not defined");if(!e.hiddenLayers)throw new Error("options.hiddenLayers not defined");if(e.hiddenLayers.length<1)throw new Error("options.hiddenLayers is empty");if(!e.outputLayer)throw new Error("options.outputLayer not defined");const n=e.inputLayer(),r=[];r.push(e.hiddenLayers[0](n,0));for(let s=1;s<e.hiddenLayers.length;s++)r.push(e.hiddenLayers[s](r[s-1],s));const i=e.outputLayer(r[r.length-1],r.length);return{inputSize:n.height,hiddenLayers:r.map((t=>t.height)),outputSize:i.height}}function xi(t){const e=[],{options:n}=t;if(!n.inputLayer)throw new Error("inputLayer not defined");if(!n.outputLayer)throw new Error("outputLayer not defined");const r=n.inputLayer();e.push(n.hiddenLayers[0](r,Nn(),0));for(let s=1;s<n.hiddenLayers.length;s++)e.push(n.hiddenLayers[s](e[s-1],Nn(),s));const i=n.outputLayer(e[e.length-1],-1);return{inputSize:r.height,hiddenLayers:e.map((t=>t.height)),outputSize:i.height}}function vi(t,e,n){return`<svg\n            xmlns="http://www.w3.org/2000/svg"\n            xmlns:xlink="http://www.w3.org/1999/xlink"\n            version="1.1"\n            width="${e}"\n            height="${n}">${t}</svg>`}function wi(t){return t.sizes}function Si(t){const{options:e,sizes:n}=t,{inputSize:r,outputSize:i,hiddenLayers:s}=e;if(!n){if("number"===typeof r&&r<1)throw new Error("inputSize not set");if("number"===typeof i&&i<1)throw new Error("outputSize not set");if(null===s||void 0===s?void 0:s.some((t=>t<1)))throw new Error("hiddenLayers not set")}return"number"===typeof r&&Array.isArray(s)&&"number"===typeof i?[r].concat(s).concat([i]):n}function ki(t){const{options:e}=t,{inputSize:n,outputSize:r,hiddenLayers:i}=e;return[n].concat(i).concat([r])}function Ti(){return{line:{width:.5,color:"black",className:"connection"},recurrentLine:{width:1,color:"red",className:"recurrence"},inputs:{color:"rgba(0, 128, 0, 0.5)",labels:null,className:"input"},outputs:{color:"rgba(100, 149, 237, 0.5)",className:"output"},hidden:{color:"rgba(255, 127, 80, 0.5)",className:"hidden-neuron"},fontSize:"14px",fontClassName:"label",radius:8,width:400,height:250,sizes:[]}}function Ai(t,e){const n={...Ti(),...e},{width:r,height:i,inputs:s}=n;let a=[];if(t instanceof W||t instanceof mt)a=Si(t);else if(t instanceof wr){const{inputSize:e,hiddenLayers:n,outputSize:r}=xi(t);a=[e].concat(n).concat([r])}else if(t instanceof br){const{inputSize:e,hiddenLayers:n,outputSize:r}=bi(t);a=[e].concat(n).concat([r])}else{if(t instanceof qr||t instanceof si||t instanceof Jr||t instanceof ni||t instanceof ui||t instanceof ii)return vi(yi({...n,sizes:Ei(ki(t),s.labels)}),r,i);if(t.hasOwnProperty("type"))switch(t.type){case"NeuralNetwork":case"NeuralNetworkGPU":return vi(mi({...n,sizes:Ei(wi(t),s.labels)}),r,i);case"RNN":case"GRU":case"LSTM":case"RNNTimeStep":case"GRUTimeStep":case"LSTMTimeStep":return vi(yi({...n,sizes:Ei(ki(t),s.labels)}),r,i);default:throw new Error("unrecognized network")}else if(t.hasOwnProperty("inputSize")&&t.hasOwnProperty("hiddenLayers")&&t.hasOwnProperty("outputSize")){const{inputSize:e,hiddenLayers:n,outputSize:r}=t;a=[e,...n,r]}else{if(!t.hasOwnProperty("sizes"))throw new Error("unrecognized network");a=t.sizes}}return vi(mi({...n,sizes:Ei(a,s.labels)}),r,i)}function Ei(t,e){if(!t)throw new Error("sizes not set");if(t.some((t=>t<1)))throw new Error("sizes not set correctly");if(e&&e.length!==t[0])throw new Error("not enough labels for inputs");return t}const _i={RNNTimeStep:ni,LSTMTimeStep:ui,GRUTimeStep:ii,RNN:qr,LSTM:si,GRU:Jr},Li={max:$,mse:O,ones:sn,ones2D:an,random:N,randomWeight:R,randos:F,range:li,toArray:ci,DataFormatter:Tr,zeros:j,toSVG:Ai};t.AE=yt,t.CrossValidate=bt,t.FeedForward=br,t.NeuralNetwork=W,t.NeuralNetworkGPU=mt,t.Recurrent=wr,t.activation=f,t.layer=dr,t.layerTypes=pr,t.likely=xr,t.lookup=x,t.praxis=ne,t.recurrent=_i,t.utilities=Li,Object.defineProperty(t,"__esModule",{value:!0})}(e)},799:(t,e)=>{"use strict";var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function i(t,e,r){var i=null;if(void 0!==r&&(i=""+r),void 0!==e.key&&(i=""+e.key),"key"in e)for(var s in r={},e)"key"!==s&&(r[s]=e[s]);else r=e;return e=r.ref,{$$typeof:n,type:t,key:i,ref:void 0!==e?e:null,props:r}}e.Fragment=r,e.jsx=i,e.jsxs=i},853:(t,e,n)=>{"use strict";t.exports=n(896)},896:(t,e)=>{"use strict";function n(t,e){var n=t.length;t.push(e);t:for(;0<n;){var r=n-1>>>1,i=t[r];if(!(0<s(i,e)))break t;t[r]=e,t[n]=i,n=r}}function r(t){return 0===t.length?null:t[0]}function i(t){if(0===t.length)return null;var e=t[0],n=t.pop();if(n!==e){t[0]=n;t:for(var r=0,i=t.length,a=i>>>1;r<a;){var o=2*(r+1)-1,u=t[o],l=o+1,c=t[l];if(0>s(u,n))l<i&&0>s(c,u)?(t[r]=c,t[l]=n,r=l):(t[r]=u,t[o]=n,r=o);else{if(!(l<i&&0>s(c,n)))break t;t[r]=c,t[l]=n,r=l}}}return e}function s(t,e){var n=t.sortIndex-e.sortIndex;return 0!==n?n:t.id-e.id}if(e.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,u=o.now();e.unstable_now=function(){return o.now()-u}}var l=[],c=[],h=1,p=null,d=3,f=!1,m=!1,g=!1,y="function"===typeof setTimeout?setTimeout:null,b="function"===typeof clearTimeout?clearTimeout:null,x="undefined"!==typeof setImmediate?setImmediate:null;function v(t){for(var e=r(c);null!==e;){if(null===e.callback)i(c);else{if(!(e.startTime<=t))break;i(c),e.sortIndex=e.expirationTime,n(l,e)}e=r(c)}}function w(t){if(g=!1,v(t),!m)if(null!==r(l))m=!0,$();else{var e=r(c);null!==e&&O(w,e.startTime-t)}}var S,k=!1,T=-1,A=5,E=-1;function _(){return!(e.unstable_now()-E<A)}function L(){if(k){var t=e.unstable_now();E=t;var n=!0;try{t:{m=!1,g&&(g=!1,b(T),T=-1),f=!0;var s=d;try{e:{for(v(t),p=r(l);null!==p&&!(p.expirationTime>t&&_());){var a=p.callback;if("function"===typeof a){p.callback=null,d=p.priorityLevel;var o=a(p.expirationTime<=t);if(t=e.unstable_now(),"function"===typeof o){p.callback=o,v(t),n=!0;break e}p===r(l)&&i(l),v(t)}else i(l);p=r(l)}if(null!==p)n=!0;else{var u=r(c);null!==u&&O(w,u.startTime-t),n=!1}}break t}finally{p=null,d=s,f=!1}n=void 0}}finally{n?S():k=!1}}}if("function"===typeof x)S=function(){x(L)};else if("undefined"!==typeof MessageChannel){var C=new MessageChannel,I=C.port2;C.port1.onmessage=L,S=function(){I.postMessage(null)}}else S=function(){y(L,0)};function $(){k||(k=!0,S())}function O(t,n){T=y((function(){t(e.unstable_now())}),n)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(t){t.callback=null},e.unstable_continueExecution=function(){m||f||(m=!0,$())},e.unstable_forceFrameRate=function(t){0>t||125<t?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<t?Math.floor(1e3/t):5},e.unstable_getCurrentPriorityLevel=function(){return d},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(t){switch(d){case 1:case 2:case 3:var e=3;break;default:e=d}var n=d;d=e;try{return t()}finally{d=n}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(t,e){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var n=d;d=t;try{return e()}finally{d=n}},e.unstable_scheduleCallback=function(t,i,s){var a=e.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?a+s:a:s=a,t){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return t={id:h++,callback:i,priorityLevel:t,startTime:s,expirationTime:o=s+o,sortIndex:-1},s>a?(t.sortIndex=s,n(c,t),null===r(l)&&t===r(c)&&(g?(b(T),T=-1):g=!0,O(w,s-a))):(t.sortIndex=o,n(l,t),m||f||(m=!0,$())),t},e.unstable_shouldYield=_,e.unstable_wrapCallback=function(t){var e=d;return function(){var n=d;d=e;try{return t.apply(this,arguments)}finally{d=n}}}},950:(t,e,n)=>{"use strict";!function t(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}(),t.exports=n(672)},983:(t,e)=>{"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,s=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,o=n?Symbol.for("react.profiler"):60114,u=n?Symbol.for("react.provider"):60109,l=n?Symbol.for("react.context"):60110,c=n?Symbol.for("react.async_mode"):60111,h=n?Symbol.for("react.concurrent_mode"):60111,p=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,f=n?Symbol.for("react.suspense_list"):60120,m=n?Symbol.for("react.memo"):60115,g=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,b=n?Symbol.for("react.fundamental"):60117,x=n?Symbol.for("react.responder"):60118,v=n?Symbol.for("react.scope"):60119;function w(t){if("object"===typeof t&&null!==t){var e=t.$$typeof;switch(e){case r:switch(t=t.type){case c:case h:case s:case o:case a:case d:return t;default:switch(t=t&&t.$$typeof){case l:case p:case g:case m:case u:return t;default:return e}}case i:return e}}}function S(t){return w(t)===h}e.AsyncMode=c,e.ConcurrentMode=h,e.ContextConsumer=l,e.ContextProvider=u,e.Element=r,e.ForwardRef=p,e.Fragment=s,e.Lazy=g,e.Memo=m,e.Portal=i,e.Profiler=o,e.StrictMode=a,e.Suspense=d,e.isAsyncMode=function(t){return S(t)||w(t)===c},e.isConcurrentMode=S,e.isContextConsumer=function(t){return w(t)===l},e.isContextProvider=function(t){return w(t)===u},e.isElement=function(t){return"object"===typeof t&&null!==t&&t.$$typeof===r},e.isForwardRef=function(t){return w(t)===p},e.isFragment=function(t){return w(t)===s},e.isLazy=function(t){return w(t)===g},e.isMemo=function(t){return w(t)===m},e.isPortal=function(t){return w(t)===i},e.isProfiler=function(t){return w(t)===o},e.isStrictMode=function(t){return w(t)===a},e.isSuspense=function(t){return w(t)===d},e.isValidElementType=function(t){return"string"===typeof t||"function"===typeof t||t===s||t===h||t===o||t===a||t===d||t===f||"object"===typeof t&&null!==t&&(t.$$typeof===g||t.$$typeof===m||t.$$typeof===u||t.$$typeof===l||t.$$typeof===p||t.$$typeof===b||t.$$typeof===x||t.$$typeof===v||t.$$typeof===y)},e.typeOf=w}},e={};function n(r){var i=e[r];if(void 0!==i)return i.exports;var s=e[r]={exports:{}};return t[r].call(s.exports,s,s.exports,n),s.exports}n.m=t,n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},(()=>{var t,e=Object.getPrototypeOf?t=>Object.getPrototypeOf(t):t=>t.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var s=Object.create(null);n.r(s);var a={};t=t||[null,e({}),e([]),e(e)];for(var o=2&i&&r;"object"==typeof o&&!~t.indexOf(o);o=e(o))Object.getOwnPropertyNames(o).forEach((t=>a[t]=()=>r[t]));return a.default=()=>r,n.d(s,a),s}})(),n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.f={},n.e=t=>Promise.all(Object.keys(n.f).reduce(((e,r)=>(n.f[r](t,e),e)),[])),n.u=t=>"static/js/"+t+".beb9426e.chunk.js",n.miniCssF=t=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}(),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{var t={},e="mental-math:";n.l=(r,i,s,a)=>{if(t[r])t[r].push(i);else{var o,u;if(void 0!==s)for(var l=document.getElementsByTagName("script"),c=0;c<l.length;c++){var h=l[c];if(h.getAttribute("src")==r||h.getAttribute("data-webpack")==e+s){o=h;break}}o||(u=!0,(o=document.createElement("script")).charset="utf-8",o.timeout=120,n.nc&&o.setAttribute("nonce",n.nc),o.setAttribute("data-webpack",e+s),o.src=r),t[r]=[i];var p=(e,n)=>{o.onerror=o.onload=null,clearTimeout(d);var i=t[r];if(delete t[r],o.parentNode&&o.parentNode.removeChild(o),i&&i.forEach((t=>t(n))),e)return e(n)},d=setTimeout(p.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=p.bind(null,o.onerror),o.onload=p.bind(null,o.onload),u&&document.head.appendChild(o)}}})(),n.r=t=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.p="/MentalMath/",(()=>{var t={792:0};n.f.j=(e,r)=>{var i=n.o(t,e)?t[e]:void 0;if(0!==i)if(i)r.push(i[2]);else{var s=new Promise(((n,r)=>i=t[e]=[n,r]));r.push(i[2]=s);var a=n.p+n.u(e),o=new Error;n.l(a,(r=>{if(n.o(t,e)&&(0!==(i=t[e])&&(t[e]=void 0),i)){var s=r&&("load"===r.type?"missing":r.type),a=r&&r.target&&r.target.src;o.message="Loading chunk "+e+" failed.\n("+s+": "+a+")",o.name="ChunkLoadError",o.type=s,o.request=a,i[1](o)}}),"chunk-"+e,e)}};var e=(e,r)=>{var i,s,a=r[0],o=r[1],u=r[2],l=0;if(a.some((e=>0!==t[e]))){for(i in o)n.o(o,i)&&(n.m[i]=o[i]);if(u)u(n)}for(e&&e(r);l<a.length;l++)s=a[l],n.o(t,s)&&t[s]&&t[s][0](),t[s]=0},r=self.webpackChunkmental_math=self.webpackChunkmental_math||[];r.forEach(e.bind(null,0)),r.push=e.bind(null,r.push.bind(r))})(),(()=>{"use strict";var t=n(43),e=n.t(t,2),r=n(391);let i=function(t){return t[t.HOME=0]="HOME",t[t.EXERCISE=1]="EXERCISE",t[t.RESULT=2]="RESULT",t}({});function s(t){var e,n,r="";if("string"==typeof t||"number"==typeof t)r+=t;else if("object"==typeof t)if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=s(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}const a=function(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=s(t))&&(r&&(r+=" "),r+=e);return r};function o(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;const r={};for(const i in t){const s=t[i];let a="",o=!0;for(let t=0;t<s.length;t+=1){const r=s[t];r&&(a+=(!0===o?"":" ")+e(r),o=!1,n&&n[r]&&(a+=" "+n[r]))}r[i]=a}return r}function u(t){const e=new URL(`https://mui.com/production-error/?code=${t}`);for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.forEach((t=>e.searchParams.append("args[]",t))),`Minified MUI error #${t}; visit ${e} for the full message.`}const l=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MIN_SAFE_INTEGER,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.MAX_SAFE_INTEGER;return Math.max(e,Math.min(t,n))};function c(t){return l(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,arguments.length>2&&void 0!==arguments[2]?arguments[2]:1)}function h(t){if(t.type)return t;if("#"===t.charAt(0))return h(function(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let n=t.match(e);return n&&1===n[0].length&&(n=n.map((t=>t+t))),n?`rgb${4===n.length?"a":""}(${n.map(((t,e)=>e<3?parseInt(t,16):Math.round(parseInt(t,16)/255*1e3)/1e3)).join(", ")})`:""}(t));const e=t.indexOf("("),n=t.substring(0,e);if(!["rgb","rgba","hsl","hsla","color"].includes(n))throw new Error(u(9,t));let r,i=t.substring(e+1,t.length-1);if("color"===n){if(i=i.split(" "),r=i.shift(),4===i.length&&"/"===i[3].charAt(0)&&(i[3]=i[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(r))throw new Error(u(10,r))}else i=i.split(",");return i=i.map((t=>parseFloat(t))),{type:n,values:i,colorSpace:r}}const p=(t,e)=>{try{return(t=>{const e=h(t);return e.values.slice(0,3).map(((t,n)=>e.type.includes("hsl")&&0!==n?`${t}%`:t)).join(" ")})(t)}catch(n){return t}};function d(t){const{type:e,colorSpace:n}=t;let{values:r}=t;return e.includes("rgb")?r=r.map(((t,e)=>e<3?parseInt(t,10):t)):e.includes("hsl")&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),r=e.includes("color")?`${n} ${r.join(" ")}`:`${r.join(", ")}`,`${e}(${r})`}function f(t){t=h(t);const{values:e}=t,n=e[0],r=e[1]/100,i=e[2]/100,s=r*Math.min(i,1-i),a=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(t+n/30)%12;return i-s*Math.max(Math.min(e-3,9-e,1),-1)};let o="rgb";const u=[Math.round(255*a(0)),Math.round(255*a(8)),Math.round(255*a(4))];return"hsla"===t.type&&(o+="a",u.push(e[3])),d({type:o,values:u})}function m(t){let e="hsl"===(t=h(t)).type||"hsla"===t.type?h(f(t)).values:t.values;return e=e.map((e=>("color"!==t.type&&(e/=255),e<=.03928?e/12.92:((e+.055)/1.055)**2.4))),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function g(t,e){return t=h(t),e=c(e),"rgb"!==t.type&&"hsl"!==t.type||(t.type+="a"),"color"===t.type?t.values[3]=`/${e}`:t.values[3]=e,d(t)}function y(t,e,n){try{return g(t,e)}catch(r){return t}}function b(t,e){if(t=h(t),e=c(e),t.type.includes("hsl"))t.values[2]*=1-e;else if(t.type.includes("rgb")||t.type.includes("color"))for(let n=0;n<3;n+=1)t.values[n]*=1-e;return d(t)}function x(t,e,n){try{return b(t,e)}catch(r){return t}}function v(t,e){if(t=h(t),e=c(e),t.type.includes("hsl"))t.values[2]+=(100-t.values[2])*e;else if(t.type.includes("rgb"))for(let n=0;n<3;n+=1)t.values[n]+=(255-t.values[n])*e;else if(t.type.includes("color"))for(let n=0;n<3;n+=1)t.values[n]+=(1-t.values[n])*e;return d(t)}function w(t,e,n){try{return v(t,e)}catch(r){return t}}function S(t,e,n){try{return function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.15;return m(t)>.5?b(t,e):v(t,e)}(t,e)}catch(r){return t}}function k(t){if("string"!==typeof t)throw new Error(u(7));return t.charAt(0).toUpperCase()+t.slice(1)}const T=k;const A=function(t){return"ownerState"!==t&&"theme"!==t&&"sx"!==t&&"as"!==t},E=t=>A(t)&&"classes"!==t;function _(){return _=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_.apply(null,arguments)}var L=function(){function t(t){var e=this;this._insertTag=function(t){var n;n=0===e.tags.length?e.insertionPoint?e.insertionPoint.nextSibling:e.prepend?e.container.firstChild:e.before:e.tags[e.tags.length-1].nextSibling,e.container.insertBefore(t,n),e.tags.push(t)},this.isSpeedy=void 0===t.speedy||t.speedy,this.tags=[],this.ctr=0,this.nonce=t.nonce,this.key=t.key,this.container=t.container,this.prepend=t.prepend,this.insertionPoint=t.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(t){t.forEach(this._insertTag)},e.insert=function(t){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),void 0!==t.nonce&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}(this));var e=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}(e);try{n.insertRule(t,n.cssRules.length)}catch(r){}}else e.appendChild(document.createTextNode(t));this.ctr++},e.flush=function(){this.tags.forEach((function(t){var e;return null==(e=t.parentNode)?void 0:e.removeChild(t)})),this.tags=[],this.ctr=0},t}(),C=Math.abs,I=String.fromCharCode,$=Object.assign;function O(t){return t.trim()}function R(t,e,n){return t.replace(e,n)}function D(t,e){return t.indexOf(e)}function z(t,e){return 0|t.charCodeAt(e)}function M(t,e,n){return t.slice(e,n)}function P(t){return t.length}function N(t){return t.length}function F(t,e){return e.push(t),t}var V=1,K=1,j=0,B=0,U=0,G="";function W(t,e,n,r,i,s,a){return{value:t,root:e,parent:n,type:r,props:i,children:s,line:V,column:K,length:a,return:""}}function H(t,e){return $(W("",null,null,"",null,null,0),t,{length:-t.length},e)}function X(){return U=B>0?z(G,--B):0,K--,10===U&&(K=1,V--),U}function q(){return U=B<j?z(G,B++):0,K++,10===U&&(K=1,V++),U}function Y(){return z(G,B)}function J(){return B}function Q(t,e){return M(G,t,e)}function Z(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function tt(t){return V=K=1,j=P(G=t),B=0,[]}function et(t){return G="",t}function nt(t){return O(Q(B-1,st(91===t?t+2:40===t?t+1:t)))}function rt(t){for(;(U=Y())&&U<33;)q();return Z(t)>2||Z(U)>3?"":" "}function it(t,e){for(;--e&&q()&&!(U<48||U>102||U>57&&U<65||U>70&&U<97););return Q(t,J()+(e<6&&32==Y()&&32==q()))}function st(t){for(;q();)switch(U){case t:return B;case 34:case 39:34!==t&&39!==t&&st(U);break;case 40:41===t&&st(t);break;case 92:q()}return B}function at(t,e){for(;q()&&t+U!==57&&(t+U!==84||47!==Y()););return"/*"+Q(e,B-1)+"*"+I(47===t?t:q())}function ot(t){for(;!Z(Y());)q();return Q(t,B)}var ut="-ms-",lt="-moz-",ct="-webkit-",ht="comm",pt="rule",dt="decl",ft="@keyframes";function mt(t,e){for(var n="",r=N(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function gt(t,e,n,r){switch(t.type){case"@layer":if(t.children.length)break;case"@import":case dt:return t.return=t.return||t.value;case ht:return"";case ft:return t.return=t.value+"{"+mt(t.children,r)+"}";case pt:t.value=t.props.join(",")}return P(n=mt(t.children,r))?t.return=t.value+"{"+n+"}":""}function yt(t){return et(bt("",null,null,null,[""],t=tt(t),0,[0],t))}function bt(t,e,n,r,i,s,a,o,u){for(var l=0,c=0,h=a,p=0,d=0,f=0,m=1,g=1,y=1,b=0,x="",v=i,w=s,S=r,k=x;g;)switch(f=b,b=q()){case 40:if(108!=f&&58==z(k,h-1)){-1!=D(k+=R(nt(b),"&","&\f"),"&\f")&&(y=-1);break}case 34:case 39:case 91:k+=nt(b);break;case 9:case 10:case 13:case 32:k+=rt(f);break;case 92:k+=it(J()-1,7);continue;case 47:switch(Y()){case 42:case 47:F(vt(at(q(),J()),e,n),u);break;default:k+="/"}break;case 123*m:o[l++]=P(k)*y;case 125*m:case 59:case 0:switch(b){case 0:case 125:g=0;case 59+c:-1==y&&(k=R(k,/\f/g,"")),d>0&&P(k)-h&&F(d>32?wt(k+";",r,n,h-1):wt(R(k," ","")+";",r,n,h-2),u);break;case 59:k+=";";default:if(F(S=xt(k,e,n,l,c,i,o,x,v=[],w=[],h),s),123===b)if(0===c)bt(k,e,S,S,v,s,h,o,w);else switch(99===p&&110===z(k,3)?100:p){case 100:case 108:case 109:case 115:bt(t,S,S,r&&F(xt(t,S,S,0,0,i,o,x,i,v=[],h),w),i,w,h,o,r?v:w);break;default:bt(k,S,S,S,[""],w,0,o,w)}}l=c=d=0,m=y=1,x=k="",h=a;break;case 58:h=1+P(k),d=f;default:if(m<1)if(123==b)--m;else if(125==b&&0==m++&&125==X())continue;switch(k+=I(b),b*m){case 38:y=c>0?1:(k+="\f",-1);break;case 44:o[l++]=(P(k)-1)*y,y=1;break;case 64:45===Y()&&(k+=nt(q())),p=Y(),c=h=P(x=k+=ot(J())),b++;break;case 45:45===f&&2==P(k)&&(m=0)}}return s}function xt(t,e,n,r,i,s,a,o,u,l,c){for(var h=i-1,p=0===i?s:[""],d=N(p),f=0,m=0,g=0;f<r;++f)for(var y=0,b=M(t,h+1,h=C(m=a[f])),x=t;y<d;++y)(x=O(m>0?p[y]+" "+b:R(b,/&\f/g,p[y])))&&(u[g++]=x);return W(t,e,n,0===i?pt:o,u,l,c)}function vt(t,e,n){return W(t,e,n,ht,I(U),M(t,2,-2),0)}function wt(t,e,n,r){return W(t,e,n,dt,M(t,0,r),M(t,r+1,-1),r)}var St=function(t,e,n){for(var r=0,i=0;r=i,i=Y(),38===r&&12===i&&(e[n]=1),!Z(i);)q();return Q(t,B)},kt=function(t,e){return et(function(t,e){var n=-1,r=44;do{switch(Z(r)){case 0:38===r&&12===Y()&&(e[n]=1),t[n]+=St(B-1,e,n);break;case 2:t[n]+=nt(r);break;case 4:if(44===r){t[++n]=58===Y()?"&\f":"",e[n]=t[n].length;break}default:t[n]+=I(r)}}while(r=q());return t}(tt(t),e))},Tt=new WeakMap,At=function(t){if("rule"===t.type&&t.parent&&!(t.length<1)){for(var e=t.value,n=t.parent,r=t.column===n.column&&t.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==t.props.length||58===e.charCodeAt(0)||Tt.get(n))&&!r){Tt.set(t,!0);for(var i=[],s=kt(e,i),a=n.props,o=0,u=0;o<s.length;o++)for(var l=0;l<a.length;l++,u++)t.props[u]=i[o]?s[o].replace(/&\f/g,a[l]):a[l]+" "+s[o]}}},Et=function(t){if("decl"===t.type){var e=t.value;108===e.charCodeAt(0)&&98===e.charCodeAt(2)&&(t.return="",t.value="")}};function _t(t,e){switch(function(t,e){return 45^z(t,0)?(((e<<2^z(t,0))<<2^z(t,1))<<2^z(t,2))<<2^z(t,3):0}(t,e)){case 5103:return ct+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return ct+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return ct+t+lt+t+ut+t+t;case 6828:case 4268:return ct+t+ut+t+t;case 6165:return ct+t+ut+"flex-"+t+t;case 5187:return ct+t+R(t,/(\w+).+(:[^]+)/,ct+"box-$1$2"+ut+"flex-$1$2")+t;case 5443:return ct+t+ut+"flex-item-"+R(t,/flex-|-self/,"")+t;case 4675:return ct+t+ut+"flex-line-pack"+R(t,/align-content|flex-|-self/,"")+t;case 5548:return ct+t+ut+R(t,"shrink","negative")+t;case 5292:return ct+t+ut+R(t,"basis","preferred-size")+t;case 6060:return ct+"box-"+R(t,"-grow","")+ct+t+ut+R(t,"grow","positive")+t;case 4554:return ct+R(t,/([^-])(transform)/g,"$1"+ct+"$2")+t;case 6187:return R(R(R(t,/(zoom-|grab)/,ct+"$1"),/(image-set)/,ct+"$1"),t,"")+t;case 5495:case 3959:return R(t,/(image-set\([^]*)/,ct+"$1$`$1");case 4968:return R(R(t,/(.+:)(flex-)?(.*)/,ct+"box-pack:$3"+ut+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+ct+t+t;case 4095:case 3583:case 4068:case 2532:return R(t,/(.+)-inline(.+)/,ct+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(P(t)-1-e>6)switch(z(t,e+1)){case 109:if(45!==z(t,e+4))break;case 102:return R(t,/(.+:)(.+)-([^]+)/,"$1"+ct+"$2-$3$1"+lt+(108==z(t,e+3)?"$3":"$2-$3"))+t;case 115:return~D(t,"stretch")?_t(R(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(115!==z(t,e+1))break;case 6444:switch(z(t,P(t)-3-(~D(t,"!important")&&10))){case 107:return R(t,":",":"+ct)+t;case 101:return R(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+ct+(45===z(t,14)?"inline-":"")+"box$3$1"+ct+"$2$3$1"+ut+"$2box$3")+t}break;case 5936:switch(z(t,e+11)){case 114:return ct+t+ut+R(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return ct+t+ut+R(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return ct+t+ut+R(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return ct+t+ut+t+t}return t}var Lt=[function(t,e,n,r){if(t.length>-1&&!t.return)switch(t.type){case dt:t.return=_t(t.value,t.length);break;case ft:return mt([H(t,{value:R(t.value,"@","@"+ct)})],r);case pt:if(t.length)return function(t,e){return t.map(e).join("")}(t.props,(function(e){switch(function(t,e){return(t=e.exec(t))?t[0]:t}(e,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return mt([H(t,{props:[R(e,/:(read-\w+)/,":-moz-$1")]})],r);case"::placeholder":return mt([H(t,{props:[R(e,/:(plac\w+)/,":"+ct+"input-$1")]}),H(t,{props:[R(e,/:(plac\w+)/,":-moz-$1")]}),H(t,{props:[R(e,/:(plac\w+)/,ut+"input-$1")]})],r)}return""}))}}],Ct=function(t){var e=t.key;if("css"===e){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(t){-1!==t.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(t),t.setAttribute("data-s",""))}))}var r,i,s=t.stylisPlugins||Lt,a={},o=[];r=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+e+' "]'),(function(t){for(var e=t.getAttribute("data-emotion").split(" "),n=1;n<e.length;n++)a[e[n]]=!0;o.push(t)}));var u,l,c=[gt,(l=function(t){u.insert(t)},function(t){t.root||(t=t.return)&&l(t)})],h=function(t){var e=N(t);return function(n,r,i,s){for(var a="",o=0;o<e;o++)a+=t[o](n,r,i,s)||"";return a}}([At,Et].concat(s,c));i=function(t,e,n,r){u=n,function(t){mt(yt(t),h)}(t?t+"{"+e.styles+"}":e.styles),r&&(p.inserted[e.name]=!0)};var p={key:e,sheet:new L({key:e,container:r,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:a,registered:{},insert:i};return p.sheet.hydrate(o),p};function It(t,e,n){var r="";return n.split(" ").forEach((function(n){void 0!==t[n]?e.push(t[n]+";"):n&&(r+=n+" ")})),r}var $t=function(t,e,n){var r=t.key+"-"+e.name;!1===n&&void 0===t.registered[r]&&(t.registered[r]=e.styles)},Ot=function(t,e,n){$t(t,e,n);var r=t.key+"-"+e.name;if(void 0===t.inserted[e.name]){var i=e;do{t.insert(e===i?"."+r:"",i,t.sheet,!0),i=i.next}while(void 0!==i)}};var Rt={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};function Dt(t){var e=Object.create(null);return function(n){return void 0===e[n]&&(e[n]=t(n)),e[n]}}var zt=/[A-Z]|^ms/g,Mt=/_EMO_([^_]+?)_([^]*?)_EMO_/g,Pt=function(t){return 45===t.charCodeAt(1)},Nt=function(t){return null!=t&&"boolean"!==typeof t},Ft=Dt((function(t){return Pt(t)?t:t.replace(zt,"-$&").toLowerCase()})),Vt=function(t,e){switch(t){case"animation":case"animationName":if("string"===typeof e)return e.replace(Mt,(function(t,e,n){return jt={name:e,styles:n,next:jt},e}))}return 1===Rt[t]||Pt(t)||"number"!==typeof e||0===e?e:e+"px"};function Kt(t,e,n){if(null==n)return"";var r=n;if(void 0!==r.__emotion_styles)return r;switch(typeof n){case"boolean":return"";case"object":var i=n;if(1===i.anim)return jt={name:i.name,styles:i.styles,next:jt},i.name;var s=n;if(void 0!==s.styles){var a=s.next;if(void 0!==a)for(;void 0!==a;)jt={name:a.name,styles:a.styles,next:jt},a=a.next;return s.styles+";"}return function(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=Kt(t,e,n[i])+";";else for(var s in n){var a=n[s];if("object"!==typeof a){var o=a;null!=e&&void 0!==e[o]?r+=s+"{"+e[o]+"}":Nt(o)&&(r+=Ft(s)+":"+Vt(s,o)+";")}else if(!Array.isArray(a)||"string"!==typeof a[0]||null!=e&&void 0!==e[a[0]]){var u=Kt(t,e,a);switch(s){case"animation":case"animationName":r+=Ft(s)+":"+u+";";break;default:r+=s+"{"+u+"}"}}else for(var l=0;l<a.length;l++)Nt(a[l])&&(r+=Ft(s)+":"+Vt(s,a[l])+";")}return r}(t,e,n);case"function":if(void 0!==t){var o=jt,u=n(t);return jt=o,Kt(t,e,u)}}var l=n;if(null==e)return l;var c=e[l];return void 0!==c?c:l}var jt,Bt=/label:\s*([^\s;{]+)\s*(;|$)/g;function Ut(t,e,n){if(1===t.length&&"object"===typeof t[0]&&null!==t[0]&&void 0!==t[0].styles)return t[0];var r=!0,i="";jt=void 0;var s=t[0];null==s||void 0===s.raw?(r=!1,i+=Kt(n,e,s)):i+=s[0];for(var a=1;a<t.length;a++){if(i+=Kt(n,e,t[a]),r)i+=s[a]}Bt.lastIndex=0;for(var o,u="";null!==(o=Bt.exec(i));)u+="-"+o[1];var l=function(t){for(var e,n=0,r=0,i=t.length;i>=4;++r,i-=4)e=1540483477*(65535&(e=255&t.charCodeAt(r)|(255&t.charCodeAt(++r))<<8|(255&t.charCodeAt(++r))<<16|(255&t.charCodeAt(++r))<<24))+(59797*(e>>>16)<<16),n=1540483477*(65535&(e^=e>>>24))+(59797*(e>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(i){case 3:n^=(255&t.charCodeAt(r+2))<<16;case 2:n^=(255&t.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&t.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)}(i)+u;return{name:l,styles:i,next:jt}}var Gt=!!e.useInsertionEffect&&e.useInsertionEffect,Wt=Gt||function(t){return t()},Ht=Gt||t.useLayoutEffect,Xt=t.createContext("undefined"!==typeof HTMLElement?Ct({key:"css"}):null),qt=(Xt.Provider,function(e){return(0,t.forwardRef)((function(n,r){var i=(0,t.useContext)(Xt);return e(n,i,r)}))}),Yt=t.createContext({});var Jt={}.hasOwnProperty,Qt="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",Zt=function(t){var e=t.cache,n=t.serialized,r=t.isStringTag;return $t(e,n,r),Wt((function(){return Ot(e,n,r)})),null},te=qt((function(e,n,r){var i=e.css;"string"===typeof i&&void 0!==n.registered[i]&&(i=n.registered[i]);var s=e[Qt],a=[i],o="";"string"===typeof e.className?o=It(n.registered,a,e.className):null!=e.className&&(o=e.className+" ");var u=Ut(a,void 0,t.useContext(Yt));o+=n.key+"-"+u.name;var l={};for(var c in e)Jt.call(e,c)&&"css"!==c&&c!==Qt&&(l[c]=e[c]);return l.className=o,r&&(l.ref=r),t.createElement(t.Fragment,null,t.createElement(Zt,{cache:n,serialized:u,isStringTag:"string"===typeof s}),t.createElement(s,l))})),ee=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,ne=Dt((function(t){return ee.test(t)||111===t.charCodeAt(0)&&110===t.charCodeAt(1)&&t.charCodeAt(2)<91})),re=function(t){return"theme"!==t},ie=function(t){return"string"===typeof t&&t.charCodeAt(0)>96?ne:re},se=function(t,e,n){var r;if(e){var i=e.shouldForwardProp;r=t.__emotion_forwardProp&&i?function(e){return t.__emotion_forwardProp(e)&&i(e)}:i}return"function"!==typeof r&&n&&(r=t.__emotion_forwardProp),r},ae=function(t){var e=t.cache,n=t.serialized,r=t.isStringTag;return $t(e,n,r),Wt((function(){return Ot(e,n,r)})),null},oe=function e(n,r){var i,s,a=n.__emotion_real===n,o=a&&n.__emotion_base||n;void 0!==r&&(i=r.label,s=r.target);var u=se(n,r,a),l=u||ie(o),c=!l("as");return function(){var h=arguments,p=a&&void 0!==n.__emotion_styles?n.__emotion_styles.slice(0):[];if(void 0!==i&&p.push("label:"+i+";"),null==h[0]||void 0===h[0].raw)p.push.apply(p,h);else{var d=h[0];p.push(d[0]);for(var f=h.length,m=1;m<f;m++)p.push(h[m],d[m])}var g=qt((function(e,n,r){var i=c&&e.as||o,a="",h=[],d=e;if(null==e.theme){for(var f in d={},e)d[f]=e[f];d.theme=t.useContext(Yt)}"string"===typeof e.className?a=It(n.registered,h,e.className):null!=e.className&&(a=e.className+" ");var m=Ut(p.concat(h),n.registered,d);a+=n.key+"-"+m.name,void 0!==s&&(a+=" "+s);var g=c&&void 0===u?ie(i):l,y={};for(var b in e)c&&"as"===b||g(b)&&(y[b]=e[b]);return y.className=a,r&&(y.ref=r),t.createElement(t.Fragment,null,t.createElement(ae,{cache:n,serialized:m,isStringTag:"string"===typeof i}),t.createElement(i,y))}));return g.displayName=void 0!==i?i:"Styled("+("string"===typeof o?o:o.displayName||o.name||"Component")+")",g.defaultProps=n.defaultProps,g.__emotion_real=g,g.__emotion_base=o,g.__emotion_styles=p,g.__emotion_forwardProp=u,Object.defineProperty(g,"toString",{value:function(){return"."+s}}),g.withComponent=function(t,n){return e(t,_({},r,n,{shouldForwardProp:se(g,n,!0)})).apply(void 0,p)},g}}.bind(null);function ue(t,e){return oe(t,e)}["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(t){oe[t]=oe(t)}));const le=[];function ce(t){return le[0]=t,Ut(le)}var he=n(191);function pe(t){if("object"!==typeof t||null===t)return!1;const e=Object.getPrototypeOf(t);return(null===e||e===Object.prototype||null===Object.getPrototypeOf(e))&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function de(e){if(t.isValidElement(e)||(0,he.Hy)(e)||!pe(e))return e;const n={};return Object.keys(e).forEach((t=>{n[t]=de(e[t])})),n}function fe(e,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0};const i=r.clone?{...e}:e;return pe(e)&&pe(n)&&Object.keys(n).forEach((s=>{t.isValidElement(n[s])||(0,he.Hy)(n[s])?i[s]=n[s]:pe(n[s])&&Object.prototype.hasOwnProperty.call(e,s)&&pe(e[s])?i[s]=fe(e[s],n[s],r):r.clone?i[s]=pe(n[s])?de(n[s]):n[s]:i[s]=n[s]})),i}function me(t){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5,...i}=t,s=(t=>{const e=Object.keys(t).map((e=>({key:e,val:t[e]})))||[];return e.sort(((t,e)=>t.val-e.val)),e.reduce(((t,e)=>({...t,[e.key]:e.val})),{})})(e),a=Object.keys(s);function o(t){return`@media (min-width:${"number"===typeof e[t]?e[t]:t}${n})`}function u(t){return`@media (max-width:${("number"===typeof e[t]?e[t]:t)-r/100}${n})`}function l(t,i){const s=a.indexOf(i);return`@media (min-width:${"number"===typeof e[t]?e[t]:t}${n}) and (max-width:${(-1!==s&&"number"===typeof e[a[s]]?e[a[s]]:i)-r/100}${n})`}return{keys:a,values:s,up:o,down:u,between:l,only:function(t){return a.indexOf(t)+1<a.length?l(t,a[a.indexOf(t)+1]):o(t)},not:function(t){const e=a.indexOf(t);return 0===e?o(a[1]):e===a.length-1?u(a[e]):l(t,a[a.indexOf(t)+1]).replace("@media","@media not all and")},unit:n,...i}}const ge={borderRadius:4},ye={xs:0,sm:600,md:900,lg:1200,xl:1536},be={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${ye[t]}px)`},xe={containerQueries:t=>({up:e=>{let n="number"===typeof e?e:ye[e]||e;return"number"===typeof n&&(n=`${n}px`),t?`@container ${t} (min-width:${n})`:`@container (min-width:${n})`}})};function ve(t,e,n){const r=t.theme||{};if(Array.isArray(e)){const t=r.breakpoints||be;return e.reduce(((r,i,s)=>(r[t.up(t.keys[s])]=n(e[s]),r)),{})}if("object"===typeof e){const t=r.breakpoints||be;return Object.keys(e).reduce(((i,s)=>{if(function(t,e){return"@"===e||e.startsWith("@")&&(t.some((t=>e.startsWith(`@${t}`)))||!!e.match(/^@\d/))}(t.keys,s)){const t=function(t,e){const n=e.match(/^@([^/]+)?\/?(.+)?$/);if(!n)return null;const[,r,i]=n,s=Number.isNaN(+r)?r||0:+r;return t.containerQueries(i).up(s)}(r.containerQueries?r:xe,s);t&&(i[t]=n(e[s],s))}else if(Object.keys(t.values||ye).includes(s)){i[t.up(s)]=n(e[s],s)}else{const t=s;i[t]=e[t]}return i}),{})}return n(e)}function we(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const e=t.keys?.reduce(((e,n)=>(e[t.up(n)]={},e)),{});return e||{}}function Se(t,e){return t.reduce(((t,e)=>{const n=t[e];return(!n||0===Object.keys(n).length)&&delete t[e],t}),e)}function ke(t,e){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e||"string"!==typeof e)return null;if(t&&t.vars&&n){const n=`vars.${e}`.split(".").reduce(((t,e)=>t&&t[e]?t[e]:null),t);if(null!=n)return n}return e.split(".").reduce(((t,e)=>t&&null!=t[e]?t[e]:null),t)}function Te(t,e,n){let r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n;return r="function"===typeof t?t(n):Array.isArray(t)?t[n]||i:ke(t,n)||i,e&&(r=e(r,i,t)),r}const Ae=function(t){const{prop:e,cssProperty:n=t.prop,themeKey:r,transform:i}=t,s=t=>{if(null==t[e])return null;const s=t[e],a=ke(t.theme,r)||{};return ve(t,s,(t=>{let r=Te(a,i,t);return t===r&&"string"===typeof t&&(r=Te(a,i,`${e}${"default"===t?"":k(t)}`,t)),!1===n?r:{[n]:r}}))};return s.propTypes={},s.filterProps=[e],s};const Ee=function(t,e){return e?fe(t,e,{clone:!1}):t};const _e={m:"margin",p:"padding"},Le={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},Ce={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},Ie=function(t){const e={};return n=>(void 0===e[n]&&(e[n]=t(n)),e[n])}((t=>{if(t.length>2){if(!Ce[t])return[t];t=Ce[t]}const[e,n]=t.split(""),r=_e[e],i=Le[n]||"";return Array.isArray(i)?i.map((t=>r+t)):[r+i]})),$e=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],Oe=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],Re=[...$e,...Oe];function De(t,e,n,r){const i=ke(t,e,!0)??n;return"number"===typeof i||"string"===typeof i?t=>"string"===typeof t?t:"string"===typeof i?`calc(${t} * ${i})`:i*t:Array.isArray(i)?t=>{if("string"===typeof t)return t;const e=Math.abs(t);const n=i[e];return t>=0?n:"number"===typeof n?-n:`-${n}`}:"function"===typeof i?i:()=>{}}function ze(t){return De(t,"spacing",8)}function Me(t,e){return"string"===typeof e||null==e?e:t(e)}function Pe(t,e,n,r){if(!e.includes(n))return null;const i=function(t,e){return n=>t.reduce(((t,r)=>(t[r]=Me(e,n),t)),{})}(Ie(n),r);return ve(t,t[n],i)}function Ne(t,e){const n=ze(t.theme);return Object.keys(t).map((r=>Pe(t,e,r,n))).reduce(Ee,{})}function Fe(t){return Ne(t,$e)}function Ve(t){return Ne(t,Oe)}function Ke(t){return Ne(t,Re)}Fe.propTypes={},Fe.filterProps=$e,Ve.propTypes={},Ve.filterProps=Oe,Ke.propTypes={},Ke.filterProps=Re;function je(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ze({spacing:t});if(t.mui)return t;const n=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(0===n.length?[1]:n).map((t=>{const n=e(t);return"number"===typeof n?`${n}px`:n})).join(" ")};return n.mui=!0,n}const Be=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];const r=e.reduce(((t,e)=>(e.filterProps.forEach((n=>{t[n]=e})),t)),{}),i=t=>Object.keys(t).reduce(((e,n)=>r[n]?Ee(e,r[n](t)):e),{});return i.propTypes={},i.filterProps=e.reduce(((t,e)=>t.concat(e.filterProps)),[]),i};function Ue(t){return"number"!==typeof t?t:`${t}px solid`}function Ge(t,e){return Ae({prop:t,themeKey:"borders",transform:e})}const We=Ge("border",Ue),He=Ge("borderTop",Ue),Xe=Ge("borderRight",Ue),qe=Ge("borderBottom",Ue),Ye=Ge("borderLeft",Ue),Je=Ge("borderColor"),Qe=Ge("borderTopColor"),Ze=Ge("borderRightColor"),tn=Ge("borderBottomColor"),en=Ge("borderLeftColor"),nn=Ge("outline",Ue),rn=Ge("outlineColor"),sn=t=>{if(void 0!==t.borderRadius&&null!==t.borderRadius){const e=De(t.theme,"shape.borderRadius",4),n=t=>({borderRadius:Me(e,t)});return ve(t,t.borderRadius,n)}return null};sn.propTypes={},sn.filterProps=["borderRadius"];Be(We,He,Xe,qe,Ye,Je,Qe,Ze,tn,en,sn,nn,rn);const an=t=>{if(void 0!==t.gap&&null!==t.gap){const e=De(t.theme,"spacing",8),n=t=>({gap:Me(e,t)});return ve(t,t.gap,n)}return null};an.propTypes={},an.filterProps=["gap"];const on=t=>{if(void 0!==t.columnGap&&null!==t.columnGap){const e=De(t.theme,"spacing",8),n=t=>({columnGap:Me(e,t)});return ve(t,t.columnGap,n)}return null};on.propTypes={},on.filterProps=["columnGap"];const un=t=>{if(void 0!==t.rowGap&&null!==t.rowGap){const e=De(t.theme,"spacing",8),n=t=>({rowGap:Me(e,t)});return ve(t,t.rowGap,n)}return null};un.propTypes={},un.filterProps=["rowGap"];Be(an,on,un,Ae({prop:"gridColumn"}),Ae({prop:"gridRow"}),Ae({prop:"gridAutoFlow"}),Ae({prop:"gridAutoColumns"}),Ae({prop:"gridAutoRows"}),Ae({prop:"gridTemplateColumns"}),Ae({prop:"gridTemplateRows"}),Ae({prop:"gridTemplateAreas"}),Ae({prop:"gridArea"}));function ln(t,e){return"grey"===e?e:t}Be(Ae({prop:"color",themeKey:"palette",transform:ln}),Ae({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:ln}),Ae({prop:"backgroundColor",themeKey:"palette",transform:ln}));function cn(t){return t<=1&&0!==t?100*t+"%":t}const hn=Ae({prop:"width",transform:cn}),pn=t=>{if(void 0!==t.maxWidth&&null!==t.maxWidth){const e=e=>{const n=t.theme?.breakpoints?.values?.[e]||ye[e];return n?"px"!==t.theme?.breakpoints?.unit?{maxWidth:`${n}${t.theme.breakpoints.unit}`}:{maxWidth:n}:{maxWidth:cn(e)}};return ve(t,t.maxWidth,e)}return null};pn.filterProps=["maxWidth"];const dn=Ae({prop:"minWidth",transform:cn}),fn=Ae({prop:"height",transform:cn}),mn=Ae({prop:"maxHeight",transform:cn}),gn=Ae({prop:"minHeight",transform:cn}),yn=(Ae({prop:"size",cssProperty:"width",transform:cn}),Ae({prop:"size",cssProperty:"height",transform:cn}),Be(hn,pn,dn,fn,mn,gn,Ae({prop:"boxSizing"})),{border:{themeKey:"borders",transform:Ue},borderTop:{themeKey:"borders",transform:Ue},borderRight:{themeKey:"borders",transform:Ue},borderBottom:{themeKey:"borders",transform:Ue},borderLeft:{themeKey:"borders",transform:Ue},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:Ue},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:sn},color:{themeKey:"palette",transform:ln},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:ln},backgroundColor:{themeKey:"palette",transform:ln},p:{style:Ve},pt:{style:Ve},pr:{style:Ve},pb:{style:Ve},pl:{style:Ve},px:{style:Ve},py:{style:Ve},padding:{style:Ve},paddingTop:{style:Ve},paddingRight:{style:Ve},paddingBottom:{style:Ve},paddingLeft:{style:Ve},paddingX:{style:Ve},paddingY:{style:Ve},paddingInline:{style:Ve},paddingInlineStart:{style:Ve},paddingInlineEnd:{style:Ve},paddingBlock:{style:Ve},paddingBlockStart:{style:Ve},paddingBlockEnd:{style:Ve},m:{style:Fe},mt:{style:Fe},mr:{style:Fe},mb:{style:Fe},ml:{style:Fe},mx:{style:Fe},my:{style:Fe},margin:{style:Fe},marginTop:{style:Fe},marginRight:{style:Fe},marginBottom:{style:Fe},marginLeft:{style:Fe},marginX:{style:Fe},marginY:{style:Fe},marginInline:{style:Fe},marginInlineStart:{style:Fe},marginInlineEnd:{style:Fe},marginBlock:{style:Fe},marginBlockStart:{style:Fe},marginBlockEnd:{style:Fe},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:an},rowGap:{style:un},columnGap:{style:on},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:cn},maxWidth:{style:pn},minWidth:{transform:cn},height:{transform:cn},maxHeight:{transform:cn},minHeight:{transform:cn},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}});const bn=function(){function t(t,e,n,r){const i={[t]:e,theme:n},s=r[t];if(!s)return{[t]:e};const{cssProperty:a=t,themeKey:o,transform:u,style:l}=s;if(null==e)return null;if("typography"===o&&"inherit"===e)return{[t]:e};const c=ke(n,o)||{};if(l)return l(i);return ve(i,e,(e=>{let n=Te(c,u,e);return e===n&&"string"===typeof e&&(n=Te(c,u,`${t}${"default"===e?"":k(e)}`,e)),!1===a?n:{[a]:n}}))}return function e(n){const{sx:r,theme:i={}}=n||{};if(!r)return null;const s=i.unstable_sxConfig??yn;function a(n){let r=n;if("function"===typeof n)r=n(i);else if("object"!==typeof n)return n;if(!r)return null;const a=we(i.breakpoints),o=Object.keys(a);let u=a;return Object.keys(r).forEach((n=>{const a=function(t,e){return"function"===typeof t?t(e):t}(r[n],i);if(null!==a&&void 0!==a)if("object"===typeof a)if(s[n])u=Ee(u,t(n,a,i,s));else{const t=ve({theme:i},a,(t=>({[n]:t})));!function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];const r=e.reduce(((t,e)=>t.concat(Object.keys(e))),[]),i=new Set(r);return e.every((t=>i.size===Object.keys(t).length))}(t,a)?u=Ee(u,t):u[n]=e({sx:a,theme:i})}else u=Ee(u,t(n,a,i,s))})),function(t,e){if(!t.containerQueries)return e;const n=Object.keys(e).filter((t=>t.startsWith("@container"))).sort(((t,e)=>{const n=/min-width:\s*([0-9.]+)/;return+(t.match(n)?.[1]||0)-+(e.match(n)?.[1]||0)}));return n.length?n.reduce(((t,n)=>{const r=e[n];return delete t[n],t[n]=r,t}),{...e}):e}(i,Se(o,u))}return Array.isArray(r)?r.map(a):a(r)}}();bn.filterProps=["sx"];const xn=bn;function vn(t,e){const n=this;if(n.vars){if(!n.colorSchemes?.[t]||"function"!==typeof n.getColorSchemeSelector)return{};let r=n.getColorSchemeSelector(t);return"&"===r?e:((r.includes("data-")||r.includes("."))&&(r=`*:where(${r.replace(/\s*&$/,"")}) &`),{[r]:e})}return n.palette.mode===t?e:{}}const wn=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{breakpoints:e={},palette:n={},spacing:r,shape:i={},...s}=t;let a=fe({breakpoints:me(e),direction:"ltr",components:{},palette:{mode:"light",...n},spacing:je(r),shape:{...ge,...i}},s);a=function(t){const e=(t,e)=>t.replace("@media",e?`@container ${e}`:"@container");function n(n,r){n.up=function(){return e(t.breakpoints.up(...arguments),r)},n.down=function(){return e(t.breakpoints.down(...arguments),r)},n.between=function(){return e(t.breakpoints.between(...arguments),r)},n.only=function(){return e(t.breakpoints.only(...arguments),r)},n.not=function(){const n=e(t.breakpoints.not(...arguments),r);return n.includes("not all and")?n.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):n}}const r={},i=t=>(n(r,t),r);return n(i),{...t,containerQueries:i}}(a),a.applyStyles=vn;for(var o=arguments.length,u=new Array(o>1?o-1:0),l=1;l<o;l++)u[l-1]=arguments[l];return a=u.reduce(((t,e)=>fe(t,e)),a),a.unstable_sxConfig={...yn,...s?.unstable_sxConfig},a.unstable_sx=function(t){return xn({sx:t,theme:this})},a};function Sn(t){const{variants:e,...n}=t,r={variants:e,style:ce(n),isProcessed:!0};return r.style===n||e&&e.forEach((t=>{"function"!==typeof t.style&&(t.style=ce(t.style))})),r}const kn=wn();function Tn(t){return"ownerState"!==t&&"theme"!==t&&"sx"!==t&&"as"!==t}function An(t){return t?(e,n)=>n[t]:null}function En(t,e){const n="function"===typeof e?e(t):e;if(Array.isArray(n))return n.flatMap((e=>En(t,e)));if(Array.isArray(n?.variants)){let e;if(n.isProcessed)e=n.style;else{const{variants:t,...r}=n;e=r}return _n(t,n.variants,[e])}return n?.isProcessed?n.style:n}function _n(t,e){let n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];t:for(let i=0;i<e.length;i+=1){const s=e[i];if("function"===typeof s.props){if(n??={...t,...t.ownerState,ownerState:t.ownerState},!s.props(n))continue}else for(const e in s.props)if(t[e]!==s.props[e]&&t.ownerState?.[e]!==s.props[e])continue t;"function"===typeof s.style?(n??={...t,...t.ownerState,ownerState:t.ownerState},r.push(s.style(n))):r.push(s.style)}return r}function Ln(t,e){}function Cn(t){return t?t.charAt(0).toLowerCase()+t.slice(1):t}const In={black:"#000",white:"#fff"},$n={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},On={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},Rn={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},Dn={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},zn={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},Mn={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},Pn={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"};function Nn(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:In.white,default:In.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const Fn=Nn();function Vn(){return{text:{primary:In.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:In.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const Kn=Vn();function jn(t,e,n,r){const i=r.light||r,s=r.dark||1.5*r;t[e]||(t.hasOwnProperty(n)?t[e]=t[n]:"light"===e?t.light=v(t.main,i):"dark"===e&&(t.dark=b(t.main,s)))}function Bn(t){const{mode:e="light",contrastThreshold:n=3,tonalOffset:r=.2,...i}=t,s=t.primary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:zn[200],light:zn[50],dark:zn[400]}:{main:zn[700],light:zn[400],dark:zn[800]}}(e),a=t.secondary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:On[200],light:On[50],dark:On[400]}:{main:On[500],light:On[300],dark:On[700]}}(e),o=t.error||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Rn[500],light:Rn[300],dark:Rn[700]}:{main:Rn[700],light:Rn[400],dark:Rn[800]}}(e),l=t.info||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Mn[400],light:Mn[300],dark:Mn[700]}:{main:Mn[700],light:Mn[500],dark:Mn[900]}}(e),c=t.success||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Pn[400],light:Pn[300],dark:Pn[700]}:{main:Pn[800],light:Pn[500],dark:Pn[900]}}(e),h=t.warning||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Dn[400],light:Dn[300],dark:Dn[700]}:{main:"#ed6c02",light:Dn[500],dark:Dn[900]}}(e);function p(t){const e=function(t,e){const n=m(t),r=m(e);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}(t,Kn.text.primary)>=n?Kn.text.primary:Fn.text.primary;return e}const d=t=>{let{color:e,name:n,mainShade:i=500,lightShade:s=300,darkShade:a=700}=t;if(e={...e},!e.main&&e[i]&&(e.main=e[i]),!e.hasOwnProperty("main"))throw new Error(u(11,n?` (${n})`:"",i));if("string"!==typeof e.main)throw new Error(u(12,n?` (${n})`:"",JSON.stringify(e.main)));return jn(e,"light",s,r),jn(e,"dark",a,r),e.contrastText||(e.contrastText=p(e.main)),e};let f;"light"===e?f=Nn():"dark"===e&&(f=Vn());return fe({common:{...In},mode:e,primary:d({color:s,name:"primary"}),secondary:d({color:a,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:d({color:o,name:"error"}),warning:d({color:h,name:"warning"}),info:d({color:l,name:"info"}),success:d({color:c,name:"success"}),grey:$n,contrastThreshold:n,getContrastText:p,augmentColor:d,tonalOffset:r,...f},i)}function Un(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";function e(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];if(!r.length)return"";const s=r[0];return"string"!==typeof s||s.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, ${s}`:`, var(--${t?`${t}-`:""}${s}${e(...r.slice(1))})`}return function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),s=1;s<r;s++)i[s-1]=arguments[s];return`var(--${t?`${t}-`:""}${n}${e(...i)})`}}function Gn(t){const e={};return Object.entries(t).forEach((t=>{const[n,r]=t;"object"===typeof r&&(e[n]=`${r.fontStyle?`${r.fontStyle} `:""}${r.fontVariant?`${r.fontVariant} `:""}${r.fontWeight?`${r.fontWeight} `:""}${r.fontStretch?`${r.fontStretch} `:""}${r.fontSize||""}${r.lineHeight?`/${r.lineHeight} `:""}${r.fontFamily||""}`)})),e}const Wn=function(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=t;e.forEach(((t,s)=>{s===e.length-1?Array.isArray(i)?i[Number(t)]=n:i&&"object"===typeof i&&(i[t]=n):i&&"object"===typeof i&&(i[t]||(i[t]=r.includes(t)?[]:{}),i=i[t])}))};function Hn(t,e){const{prefix:n,shouldSkipGeneratingVar:r}=e||{},i={},s={},a={};var o,u;return o=(t,e,o)=>{if(("string"===typeof e||"number"===typeof e)&&(!r||!r(t,e))){const r=`--${n?`${n}-`:""}${t.join("-")}`,u=((t,e)=>"number"===typeof e?["lineHeight","fontWeight","opacity","zIndex"].some((e=>t.includes(e)))||t[t.length-1].toLowerCase().includes("opacity")?e:`${e}px`:e)(t,e);Object.assign(i,{[r]:u}),Wn(s,t,`var(${r})`,o),Wn(a,t,`var(${r}, ${u})`,o)}},u=t=>"vars"===t[0],function t(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];Object.entries(e).forEach((e=>{let[i,s]=e;(!u||u&&!u([...n,i]))&&void 0!==s&&null!==s&&("object"===typeof s&&Object.keys(s).length>0?t(s,[...n,i],Array.isArray(s)?[...r,i]:r):o([...n,i],s,r))}))}(t),{css:i,vars:s,varsWithDefaults:a}}const Xn=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{getSelector:n=g,disableCssColorScheme:r,colorSchemeSelector:i}=e,{colorSchemes:s={},components:a,defaultColorScheme:o="light",...u}=t,{vars:l,css:c,varsWithDefaults:h}=Hn(u,e);let p=h;const d={},{[o]:f,...m}=s;if(Object.entries(m||{}).forEach((t=>{let[n,r]=t;const{vars:i,css:s,varsWithDefaults:a}=Hn(r,e);p=fe(p,a),d[n]={css:s,vars:i}})),f){const{css:t,vars:n,varsWithDefaults:r}=Hn(f,e);p=fe(p,r),d[o]={css:t,vars:n}}function g(e,n){let r=i;if("class"===i&&(r=".%s"),"data"===i&&(r="[data-%s]"),i?.startsWith("data-")&&!i.includes("%s")&&(r=`[${i}="%s"]`),e){if("media"===r){if(t.defaultColorScheme===e)return":root";const r=s[e]?.palette?.mode||e;return{[`@media (prefers-color-scheme: ${r})`]:{":root":n}}}if(r)return t.defaultColorScheme===e?`:root, ${r.replace("%s",String(e))}`:r.replace("%s",String(e))}return":root"}return{vars:p,generateThemeVars:()=>{let t={...l};return Object.entries(d).forEach((e=>{let[,{vars:n}]=e;t=fe(t,n)})),t},generateStyleSheets:()=>{const e=[],i=t.defaultColorScheme||"light";function a(t,n){Object.keys(n).length&&e.push("string"===typeof t?{[t]:{...n}}:t)}a(n(void 0,{...c}),c);const{[i]:o,...u}=d;if(o){const{css:t}=o,e=s[i]?.palette?.mode,u=!r&&e?{colorScheme:e,...t}:{...t};a(n(i,{...u}),u)}return Object.entries(u).forEach((t=>{let[e,{css:i}]=t;const o=s[e]?.palette?.mode,u=!r&&o?{colorScheme:o,...i}:{...i};a(n(e,{...u}),u)})),e}}};function qn(t,e){return{toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}},...e}}function Yn(t){return Math.round(1e5*t)/1e5}const Jn={textTransform:"uppercase"},Qn='"Roboto", "Helvetica", "Arial", sans-serif';function Zn(t,e){const{fontFamily:n=Qn,fontSize:r=14,fontWeightLight:i=300,fontWeightRegular:s=400,fontWeightMedium:a=500,fontWeightBold:o=700,htmlFontSize:u=16,allVariants:l,pxToRem:c,...h}="function"===typeof e?e(t):e;const p=r/14,d=c||(t=>t/u*p+"rem"),f=(t,e,r,i,s)=>({fontFamily:n,fontWeight:t,fontSize:d(e),lineHeight:r,...n===Qn?{letterSpacing:`${Yn(i/e)}em`}:{},...s,...l}),m={h1:f(i,96,1.167,-1.5),h2:f(i,60,1.2,-.5),h3:f(s,48,1.167,0),h4:f(s,34,1.235,.25),h5:f(s,24,1.334,0),h6:f(a,20,1.6,.15),subtitle1:f(s,16,1.75,.15),subtitle2:f(a,14,1.57,.1),body1:f(s,16,1.5,.15),body2:f(s,14,1.43,.15),button:f(a,14,1.75,.4,Jn),caption:f(s,12,1.66,.4),overline:f(s,12,2.66,1,Jn),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return fe({htmlFontSize:u,pxToRem:d,fontFamily:n,fontSize:r,fontWeightLight:i,fontWeightRegular:s,fontWeightMedium:a,fontWeightBold:o,...m},h,{clone:!1})}function tr(){return[`${arguments.length<=0?void 0:arguments[0]}px ${arguments.length<=1?void 0:arguments[1]}px ${arguments.length<=2?void 0:arguments[2]}px ${arguments.length<=3?void 0:arguments[3]}px rgba(0,0,0,0.2)`,`${arguments.length<=4?void 0:arguments[4]}px ${arguments.length<=5?void 0:arguments[5]}px ${arguments.length<=6?void 0:arguments[6]}px ${arguments.length<=7?void 0:arguments[7]}px rgba(0,0,0,0.14)`,`${arguments.length<=8?void 0:arguments[8]}px ${arguments.length<=9?void 0:arguments[9]}px ${arguments.length<=10?void 0:arguments[10]}px ${arguments.length<=11?void 0:arguments[11]}px rgba(0,0,0,0.12)`].join(",")}const er=["none",tr(0,2,1,-1,0,1,1,0,0,1,3,0),tr(0,3,1,-2,0,2,2,0,0,1,5,0),tr(0,3,3,-2,0,3,4,0,0,1,8,0),tr(0,2,4,-1,0,4,5,0,0,1,10,0),tr(0,3,5,-1,0,5,8,0,0,1,14,0),tr(0,3,5,-1,0,6,10,0,0,1,18,0),tr(0,4,5,-2,0,7,10,1,0,2,16,1),tr(0,5,5,-3,0,8,10,1,0,3,14,2),tr(0,5,6,-3,0,9,12,1,0,3,16,2),tr(0,6,6,-3,0,10,14,1,0,4,18,3),tr(0,6,7,-4,0,11,15,1,0,4,20,3),tr(0,7,8,-4,0,12,17,2,0,5,22,4),tr(0,7,8,-4,0,13,19,2,0,5,24,4),tr(0,7,9,-4,0,14,21,2,0,5,26,4),tr(0,8,9,-5,0,15,22,2,0,6,28,5),tr(0,8,10,-5,0,16,24,2,0,6,30,5),tr(0,8,11,-5,0,17,26,2,0,6,32,5),tr(0,9,11,-5,0,18,28,2,0,7,34,6),tr(0,9,12,-6,0,19,29,2,0,7,36,6),tr(0,10,13,-6,0,20,31,3,0,8,38,7),tr(0,10,13,-6,0,21,33,3,0,8,40,7),tr(0,10,14,-6,0,22,35,3,0,8,42,7),tr(0,11,14,-7,0,23,36,3,0,9,44,8),tr(0,11,15,-7,0,24,38,3,0,9,46,8)],nr={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},rr={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function ir(t){return`${Math.round(t)}ms`}function sr(t){if(!t)return 0;const e=t/36;return Math.min(Math.round(10*(4+15*e**.25+e/5)),3e3)}function ar(t){const e={...nr,...t.easing},n={...rr,...t.duration};return{getAutoHeightDuration:sr,create:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{duration:i=n.standard,easing:s=e.easeInOut,delay:a=0,...o}=r;return(Array.isArray(t)?t:[t]).map((t=>`${t} ${"string"===typeof i?i:ir(i)} ${s} ${"string"===typeof a?a:ir(a)}`)).join(",")},...t,easing:e,duration:n}}const or={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function ur(){const t={...arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}};return function t(e){const n=Object.entries(e);for(let i=0;i<n.length;i++){const[s,a]=n[i];!pe(r=a)&&"undefined"!==typeof r&&"string"!==typeof r&&"boolean"!==typeof r&&"number"!==typeof r&&!Array.isArray(r)||s.startsWith("unstable_")?delete e[s]:pe(a)&&(e[s]={...a},t(e[s]))}var r}(t),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';\n\nconst theme = ${JSON.stringify(t,null,2)};\n\ntheme.breakpoints = createBreakpoints(theme.breakpoints || {});\ntheme.transitions = createTransitions(theme.transitions || {});\n\nexport default theme;`}function lr(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{breakpoints:e,mixins:n={},spacing:r,palette:i={},transitions:s={},typography:a={},shape:o,...l}=t;if(t.vars&&void 0===t.generateThemeVars)throw new Error(u(20));const c=Bn(i),h=wn(t);let p=fe(h,{mixins:qn(h.breakpoints,n),palette:c,shadows:er.slice(),typography:Zn(c,a),transitions:ar(s),zIndex:{...or}});p=fe(p,l);for(var d=arguments.length,f=new Array(d>1?d-1:0),m=1;m<d;m++)f[m-1]=arguments[m];return p=f.reduce(((t,e)=>fe(t,e)),p),p.unstable_sxConfig={...yn,...l?.unstable_sxConfig},p.unstable_sx=function(t){return xn({sx:t,theme:this})},p.toRuntimeSource=ur,p}const cr=lr;function hr(t){let e;return e=t<1?5.11916*t**2:4.5*Math.log(t+1)+2,Math.round(10*e)/1e3}const pr=[...Array(25)].map(((t,e)=>{if(0===e)return"none";const n=hr(e);return`linear-gradient(rgba(255 255 255 / ${n}), rgba(255 255 255 / ${n}))`}));function dr(t){return{inputPlaceholder:"dark"===t?.5:.42,inputUnderline:"dark"===t?.7:.42,switchTrackDisabled:"dark"===t?.2:.12,switchTrack:"dark"===t?.3:.38}}function fr(t){return"dark"===t?pr:[]}function mr(t){return!!t[0].match(/(cssVarPrefix|colorSchemeSelector|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!t[0].match(/sxConfig$/)||"palette"===t[0]&&!!t[1]?.match(/(mode|contrastThreshold|tonalOffset)/)}const gr=t=>[...[...Array(25)].map(((e,n)=>`--${t?`${t}-`:""}overlays-${n}`)),`--${t?`${t}-`:""}palette-AppBar-darkBg`,`--${t?`${t}-`:""}palette-AppBar-darkColor`],yr=t=>(e,n)=>{const r=t.rootSelector||":root",i=t.colorSchemeSelector;let s=i;if("class"===i&&(s=".%s"),"data"===i&&(s="[data-%s]"),i?.startsWith("data-")&&!i.includes("%s")&&(s=`[${i}="%s"]`),t.defaultColorScheme===e){if("dark"===e){const i={};return gr(t.cssVarPrefix).forEach((t=>{i[t]=n[t],delete n[t]})),"media"===s?{[r]:n,"@media (prefers-color-scheme: dark)":{[r]:i}}:s?{[s.replace("%s",e)]:i,[`${r}, ${s.replace("%s",e)}`]:n}:{[r]:{...n,...i}}}if(s&&"media"!==s)return`${r}, ${s.replace("%s",String(e))}`}else if(e){if("media"===s)return{[`@media (prefers-color-scheme: ${String(e)})`]:{[r]:n}};if(s)return s.replace("%s",String(e))}return r};function br(t,e,n){!t[e]&&n&&(t[e]=n)}function xr(t){return"string"===typeof t&&t.startsWith("hsl")?f(t):t}function vr(t,e){`${e}Channel`in t||(t[`${e}Channel`]=p(xr(t[e])))}const wr=t=>{try{return t()}catch(e){}};function Sr(t,e,n,r){if(!e)return;e=!0===e?{}:e;const i="dark"===r?"dark":"light";if(!n)return void(t[r]=function(t){const{palette:e={mode:"light"},opacity:n,overlays:r,...i}=t,s=Bn(e);return{palette:s,opacity:{...dr(s.mode),...n},overlays:r||fr(s.mode),...i}}({...e,palette:{mode:i,...e?.palette}}));const{palette:s,...a}=cr({...n,palette:{mode:i,...e?.palette}});return t[r]={...e,palette:s,opacity:{...dr(i),...e?.opacity},overlays:e?.overlays||fr(i)},a}function kr(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{colorSchemes:e={light:!0},defaultColorScheme:n,disableCssColorScheme:r=!1,cssVarPrefix:i="mui",shouldSkipGeneratingVar:s=mr,colorSchemeSelector:a=(e.light&&e.dark?"media":void 0),rootSelector:o=":root",...l}=t,c=Object.keys(e)[0],h=n||(e.light&&"light"!==c?"light":c),d=function(){return Un(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"mui")}(i),{[h]:f,light:m,dark:g,...b}=e,v={...b};let k=f;if(("dark"===h&&!("dark"in e)||"light"===h&&!("light"in e))&&(k=!0),!k)throw new Error(u(21,h));const T=Sr(v,k,l,h);m&&!v.light&&Sr(v,m,void 0,"light"),g&&!v.dark&&Sr(v,g,void 0,"dark");let A={defaultColorScheme:h,...T,cssVarPrefix:i,colorSchemeSelector:a,rootSelector:o,getCssVar:d,colorSchemes:v,font:{...Gn(T.typography),...T.font},spacing:(E=l.spacing,"number"===typeof E?`${E}px`:"string"===typeof E||"function"===typeof E||Array.isArray(E)?E:"8px")};var E;Object.keys(A.colorSchemes).forEach((t=>{const e=A.colorSchemes[t].palette,n=t=>{const n=t.split("-"),r=n[1],i=n[2];return d(t,e[r][i])};var r;if("light"===e.mode&&(br(e.common,"background","#fff"),br(e.common,"onBackground","#000")),"dark"===e.mode&&(br(e.common,"background","#000"),br(e.common,"onBackground","#fff")),r=e,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"].forEach((t=>{r[t]||(r[t]={})})),"light"===e.mode){br(e.Alert,"errorColor",x(e.error.light,.6)),br(e.Alert,"infoColor",x(e.info.light,.6)),br(e.Alert,"successColor",x(e.success.light,.6)),br(e.Alert,"warningColor",x(e.warning.light,.6)),br(e.Alert,"errorFilledBg",n("palette-error-main")),br(e.Alert,"infoFilledBg",n("palette-info-main")),br(e.Alert,"successFilledBg",n("palette-success-main")),br(e.Alert,"warningFilledBg",n("palette-warning-main")),br(e.Alert,"errorFilledColor",wr((()=>e.getContrastText(e.error.main)))),br(e.Alert,"infoFilledColor",wr((()=>e.getContrastText(e.info.main)))),br(e.Alert,"successFilledColor",wr((()=>e.getContrastText(e.success.main)))),br(e.Alert,"warningFilledColor",wr((()=>e.getContrastText(e.warning.main)))),br(e.Alert,"errorStandardBg",w(e.error.light,.9)),br(e.Alert,"infoStandardBg",w(e.info.light,.9)),br(e.Alert,"successStandardBg",w(e.success.light,.9)),br(e.Alert,"warningStandardBg",w(e.warning.light,.9)),br(e.Alert,"errorIconColor",n("palette-error-main")),br(e.Alert,"infoIconColor",n("palette-info-main")),br(e.Alert,"successIconColor",n("palette-success-main")),br(e.Alert,"warningIconColor",n("palette-warning-main")),br(e.AppBar,"defaultBg",n("palette-grey-100")),br(e.Avatar,"defaultBg",n("palette-grey-400")),br(e.Button,"inheritContainedBg",n("palette-grey-300")),br(e.Button,"inheritContainedHoverBg",n("palette-grey-A100")),br(e.Chip,"defaultBorder",n("palette-grey-400")),br(e.Chip,"defaultAvatarColor",n("palette-grey-700")),br(e.Chip,"defaultIconColor",n("palette-grey-700")),br(e.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),br(e.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),br(e.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),br(e.LinearProgress,"primaryBg",w(e.primary.main,.62)),br(e.LinearProgress,"secondaryBg",w(e.secondary.main,.62)),br(e.LinearProgress,"errorBg",w(e.error.main,.62)),br(e.LinearProgress,"infoBg",w(e.info.main,.62)),br(e.LinearProgress,"successBg",w(e.success.main,.62)),br(e.LinearProgress,"warningBg",w(e.warning.main,.62)),br(e.Skeleton,"bg",`rgba(${n("palette-text-primaryChannel")} / 0.11)`),br(e.Slider,"primaryTrack",w(e.primary.main,.62)),br(e.Slider,"secondaryTrack",w(e.secondary.main,.62)),br(e.Slider,"errorTrack",w(e.error.main,.62)),br(e.Slider,"infoTrack",w(e.info.main,.62)),br(e.Slider,"successTrack",w(e.success.main,.62)),br(e.Slider,"warningTrack",w(e.warning.main,.62));const t=S(e.background.default,.8);br(e.SnackbarContent,"bg",t),br(e.SnackbarContent,"color",wr((()=>e.getContrastText(t)))),br(e.SpeedDialAction,"fabHoverBg",S(e.background.paper,.15)),br(e.StepConnector,"border",n("palette-grey-400")),br(e.StepContent,"border",n("palette-grey-400")),br(e.Switch,"defaultColor",n("palette-common-white")),br(e.Switch,"defaultDisabledColor",n("palette-grey-100")),br(e.Switch,"primaryDisabledColor",w(e.primary.main,.62)),br(e.Switch,"secondaryDisabledColor",w(e.secondary.main,.62)),br(e.Switch,"errorDisabledColor",w(e.error.main,.62)),br(e.Switch,"infoDisabledColor",w(e.info.main,.62)),br(e.Switch,"successDisabledColor",w(e.success.main,.62)),br(e.Switch,"warningDisabledColor",w(e.warning.main,.62)),br(e.TableCell,"border",w(y(e.divider,1),.88)),br(e.Tooltip,"bg",y(e.grey[700],.92))}if("dark"===e.mode){br(e.Alert,"errorColor",w(e.error.light,.6)),br(e.Alert,"infoColor",w(e.info.light,.6)),br(e.Alert,"successColor",w(e.success.light,.6)),br(e.Alert,"warningColor",w(e.warning.light,.6)),br(e.Alert,"errorFilledBg",n("palette-error-dark")),br(e.Alert,"infoFilledBg",n("palette-info-dark")),br(e.Alert,"successFilledBg",n("palette-success-dark")),br(e.Alert,"warningFilledBg",n("palette-warning-dark")),br(e.Alert,"errorFilledColor",wr((()=>e.getContrastText(e.error.dark)))),br(e.Alert,"infoFilledColor",wr((()=>e.getContrastText(e.info.dark)))),br(e.Alert,"successFilledColor",wr((()=>e.getContrastText(e.success.dark)))),br(e.Alert,"warningFilledColor",wr((()=>e.getContrastText(e.warning.dark)))),br(e.Alert,"errorStandardBg",x(e.error.light,.9)),br(e.Alert,"infoStandardBg",x(e.info.light,.9)),br(e.Alert,"successStandardBg",x(e.success.light,.9)),br(e.Alert,"warningStandardBg",x(e.warning.light,.9)),br(e.Alert,"errorIconColor",n("palette-error-main")),br(e.Alert,"infoIconColor",n("palette-info-main")),br(e.Alert,"successIconColor",n("palette-success-main")),br(e.Alert,"warningIconColor",n("palette-warning-main")),br(e.AppBar,"defaultBg",n("palette-grey-900")),br(e.AppBar,"darkBg",n("palette-background-paper")),br(e.AppBar,"darkColor",n("palette-text-primary")),br(e.Avatar,"defaultBg",n("palette-grey-600")),br(e.Button,"inheritContainedBg",n("palette-grey-800")),br(e.Button,"inheritContainedHoverBg",n("palette-grey-700")),br(e.Chip,"defaultBorder",n("palette-grey-700")),br(e.Chip,"defaultAvatarColor",n("palette-grey-300")),br(e.Chip,"defaultIconColor",n("palette-grey-300")),br(e.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),br(e.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),br(e.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),br(e.LinearProgress,"primaryBg",x(e.primary.main,.5)),br(e.LinearProgress,"secondaryBg",x(e.secondary.main,.5)),br(e.LinearProgress,"errorBg",x(e.error.main,.5)),br(e.LinearProgress,"infoBg",x(e.info.main,.5)),br(e.LinearProgress,"successBg",x(e.success.main,.5)),br(e.LinearProgress,"warningBg",x(e.warning.main,.5)),br(e.Skeleton,"bg",`rgba(${n("palette-text-primaryChannel")} / 0.13)`),br(e.Slider,"primaryTrack",x(e.primary.main,.5)),br(e.Slider,"secondaryTrack",x(e.secondary.main,.5)),br(e.Slider,"errorTrack",x(e.error.main,.5)),br(e.Slider,"infoTrack",x(e.info.main,.5)),br(e.Slider,"successTrack",x(e.success.main,.5)),br(e.Slider,"warningTrack",x(e.warning.main,.5));const t=S(e.background.default,.98);br(e.SnackbarContent,"bg",t),br(e.SnackbarContent,"color",wr((()=>e.getContrastText(t)))),br(e.SpeedDialAction,"fabHoverBg",S(e.background.paper,.15)),br(e.StepConnector,"border",n("palette-grey-600")),br(e.StepContent,"border",n("palette-grey-600")),br(e.Switch,"defaultColor",n("palette-grey-300")),br(e.Switch,"defaultDisabledColor",n("palette-grey-600")),br(e.Switch,"primaryDisabledColor",x(e.primary.main,.55)),br(e.Switch,"secondaryDisabledColor",x(e.secondary.main,.55)),br(e.Switch,"errorDisabledColor",x(e.error.main,.55)),br(e.Switch,"infoDisabledColor",x(e.info.main,.55)),br(e.Switch,"successDisabledColor",x(e.success.main,.55)),br(e.Switch,"warningDisabledColor",x(e.warning.main,.55)),br(e.TableCell,"border",x(y(e.divider,1),.68)),br(e.Tooltip,"bg",y(e.grey[700],.92))}vr(e.background,"default"),vr(e.background,"paper"),vr(e.common,"background"),vr(e.common,"onBackground"),vr(e,"divider"),Object.keys(e).forEach((t=>{const n=e[t];"tonalOffset"!==t&&n&&"object"===typeof n&&(n.main&&br(e[t],"mainChannel",p(xr(n.main))),n.light&&br(e[t],"lightChannel",p(xr(n.light))),n.dark&&br(e[t],"darkChannel",p(xr(n.dark))),n.contrastText&&br(e[t],"contrastTextChannel",p(xr(n.contrastText))),"text"===t&&(vr(e[t],"primary"),vr(e[t],"secondary")),"action"===t&&(n.active&&vr(e[t],"active"),n.selected&&vr(e[t],"selected")))}))}));for(var _=arguments.length,L=new Array(_>1?_-1:0),C=1;C<_;C++)L[C-1]=arguments[C];A=L.reduce(((t,e)=>fe(t,e)),A);const I={prefix:i,disableCssColorScheme:r,shouldSkipGeneratingVar:s,getSelector:yr(A)},{vars:$,generateThemeVars:O,generateStyleSheets:R}=Xn(A,I);return A.vars=$,Object.entries(A.colorSchemes[A.defaultColorScheme]).forEach((t=>{let[e,n]=t;A[e]=n})),A.generateThemeVars=O,A.generateStyleSheets=R,A.generateSpacing=function(){return je(l.spacing,ze(this))},A.getColorSchemeSelector=function(t){return function(e){return"media"===t?`@media (prefers-color-scheme: ${e})`:t?t.startsWith("data-")&&!t.includes("%s")?`[${t}="${e}"] &`:"class"===t?`.${e} &`:"data"===t?`[data-${e}] &`:`${t.replace("%s",e)} &`:"&"}}(a),A.spacing=A.generateSpacing(),A.shouldSkipGeneratingVar=s,A.unstable_sxConfig={...yn,...l?.unstable_sxConfig},A.unstable_sx=function(t){return xn({sx:t,theme:this})},A.toRuntimeSource=ur,A}function Tr(t,e,n){t.colorSchemes&&n&&(t.colorSchemes[e]={...!0!==n&&n,palette:Bn({...!0===n?{}:n.palette,mode:e})})}function Ar(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{palette:e,cssVariables:n=!1,colorSchemes:r=(e?void 0:{light:!0}),defaultColorScheme:i=e?.mode,...s}=t,a=i||"light",o=r?.[a],u={...r,...e?{[a]:{..."boolean"!==typeof o&&o,palette:e}}:void 0};for(var l=arguments.length,c=new Array(l>1?l-1:0),h=1;h<l;h++)c[h-1]=arguments[h];if(!1===n){if(!("colorSchemes"in t))return cr(t,...c);let n=e;"palette"in t||u[a]&&(!0!==u[a]?n=u[a].palette:"dark"===a&&(n={mode:"dark"}));const r=cr({...t,palette:n},...c);return r.defaultColorScheme=a,r.colorSchemes=u,"light"===r.palette.mode&&(r.colorSchemes.light={...!0!==u.light&&u.light,palette:r.palette},Tr(r,"dark",u.dark)),"dark"===r.palette.mode&&(r.colorSchemes.dark={...!0!==u.dark&&u.dark,palette:r.palette},Tr(r,"light",u.light)),r}return e||"light"in u||"light"!==a||(u.light=!0),kr({...s,colorSchemes:u,defaultColorScheme:a,..."boolean"!==typeof n&&n},...c)}const Er=Ar(),_r="$$material",Lr=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{themeId:e,defaultTheme:n=kn,rootShouldForwardProp:r=Tn,slotShouldForwardProp:i=Tn}=t;function s(t){!function(t,e,n){t.theme=function(t){for(const e in t)return!1;return!0}(t.theme)?n:t.theme[e]||t.theme}(t,e,n)}return function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(t,e){Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=e(t.__emotion_styles))}(t,(t=>t.filter((t=>t!==xn))));const{name:n,slot:a,skipVariantsResolver:o,skipSx:u,overridesResolver:l=An(Cn(a)),...c}=e,h=void 0!==o?o:a&&"Root"!==a&&"root"!==a||!1,p=u||!1;let d=Tn;"Root"===a||"root"===a?d=r:a?d=i:function(t){return"string"===typeof t&&t.charCodeAt(0)>96}(t)&&(d=void 0);const f=ue(t,{shouldForwardProp:d,label:Ln(n,a),...c}),m=t=>{if("function"===typeof t&&t.__emotion_real!==t)return function(e){return En(e,t)};if(pe(t)){const e=Sn(t);return e.variants?function(t){return En(t,e)}:e.style}return t},g=function(){const e=[];for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];const o=i.map(m),u=[];if(e.push(s),n&&l&&u.push((function(t){const e=t.theme,r=e.components?.[n]?.styleOverrides;if(!r)return null;const i={};for(const n in r)i[n]=En(t,r[n]);return l(t,i)})),n&&!h&&u.push((function(t){const e=t.theme,r=e?.components?.[n]?.variants;return r?_n(t,r):null})),p||u.push(xn),Array.isArray(o[0])){const t=o.shift(),n=new Array(e.length).fill(""),r=new Array(u.length).fill("");let i;i=[...n,...t,...r],i.raw=[...n,...t.raw,...r],e.unshift(i)}const c=[...e,...o,...u],d=f(...c);return t.muiName&&(d.muiName=t.muiName),d};return f.withConfig&&(g.withConfig=f.withConfig),g}}({themeId:_r,defaultTheme:Er,rootShouldForwardProp:E}),Cr=Lr;const Ir=function(e){let{controlled:n,default:r,name:i,state:s="value"}=e;const{current:a}=t.useRef(void 0!==n),[o,u]=t.useState(r);return[a?n:o,t.useCallback((t=>{a||u(t)}),[])]};const $r=t.createContext(void 0);function Or(){return t.useContext($r)}function Rr(t){try{return t.matches(":focus-visible")}catch(e){0}return!1}function Dr(t,e){const n={...e};for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)){const i=r;if("components"===i||"slots"===i)n[i]={...t[i],...n[i]};else if("componentsProps"===i||"slotProps"===i){const r=t[i],s=e[i];if(s)if(r){n[i]={...s};for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t)){const e=t;n[i][e]=Dr(r[e],s[e])}}else n[i]=s;else n[i]=r||{}}else void 0===n[i]&&(n[i]=t[i])}return n}var zr=n(579);const Mr=t.createContext(void 0);function Pr(e){let{props:n,name:r}=e;return function(t){const{theme:e,name:n,props:r}=t;if(!e||!e.components||!e.components[n])return r;const i=e.components[n];return i.defaultProps?Dr(i.defaultProps,r):i.styleOverrides||i.variants?r:Dr(i,r)}({props:n,name:r,theme:{components:t.useContext(Mr)}})}function Nr(t){return Pr(t)}function Fr(t,e){"function"===typeof t?t(e):t&&(t.current=e)}function Vr(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.useMemo((()=>n.every((t=>null==t))?null:t=>{n.forEach((e=>{Fr(e,t)}))}),n)}const Kr=Vr,jr="undefined"!==typeof window?t.useLayoutEffect:t.useEffect;const Br=function(e){const n=t.useRef(e);return jr((()=>{n.current=e})),t.useRef((function(){return(0,n.current)(...arguments)})).current},Ur=Br,Gr={};function Wr(e,n){const r=t.useRef(Gr);return r.current===Gr&&(r.current=e(n)),r}class Hr{static create(){return new Hr}static use(){const e=Wr(Hr.create).current,[n,r]=t.useState(!1);return e.shouldMount=n,e.setShouldMount=r,t.useEffect(e.mountEffect,[n]),e}constructor(){this.ref={current:null},this.mounted=null,this.didMount=!1,this.shouldMount=!1,this.setShouldMount=null}mount(){return this.mounted||(this.mounted=function(){let t,e;const n=new Promise(((n,r)=>{t=n,e=r}));return n.resolve=t,n.reject=e,n}(),this.shouldMount=!0,this.setShouldMount(this.shouldMount)),this.mounted}mountEffect=()=>{this.shouldMount&&!this.didMount&&null!==this.ref.current&&(this.didMount=!0,this.mounted.resolve())};start(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this.mount().then((()=>this.ref.current?.start(...e)))}stop(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this.mount().then((()=>this.ref.current?.stop(...e)))}pulsate(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this.mount().then((()=>this.ref.current?.pulsate(...e)))}}function Xr(t,e){if(null==t)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(-1!==e.indexOf(r))continue;n[r]=t[r]}return n}function qr(t,e){return qr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},qr(t,e)}function Yr(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,qr(t,e)}const Jr=t.createContext(null);function Qr(e,n){var r=Object.create(null);return e&&t.Children.map(e,(function(t){return t})).forEach((function(e){r[e.key]=function(e){return n&&(0,t.isValidElement)(e)?n(e):e}(e)})),r}function Zr(t,e,n){return null!=n[e]?n[e]:t.props[e]}function ti(e,n,r){var i=Qr(e.children),s=function(t,e){function n(n){return n in e?e[n]:t[n]}t=t||{},e=e||{};var r,i=Object.create(null),s=[];for(var a in t)a in e?s.length&&(i[a]=s,s=[]):s.push(a);var o={};for(var u in e){if(i[u])for(r=0;r<i[u].length;r++){var l=i[u][r];o[i[u][r]]=n(l)}o[u]=n(u)}for(r=0;r<s.length;r++)o[s[r]]=n(s[r]);return o}(n,i);return Object.keys(s).forEach((function(a){var o=s[a];if((0,t.isValidElement)(o)){var u=a in n,l=a in i,c=n[a],h=(0,t.isValidElement)(c)&&!c.props.in;!l||u&&!h?l||!u||h?l&&u&&(0,t.isValidElement)(c)&&(s[a]=(0,t.cloneElement)(o,{onExited:r.bind(null,o),in:c.props.in,exit:Zr(o,"exit",e),enter:Zr(o,"enter",e)})):s[a]=(0,t.cloneElement)(o,{in:!1}):s[a]=(0,t.cloneElement)(o,{onExited:r.bind(null,o),in:!0,exit:Zr(o,"exit",e),enter:Zr(o,"enter",e)})}})),s}var ei=Object.values||function(t){return Object.keys(t).map((function(e){return t[e]}))},ni=function(e){function n(t,n){var r,i=(r=e.call(this,t,n)||this).handleExited.bind(function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(r));return r.state={contextValue:{isMounting:!0},handleExited:i,firstRender:!0},r}Yr(n,e);var r=n.prototype;return r.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},r.componentWillUnmount=function(){this.mounted=!1},n.getDerivedStateFromProps=function(e,n){var r,i,s=n.children,a=n.handleExited;return{children:n.firstRender?(r=e,i=a,Qr(r.children,(function(e){return(0,t.cloneElement)(e,{onExited:i.bind(null,e),in:!0,appear:Zr(e,"appear",r),enter:Zr(e,"enter",r),exit:Zr(e,"exit",r)})}))):ti(e,s,a),firstRender:!1}},r.handleExited=function(t,e){var n=Qr(this.props.children);t.key in n||(t.props.onExited&&t.props.onExited(e),this.mounted&&this.setState((function(e){var n=_({},e.children);return delete n[t.key],{children:n}})))},r.render=function(){var e=this.props,n=e.component,r=e.childFactory,i=Xr(e,["component","childFactory"]),s=this.state.contextValue,a=ei(this.state.children).map(r);return delete i.appear,delete i.enter,delete i.exit,null===n?t.createElement(Jr.Provider,{value:s},a):t.createElement(Jr.Provider,{value:s},t.createElement(n,i,a))},n}(t.Component);ni.propTypes={},ni.defaultProps={component:"div",childFactory:function(t){return t}};const ri=ni,ii=[];class si{static create(){return new si}currentId=null;start(t,e){this.clear(),this.currentId=setTimeout((()=>{this.currentId=null,e()}),t)}clear=()=>{null!==this.currentId&&(clearTimeout(this.currentId),this.currentId=null)};disposeEffect=()=>this.clear}function ai(){const e=Wr(si.create).current;var n;return n=e.disposeEffect,t.useEffect(n,ii),e}n(219);var oi=function(e,n){var r=arguments;if(null==n||!Jt.call(n,"css"))return t.createElement.apply(void 0,r);var i=r.length,s=new Array(i);s[0]=te,s[1]=function(t,e){var n={};for(var r in e)Jt.call(e,r)&&(n[r]=e[r]);return n[Qt]=t,n}(e,n);for(var a=2;a<i;a++)s[a]=r[a];return t.createElement.apply(null,s)};!function(t){var e;e||(e=t.JSX||(t.JSX={}))}(oi||(oi={}));var ui=qt((function(e,n){var r=Ut([e.styles],void 0,t.useContext(Yt)),i=t.useRef();return Ht((function(){var t=n.key+"-global",e=new n.sheet.constructor({key:t,nonce:n.sheet.nonce,container:n.sheet.container,speedy:n.sheet.isSpeedy}),s=!1,a=document.querySelector('style[data-emotion="'+t+" "+r.name+'"]');return n.sheet.tags.length&&(e.before=n.sheet.tags[0]),null!==a&&(s=!0,a.setAttribute("data-emotion",t),e.hydrate([a])),i.current=[e,s],function(){e.flush()}}),[n]),Ht((function(){var t=i.current,e=t[0];if(t[1])t[1]=!1;else{if(void 0!==r.next&&Ot(n,r.next,!0),e.tags.length){var s=e.tags[e.tags.length-1].nextElementSibling;e.before=s,e.flush()}n.insert("",r,e,!1)}}),[n,r.name]),null}));function li(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Ut(e)}function ci(){var t=li.apply(void 0,arguments),e="animation-"+t.name;return{name:e,styles:"@keyframes "+e+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}const hi=function(e){const{className:n,classes:r,pulsate:i=!1,rippleX:s,rippleY:o,rippleSize:u,in:l,onExited:c,timeout:h}=e,[p,d]=t.useState(!1),f=a(n,r.ripple,r.rippleVisible,i&&r.ripplePulsate),m={width:u,height:u,top:-u/2+o,left:-u/2+s},g=a(r.child,p&&r.childLeaving,i&&r.childPulsate);return l||p||d(!0),t.useEffect((()=>{if(!l&&null!=c){const t=setTimeout(c,h);return()=>{clearTimeout(t)}}}),[c,l,h]),(0,zr.jsx)("span",{className:f,style:m,children:(0,zr.jsx)("span",{className:g})})},pi=t=>t,di=(()=>{let t=pi;return{configure(e){t=e},generate:e=>t(e),reset(){t=pi}}})(),fi={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function mi(t,e){const n=fi[e];return n?`${arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui"}-${n}`:`${di.generate(t)}-${e}`}function gi(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui";const r={};return e.forEach((e=>{r[e]=mi(t,e,n)})),r}const yi=gi("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),bi=ci`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`,xi=ci`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`,vi=ci`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`,wi=Cr("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),Si=Cr(hi,{name:"MuiTouchRipple",slot:"Ripple"})`
  opacity: 0;
  position: absolute;

  &.${yi.rippleVisible} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${bi};
    animation-duration: ${550}ms;
    animation-timing-function: ${t=>{let{theme:e}=t;return e.transitions.easing.easeInOut}};
  }

  &.${yi.ripplePulsate} {
    animation-duration: ${t=>{let{theme:e}=t;return e.transitions.duration.shorter}}ms;
  }

  & .${yi.child} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${yi.childLeaving} {
    opacity: 0;
    animation-name: ${xi};
    animation-duration: ${550}ms;
    animation-timing-function: ${t=>{let{theme:e}=t;return e.transitions.easing.easeInOut}};
  }

  & .${yi.childPulsate} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${vi};
    animation-duration: 2500ms;
    animation-timing-function: ${t=>{let{theme:e}=t;return e.transitions.easing.easeInOut}};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`,ki=t.forwardRef((function(e,n){const r=Nr({props:e,name:"MuiTouchRipple"}),{center:i=!1,classes:s={},className:o,...u}=r,[l,c]=t.useState([]),h=t.useRef(0),p=t.useRef(null);t.useEffect((()=>{p.current&&(p.current(),p.current=null)}),[l]);const d=t.useRef(!1),f=ai(),m=t.useRef(null),g=t.useRef(null),y=t.useCallback((t=>{const{pulsate:e,rippleX:n,rippleY:r,rippleSize:i,cb:o}=t;c((t=>[...t,(0,zr.jsx)(Si,{classes:{ripple:a(s.ripple,yi.ripple),rippleVisible:a(s.rippleVisible,yi.rippleVisible),ripplePulsate:a(s.ripplePulsate,yi.ripplePulsate),child:a(s.child,yi.child),childLeaving:a(s.childLeaving,yi.childLeaving),childPulsate:a(s.childPulsate,yi.childPulsate)},timeout:550,pulsate:e,rippleX:n,rippleY:r,rippleSize:i},h.current)])),h.current+=1,p.current=o}),[s]),b=t.useCallback((function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>{};const{pulsate:r=!1,center:s=i||e.pulsate,fakeElement:a=!1}=e;if("mousedown"===t?.type&&d.current)return void(d.current=!1);"touchstart"===t?.type&&(d.current=!0);const o=a?null:g.current,u=o?o.getBoundingClientRect():{width:0,height:0,left:0,top:0};let l,c,h;if(s||void 0===t||0===t.clientX&&0===t.clientY||!t.clientX&&!t.touches)l=Math.round(u.width/2),c=Math.round(u.height/2);else{const{clientX:e,clientY:n}=t.touches&&t.touches.length>0?t.touches[0]:t;l=Math.round(e-u.left),c=Math.round(n-u.top)}if(s)h=Math.sqrt((2*u.width**2+u.height**2)/3),h%2===0&&(h+=1);else{const t=2*Math.max(Math.abs((o?o.clientWidth:0)-l),l)+2,e=2*Math.max(Math.abs((o?o.clientHeight:0)-c),c)+2;h=Math.sqrt(t**2+e**2)}t?.touches?null===m.current&&(m.current=()=>{y({pulsate:r,rippleX:l,rippleY:c,rippleSize:h,cb:n})},f.start(80,(()=>{m.current&&(m.current(),m.current=null)}))):y({pulsate:r,rippleX:l,rippleY:c,rippleSize:h,cb:n})}),[i,y,f]),x=t.useCallback((()=>{b({},{pulsate:!0})}),[b]),v=t.useCallback(((t,e)=>{if(f.clear(),"touchend"===t?.type&&m.current)return m.current(),m.current=null,void f.start(0,(()=>{v(t,e)}));m.current=null,c((t=>t.length>0?t.slice(1):t)),p.current=e}),[f]);return t.useImperativeHandle(n,(()=>({pulsate:x,start:b,stop:v})),[x,b,v]),(0,zr.jsx)(wi,{className:a(yi.root,s.root,o),ref:g,...u,children:(0,zr.jsx)(ri,{component:null,exit:!0,children:l})})}));function Ti(t){return mi("MuiButtonBase",t)}const Ai=gi("MuiButtonBase",["root","disabled","focusVisible"]),Ei=Cr("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${Ai.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}});function _i(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Ur((i=>(n&&n(i),r||t[e](i),!0)))}const Li=t.forwardRef((function(e,n){const r=Nr({props:e,name:"MuiButtonBase"}),{action:i,centerRipple:s=!1,children:u,className:l,component:c="button",disabled:h=!1,disableRipple:p=!1,disableTouchRipple:d=!1,focusRipple:f=!1,focusVisibleClassName:m,LinkComponent:g="a",onBlur:y,onClick:b,onContextMenu:x,onDragLeave:v,onFocus:w,onFocusVisible:S,onKeyDown:k,onKeyUp:T,onMouseDown:A,onMouseLeave:E,onMouseUp:_,onTouchEnd:L,onTouchMove:C,onTouchStart:I,tabIndex:$=0,TouchRippleProps:O,touchRippleRef:R,type:D,...z}=r,M=t.useRef(null),P=Hr.use(),N=Kr(P.ref,R),[F,V]=t.useState(!1);h&&F&&V(!1),t.useImperativeHandle(i,(()=>({focusVisible:()=>{V(!0),M.current.focus()}})),[]);const K=P.shouldMount&&!p&&!h;t.useEffect((()=>{F&&f&&!p&&P.pulsate()}),[p,f,F,P]);const j=_i(P,"start",A,d),B=_i(P,"stop",x,d),U=_i(P,"stop",v,d),G=_i(P,"stop",_,d),W=_i(P,"stop",(t=>{F&&t.preventDefault(),E&&E(t)}),d),H=_i(P,"start",I,d),X=_i(P,"stop",L,d),q=_i(P,"stop",C,d),Y=_i(P,"stop",(t=>{Rr(t.target)||V(!1),y&&y(t)}),!1),J=Ur((t=>{M.current||(M.current=t.currentTarget),Rr(t.target)&&(V(!0),S&&S(t)),w&&w(t)})),Q=()=>{const t=M.current;return c&&"button"!==c&&!("A"===t.tagName&&t.href)},Z=Ur((t=>{f&&!t.repeat&&F&&" "===t.key&&P.stop(t,(()=>{P.start(t)})),t.target===t.currentTarget&&Q()&&" "===t.key&&t.preventDefault(),k&&k(t),t.target===t.currentTarget&&Q()&&"Enter"===t.key&&!h&&(t.preventDefault(),b&&b(t))})),tt=Ur((t=>{f&&" "===t.key&&F&&!t.defaultPrevented&&P.stop(t,(()=>{P.pulsate(t)})),T&&T(t),b&&t.target===t.currentTarget&&Q()&&" "===t.key&&!t.defaultPrevented&&b(t)}));let et=c;"button"===et&&(z.href||z.to)&&(et=g);const nt={};"button"===et?(nt.type=void 0===D?"button":D,nt.disabled=h):(z.href||z.to||(nt.role="button"),h&&(nt["aria-disabled"]=h));const rt=Kr(n,M),it={...r,centerRipple:s,component:c,disabled:h,disableRipple:p,disableTouchRipple:d,focusRipple:f,tabIndex:$,focusVisible:F},st=(t=>{const{disabled:e,focusVisible:n,focusVisibleClassName:r,classes:i}=t,s=o({root:["root",e&&"disabled",n&&"focusVisible"]},Ti,i);return n&&r&&(s.root+=` ${r}`),s})(it);return(0,zr.jsxs)(Ei,{as:et,className:a(st.root,l),ownerState:it,onBlur:Y,onClick:b,onContextMenu:B,onFocus:J,onKeyDown:Z,onKeyUp:tt,onMouseDown:j,onMouseLeave:W,onMouseUp:G,onDragLeave:U,onTouchEnd:X,onTouchMove:q,onTouchStart:H,ref:rt,tabIndex:h?-1:$,type:D,...nt,...z,children:[u,K?(0,zr.jsx)(ki,{ref:N,center:s,...O}):null]})}));function Ci(t){return mi("PrivateSwitchBase",t)}gi("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);const Ii=function(t){return"string"===typeof t};const $i=function(t,e,n){return void 0===t||Ii(t)?e:{...e,ownerState:{...e.ownerState,...n}}};const Oi=function(t,e,n){return"function"===typeof t?t(e,n):t};const Ri=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(void 0===t)return{};const n={};return Object.keys(t).filter((n=>n.match(/^on[A-Z]/)&&"function"===typeof t[n]&&!e.includes(n))).forEach((e=>{n[e]=t[e]})),n};const Di=function(t){if(void 0===t)return{};const e={};return Object.keys(t).filter((e=>!(e.match(/^on[A-Z]/)&&"function"===typeof t[e]))).forEach((n=>{e[n]=t[n]})),e};const zi=function(t){const{getSlotProps:e,additionalProps:n,externalSlotProps:r,externalForwardedProps:i,className:s}=t;if(!e){const t=a(n?.className,s,i?.className,r?.className),e={...n?.style,...i?.style,...r?.style},o={...n,...i,...r};return t.length>0&&(o.className=t),Object.keys(e).length>0&&(o.style=e),{props:o,internalRef:void 0}}const o=Ri({...i,...r}),u=Di(r),l=Di(i),c=e(o),h=a(c?.className,n?.className,s,i?.className,r?.className),p={...c?.style,...n?.style,...i?.style,...r?.style},d={...c,...n,...l,...u};return h.length>0&&(d.className=h),Object.keys(p).length>0&&(d.style=p),{props:d,internalRef:c.ref}};function Mi(t,e){const{className:n,elementType:r,ownerState:i,externalForwardedProps:s,internalForwardedProps:a,shouldForwardComponentProp:o=!1,...u}=e,{component:l,slots:c={[t]:void 0},slotProps:h={[t]:void 0},...p}=s,d=c[t]||r,f=Oi(h[t],i),{props:{component:m,...g},internalRef:y}=zi({className:n,...u,externalForwardedProps:"root"===t?p:void 0,externalSlotProps:f}),b=Vr(y,f?.ref,e.ref),x="root"===t?m||l:m;return[d,$i(d,{..."root"===t&&!l&&!c[t]&&a,..."root"!==t&&!c[t]&&a,...g,...x&&!o&&{as:x},...x&&o&&{component:x},ref:b},i)]}const Pi=Cr(Li)({padding:9,borderRadius:"50%",variants:[{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:t=>{let{edge:e,ownerState:n}=t;return"start"===e&&"small"!==n.size},style:{marginLeft:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}},{props:t=>{let{edge:e,ownerState:n}=t;return"end"===e&&"small"!==n.size},style:{marginRight:-12}}]}),Ni=Cr("input",{shouldForwardProp:E})({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),Fi=t.forwardRef((function(t,e){const{autoFocus:n,checked:r,checkedIcon:i,defaultChecked:s,disabled:a,disableFocusRipple:u=!1,edge:l=!1,icon:c,id:h,inputProps:p,inputRef:d,name:f,onBlur:m,onChange:g,onFocus:y,readOnly:b,required:x=!1,tabIndex:v,type:w,value:S,slots:k={},slotProps:A={},...E}=t,[_,L]=Ir({controlled:r,default:Boolean(s),name:"SwitchBase",state:"checked"}),C=Or();let I=a;C&&"undefined"===typeof I&&(I=C.disabled);const $="checkbox"===w||"radio"===w,O={...t,checked:_,disabled:I,disableFocusRipple:u,edge:l},R=(t=>{const{classes:e,checked:n,disabled:r,edge:i}=t;return o({root:["root",n&&"checked",r&&"disabled",i&&`edge${T(i)}`],input:["input"]},Ci,e)})(O),D={slots:k,slotProps:{input:p,...A}},[z,M]=Mi("root",{ref:e,elementType:Pi,className:R.root,shouldForwardComponentProp:!0,externalForwardedProps:{...D,component:"span",...E},getSlotProps:t=>({...t,onFocus:e=>{t.onFocus?.(e),(t=>{y&&y(t),C&&C.onFocus&&C.onFocus(t)})(e)},onBlur:e=>{t.onBlur?.(e),(t=>{m&&m(t),C&&C.onBlur&&C.onBlur(t)})(e)}}),ownerState:O,additionalProps:{centerRipple:!0,focusRipple:!u,disabled:I,role:void 0,tabIndex:null}}),[P,N]=Mi("input",{ref:d,elementType:Ni,className:R.input,externalForwardedProps:D,getSlotProps:t=>({onChange:e=>{t.onChange?.(e),(t=>{if(t.nativeEvent.defaultPrevented)return;const e=t.target.checked;L(e),g&&g(t,e)})(e)}}),ownerState:O,additionalProps:{autoFocus:n,checked:r,defaultChecked:s,disabled:I,id:$?h:void 0,name:f,readOnly:b,required:x,tabIndex:v,type:w,..."checkbox"===w&&void 0===S?{}:{value:S}}});return(0,zr.jsxs)(z,{...M,children:[(0,zr.jsx)(P,{...N}),_?i:c]})})),Vi={theme:void 0};const Ki=function(t){let e,n;return function(r){let i=e;return void 0!==i&&r.theme===n||(Vi.theme=r.theme,i=Sn(t(Vi)),e=i,n=r.theme),i}};function ji(t){return mi("MuiSvgIcon",t)}gi("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const Bi=Cr("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,"inherit"!==n.color&&e[`color${T(n.color)}`],e[`fontSize${T(n.fontSize)}`]]}})(Ki((t=>{let{theme:e}=t;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:e.transitions?.create?.("fill",{duration:(e.vars??e).transitions?.duration?.shorter}),variants:[{props:t=>!t.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:e.typography?.pxToRem?.(20)||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:e.typography?.pxToRem?.(24)||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:e.typography?.pxToRem?.(35)||"2.1875rem"}},...Object.entries((e.vars??e).palette).filter((t=>{let[,e]=t;return e&&e.main})).map((t=>{let[n]=t;return{props:{color:n},style:{color:(e.vars??e).palette?.[n]?.main}}})),{props:{color:"action"},style:{color:(e.vars??e).palette?.action?.active}},{props:{color:"disabled"},style:{color:(e.vars??e).palette?.action?.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}}))),Ui=t.forwardRef((function(e,n){const r=Nr({props:e,name:"MuiSvgIcon"}),{children:i,className:s,color:u="inherit",component:l="svg",fontSize:c="medium",htmlColor:h,inheritViewBox:p=!1,titleAccess:d,viewBox:f="0 0 24 24",...m}=r,g=t.isValidElement(i)&&"svg"===i.type,y={...r,color:u,component:l,fontSize:c,instanceFontSize:e.fontSize,inheritViewBox:p,viewBox:f,hasSvgAsChild:g},b={};p||(b.viewBox=f);const x=(t=>{const{color:e,fontSize:n,classes:r}=t;return o({root:["root","inherit"!==e&&`color${T(e)}`,`fontSize${T(n)}`]},ji,r)})(y);return(0,zr.jsxs)(Bi,{as:l,className:a(x.root,s),focusable:"false",color:h,"aria-hidden":!d||void 0,role:d?"img":void 0,ref:n,...b,...m,...g&&i.props,ownerState:y,children:[g?i.props.children:i,d?(0,zr.jsx)("title",{children:d}):null]})}));Ui.muiName="SvgIcon";const Gi=Ui;function Wi(e,n){function r(t,r){return(0,zr.jsx)(Gi,{"data-testid":`${n}Icon`,ref:r,...t,children:e})}return r.muiName=Gi.muiName,t.memo(t.forwardRef(r))}const Hi=Wi((0,zr.jsx)("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),Xi=Wi((0,zr.jsx)("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),qi=Wi((0,zr.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox");function Yi(t){return mi("MuiCheckbox",t)}const Ji=gi("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary","sizeSmall","sizeMedium"]);function Qi(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e=>{let[,n]=e;return n&&function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(!function(t){return"string"===typeof t.main}(t))return!1;for(const n of e)if(!t.hasOwnProperty(n)||"string"!==typeof t[n])return!1;return!0}(n,t)}}function Zi(t,e){if(!t)return e;if("function"===typeof t||"function"===typeof e)return n=>{const r="function"===typeof e?e(n):e,i="function"===typeof t?t({...n,...r}):t,s=a(n?.className,r?.className,i?.className);return{...r,...i,...!!s&&{className:s},...r?.style&&i?.style&&{style:{...r.style,...i.style}},...r?.sx&&i?.sx&&{sx:[...Array.isArray(r.sx)?r.sx:[r.sx],...Array.isArray(i.sx)?i.sx:[i.sx]]}}};const n=e,r=a(n?.className,t?.className);return{...e,...t,...!!r&&{className:r},...n?.style&&t?.style&&{style:{...n.style,...t.style}},...n?.sx&&t?.sx&&{sx:[...Array.isArray(n.sx)?n.sx:[n.sx],...Array.isArray(t.sx)?t.sx:[t.sx]]}}}const ts=Cr(Fi,{shouldForwardProp:t=>E(t)||"classes"===t,name:"MuiCheckbox",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.indeterminate&&e.indeterminate,e[`size${T(n.size)}`],"default"!==n.color&&e[`color${T(n.color)}`]]}})(Ki((t=>{let{theme:e}=t;return{color:(e.vars||e).palette.text.secondary,variants:[{props:{color:"default",disableRipple:!1},style:{"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:g(e.palette.action.active,e.palette.action.hoverOpacity)}}},...Object.entries(e.palette).filter(Qi()).map((t=>{let[n]=t;return{props:{color:n,disableRipple:!1},style:{"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette[n].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:g(e.palette[n].main,e.palette.action.hoverOpacity)}}}})),...Object.entries(e.palette).filter(Qi()).map((t=>{let[n]=t;return{props:{color:n},style:{[`&.${Ji.checked}, &.${Ji.indeterminate}`]:{color:(e.vars||e).palette[n].main},[`&.${Ji.disabled}`]:{color:(e.vars||e).palette.action.disabled}}}})),{props:{disableRipple:!1},style:{"&:hover":{"@media (hover: none)":{backgroundColor:"transparent"}}}}]}}))),es=(0,zr.jsx)(Xi,{}),ns=(0,zr.jsx)(Hi,{}),rs=(0,zr.jsx)(qi,{}),is=t.forwardRef((function(e,n){const r=Nr({props:e,name:"MuiCheckbox"}),{checkedIcon:i=es,color:s="primary",icon:u=ns,indeterminate:l=!1,indeterminateIcon:c=rs,inputProps:h,size:p="medium",disableRipple:d=!1,className:f,slots:m={},slotProps:g={},...y}=r,b=l?c:u,x=l?c:i,v={...r,disableRipple:d,color:s,indeterminate:l,size:p},w=(t=>{const{classes:e,indeterminate:n,color:r,size:i}=t,s=o({root:["root",n&&"indeterminate",`color${T(r)}`,`size${T(i)}`]},Yi,e);return{...e,...s}})(v),S=g.input??h,[k,A]=Mi("root",{ref:n,elementType:ts,className:a(w.root,f),shouldForwardComponentProp:!0,externalForwardedProps:{slots:m,slotProps:g,...y},ownerState:v,additionalProps:{type:"checkbox",icon:t.cloneElement(b,{fontSize:b.props.fontSize??p}),checkedIcon:t.cloneElement(x,{fontSize:x.props.fontSize??p}),disableRipple:d,slots:m,slotProps:{input:Zi("function"===typeof S?S(v):S,{"data-indeterminate":l})}}});return(0,zr.jsx)(k,{...A,classes:w})})),ss=is;function as(e){return parseInt(t.version,10)>=19?e?.props?.ref||null:e?.ref||null}let os=0;const us={...e}.useId;function ls(e){if(void 0!==us){const t=us();return e??t}return function(e){const[n,r]=t.useState(e),i=e||n;return t.useEffect((()=>{null==n&&(os+=1,r(`mui-${os}`))}),[n]),i}(e)}function cs(t){return t&&t.ownerDocument||document}const hs=cs,ps=t.createContext();const ds=function(t){const{elementType:e,externalSlotProps:n,ownerState:r,skipResolvingSlotProps:i=!1,...s}=t,a=i?{}:Oi(n,r),{props:o,internalRef:u}=zi({...s,externalSlotProps:a}),l=Vr(u,a?.ref,t.additionalProps?.ref);return $i(e,{...o,ref:l},r)};const fs=t.createContext({});function ms(t){return mi("MuiList",t)}gi("MuiList",["root","padding","dense","subheader"]);const gs=Cr("ul",{name:"MuiList",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disablePadding&&e.padding,n.dense&&e.dense,n.subheader&&e.subheader]}})({listStyle:"none",margin:0,padding:0,position:"relative",variants:[{props:t=>{let{ownerState:e}=t;return!e.disablePadding},style:{paddingTop:8,paddingBottom:8}},{props:t=>{let{ownerState:e}=t;return e.subheader},style:{paddingTop:0}}]}),ys=t.forwardRef((function(e,n){const r=Nr({props:e,name:"MuiList"}),{children:i,className:s,component:u="ul",dense:l=!1,disablePadding:c=!1,subheader:h,...p}=r,d=t.useMemo((()=>({dense:l})),[l]),f={...r,component:u,dense:l,disablePadding:c},m=(t=>{const{classes:e,disablePadding:n,dense:r,subheader:i}=t;return o({root:["root",!n&&"padding",r&&"dense",i&&"subheader"]},ms,e)})(f);return(0,zr.jsx)(fs.Provider,{value:d,children:(0,zr.jsxs)(gs,{as:u,className:a(m.root,s),ref:n,ownerState:f,...p,children:[h,i]})})}));function bs(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;const e=t.document.documentElement.clientWidth;return t.innerWidth-e}const xs=bs,vs=jr;function ws(t){return cs(t).defaultView||window}const Ss=ws;function ks(t,e,n){return t===e?t.firstChild:e&&e.nextElementSibling?e.nextElementSibling:n?null:t.firstChild}function Ts(t,e,n){return t===e?n?t.firstChild:t.lastChild:e&&e.previousElementSibling?e.previousElementSibling:n?null:t.lastChild}function As(t,e){if(void 0===e)return!0;let n=t.innerText;return void 0===n&&(n=t.textContent),n=n.trim().toLowerCase(),0!==n.length&&(e.repeating?n[0]===e.keys[0]:n.startsWith(e.keys.join("")))}function Es(t,e,n,r,i,s){let a=!1,o=i(t,e,!!e&&n);for(;o;){if(o===t.firstChild){if(a)return!1;a=!0}const e=!r&&(o.disabled||"true"===o.getAttribute("aria-disabled"));if(o.hasAttribute("tabindex")&&As(o,s)&&!e)return o.focus(),!0;o=i(t,o,n)}return!1}const _s=t.forwardRef((function(e,n){const{actions:r,autoFocus:i=!1,autoFocusItem:s=!1,children:a,className:o,disabledItemsFocusable:u=!1,disableListWrap:l=!1,onKeyDown:c,variant:h="selectedMenu",...p}=e,d=t.useRef(null),f=t.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});vs((()=>{i&&d.current.focus()}),[i]),t.useImperativeHandle(r,(()=>({adjustStyleForScrollbar:(t,e)=>{let{direction:n}=e;const r=!d.current.style.width;if(t.clientHeight<d.current.clientHeight&&r){const e=`${xs(Ss(t))}px`;d.current.style["rtl"===n?"paddingLeft":"paddingRight"]=e,d.current.style.width=`calc(100% + ${e})`}return d.current}})),[]);const m=Kr(d,n);let g=-1;t.Children.forEach(a,((e,n)=>{t.isValidElement(e)?(e.props.disabled||("selectedMenu"===h&&e.props.selected||-1===g)&&(g=n),g===n&&(e.props.disabled||e.props.muiSkipListHighlight||e.type.muiSkipListHighlight)&&(g+=1,g>=a.length&&(g=-1))):g===n&&(g+=1,g>=a.length&&(g=-1))}));const y=t.Children.map(a,((e,n)=>{if(n===g){const n={};return s&&(n.autoFocus=!0),void 0===e.props.tabIndex&&"selectedMenu"===h&&(n.tabIndex=0),t.cloneElement(e,n)}return e}));return(0,zr.jsx)(ys,{role:"menu",ref:m,className:o,onKeyDown:t=>{const e=d.current,n=t.key;if(t.ctrlKey||t.metaKey||t.altKey)return void(c&&c(t));const r=hs(e).activeElement;if("ArrowDown"===n)t.preventDefault(),Es(e,r,l,u,ks);else if("ArrowUp"===n)t.preventDefault(),Es(e,r,l,u,Ts);else if("Home"===n)t.preventDefault(),Es(e,null,l,u,ks);else if("End"===n)t.preventDefault(),Es(e,null,l,u,Ts);else if(1===n.length){const i=f.current,s=n.toLowerCase(),a=performance.now();i.keys.length>0&&(a-i.lastTime>500?(i.keys=[],i.repeating=!0,i.previousKeyMatched=!0):i.repeating&&s!==i.keys[0]&&(i.repeating=!1)),i.lastTime=a,i.keys.push(s);const o=r&&!i.repeating&&As(r,i);i.previousKeyMatched&&(o||Es(e,r,!1,u,ks,i))?t.preventDefault():i.previousKeyMatched=!1}c&&c(t)},tabIndex:i?0:-1,...p,children:y})}));const Ls=function(t){return"string"===typeof t};function Cs(t){let e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;function r(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];clearTimeout(e),e=setTimeout((()=>{t.apply(this,i)}),n)}return r.clear=()=>{clearTimeout(e)},r}const Is=Cs;var $s=n(950);const Os=!1;var Rs="unmounted",Ds="exited",zs="entering",Ms="entered",Ps="exiting",Ns=function(e){function n(t,n){var r;r=e.call(this,t,n)||this;var i,s=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?s?(i=Ds,r.appearStatus=zs):i=Ms:i=t.unmountOnExit||t.mountOnEnter?Rs:Ds,r.state={status:i},r.nextCallback=null,r}Yr(n,e),n.getDerivedStateFromProps=function(t,e){return t.in&&e.status===Rs?{status:Ds}:null};var r=n.prototype;return r.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},r.componentDidUpdate=function(t){var e=null;if(t!==this.props){var n=this.state.status;this.props.in?n!==zs&&n!==Ms&&(e=zs):n!==zs&&n!==Ms||(e=Ps)}this.updateStatus(!1,e)},r.componentWillUnmount=function(){this.cancelNextCallback()},r.getTimeouts=function(){var t,e,n,r=this.props.timeout;return t=e=n=r,null!=r&&"number"!==typeof r&&(t=r.exit,e=r.enter,n=void 0!==r.appear?r.appear:e),{exit:t,enter:e,appear:n}},r.updateStatus=function(t,e){if(void 0===t&&(t=!1),null!==e)if(this.cancelNextCallback(),e===zs){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:$s.findDOMNode(this);n&&function(t){t.scrollTop}(n)}this.performEnter(t)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Ds&&this.setState({status:Rs})},r.performEnter=function(t){var e=this,n=this.props.enter,r=this.context?this.context.isMounting:t,i=this.props.nodeRef?[r]:[$s.findDOMNode(this),r],s=i[0],a=i[1],o=this.getTimeouts(),u=r?o.appear:o.enter;!t&&!n||Os?this.safeSetState({status:Ms},(function(){e.props.onEntered(s)})):(this.props.onEnter(s,a),this.safeSetState({status:zs},(function(){e.props.onEntering(s,a),e.onTransitionEnd(u,(function(){e.safeSetState({status:Ms},(function(){e.props.onEntered(s,a)}))}))})))},r.performExit=function(){var t=this,e=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:$s.findDOMNode(this);e&&!Os?(this.props.onExit(r),this.safeSetState({status:Ps},(function(){t.props.onExiting(r),t.onTransitionEnd(n.exit,(function(){t.safeSetState({status:Ds},(function(){t.props.onExited(r)}))}))}))):this.safeSetState({status:Ds},(function(){t.props.onExited(r)}))},r.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},r.safeSetState=function(t,e){e=this.setNextCallback(e),this.setState(t,e)},r.setNextCallback=function(t){var e=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,e.nextCallback=null,t(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},r.onTransitionEnd=function(t,e){this.setNextCallback(e);var n=this.props.nodeRef?this.props.nodeRef.current:$s.findDOMNode(this),r=null==t&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],s=i[0],a=i[1];this.props.addEndListener(s,a)}null!=t&&setTimeout(this.nextCallback,t)}else setTimeout(this.nextCallback,0)},r.render=function(){var e=this.state.status;if(e===Rs)return null;var n=this.props,r=n.children,i=(n.in,n.mountOnEnter,n.unmountOnExit,n.appear,n.enter,n.exit,n.timeout,n.addEndListener,n.onEnter,n.onEntering,n.onEntered,n.onExit,n.onExiting,n.onExited,n.nodeRef,Xr(n,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return t.createElement(Jr.Provider,{value:null},"function"===typeof r?r(e,i):t.cloneElement(t.Children.only(r),i))},n}(t.Component);function Fs(){}Ns.contextType=Jr,Ns.propTypes={},Ns.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Fs,onEntering:Fs,onEntered:Fs,onExit:Fs,onExiting:Fs,onExited:Fs},Ns.UNMOUNTED=Rs,Ns.EXITED=Ds,Ns.ENTERING=zs,Ns.ENTERED=Ms,Ns.EXITING=Ps;const Vs=Ns;const Ks=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;const n=t.useContext(Yt);return n&&(r=n,0!==Object.keys(r).length)?n:e;var r},js=wn();const Bs=function(){return Ks(arguments.length>0&&void 0!==arguments[0]?arguments[0]:js)};function Us(){const t=Bs(Er);return t[_r]||t}const Gs=t=>t.scrollTop;function Ws(t,e){const{timeout:n,easing:r,style:i={}}=t;return{duration:i.transitionDuration??("number"===typeof n?n:n[e.mode]||0),easing:i.transitionTimingFunction??("object"===typeof r?r[e.mode]:r),delay:i.transitionDelay}}function Hs(t){return`scale(${t}, ${t**2})`}const Xs={entering:{opacity:1,transform:Hs(1)},entered:{opacity:1,transform:"none"}},qs="undefined"!==typeof navigator&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),Ys=t.forwardRef((function(e,n){const{addEndListener:r,appear:i=!0,children:s,easing:a,in:o,onEnter:u,onEntered:l,onEntering:c,onExit:h,onExited:p,onExiting:d,style:f,timeout:m="auto",TransitionComponent:g=Vs,...y}=e,b=ai(),x=t.useRef(),v=Us(),w=t.useRef(null),S=Kr(w,as(s),n),k=t=>e=>{if(t){const n=w.current;void 0===e?t(n):t(n,e)}},T=k(c),A=k(((t,e)=>{Gs(t);const{duration:n,delay:r,easing:i}=Ws({style:f,timeout:m,easing:a},{mode:"enter"});let s;"auto"===m?(s=v.transitions.getAutoHeightDuration(t.clientHeight),x.current=s):s=n,t.style.transition=[v.transitions.create("opacity",{duration:s,delay:r}),v.transitions.create("transform",{duration:qs?s:.666*s,delay:r,easing:i})].join(","),u&&u(t,e)})),E=k(l),_=k(d),L=k((t=>{const{duration:e,delay:n,easing:r}=Ws({style:f,timeout:m,easing:a},{mode:"exit"});let i;"auto"===m?(i=v.transitions.getAutoHeightDuration(t.clientHeight),x.current=i):i=e,t.style.transition=[v.transitions.create("opacity",{duration:i,delay:n}),v.transitions.create("transform",{duration:qs?i:.666*i,delay:qs?n:n||.333*i,easing:r})].join(","),t.style.opacity=0,t.style.transform=Hs(.75),h&&h(t)})),C=k(p);return(0,zr.jsx)(g,{appear:i,in:o,nodeRef:w,onEnter:A,onEntered:E,onEntering:T,onExit:L,onExited:C,onExiting:_,addEndListener:t=>{"auto"===m&&b.start(x.current||0,t),r&&r(w.current,t)},timeout:"auto"===m?null:m,...y,children:(e,n)=>{let{ownerState:r,...i}=n;return t.cloneElement(s,{style:{opacity:0,transform:Hs(.75),visibility:"exited"!==e||o?void 0:"hidden",...Xs[e],...f,...s.props.style},ref:S,...i})}})}));Ys&&(Ys.muiSupportAuto=!0);const Js=Ys,Qs=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function Zs(t){const e=[],n=[];return Array.from(t.querySelectorAll(Qs)).forEach(((t,r)=>{const i=function(t){const e=parseInt(t.getAttribute("tabindex")||"",10);return Number.isNaN(e)?"true"===t.contentEditable||("AUDIO"===t.nodeName||"VIDEO"===t.nodeName||"DETAILS"===t.nodeName)&&null===t.getAttribute("tabindex")?0:t.tabIndex:e}(t);-1!==i&&function(t){return!(t.disabled||"INPUT"===t.tagName&&"hidden"===t.type||function(t){if("INPUT"!==t.tagName||"radio"!==t.type)return!1;if(!t.name)return!1;const e=e=>t.ownerDocument.querySelector(`input[type="radio"]${e}`);let n=e(`[name="${t.name}"]:checked`);return n||(n=e(`[name="${t.name}"]`)),n!==t}(t))}(t)&&(0===i?e.push(t):n.push({documentOrder:r,tabIndex:i,node:t}))})),n.sort(((t,e)=>t.tabIndex===e.tabIndex?t.documentOrder-e.documentOrder:t.tabIndex-e.tabIndex)).map((t=>t.node)).concat(e)}function ta(){return!0}const ea=function(e){const{children:n,disableAutoFocus:r=!1,disableEnforceFocus:i=!1,disableRestoreFocus:s=!1,getTabbable:a=Zs,isEnabled:o=ta,open:u}=e,l=t.useRef(!1),c=t.useRef(null),h=t.useRef(null),p=t.useRef(null),d=t.useRef(null),f=t.useRef(!1),m=t.useRef(null),g=Vr(as(n),m),y=t.useRef(null);t.useEffect((()=>{u&&m.current&&(f.current=!r)}),[r,u]),t.useEffect((()=>{if(!u||!m.current)return;const t=cs(m.current);return m.current.contains(t.activeElement)||(m.current.hasAttribute("tabIndex")||m.current.setAttribute("tabIndex","-1"),f.current&&m.current.focus()),()=>{s||(p.current&&p.current.focus&&(l.current=!0,p.current.focus()),p.current=null)}}),[u]),t.useEffect((()=>{if(!u||!m.current)return;const t=cs(m.current),e=e=>{y.current=e,!i&&o()&&"Tab"===e.key&&t.activeElement===m.current&&e.shiftKey&&(l.current=!0,h.current&&h.current.focus())},n=()=>{const e=m.current;if(null===e)return;if(!t.hasFocus()||!o()||l.current)return void(l.current=!1);if(e.contains(t.activeElement))return;if(i&&t.activeElement!==c.current&&t.activeElement!==h.current)return;if(t.activeElement!==d.current)d.current=null;else if(null!==d.current)return;if(!f.current)return;let n=[];if(t.activeElement!==c.current&&t.activeElement!==h.current||(n=a(m.current)),n.length>0){const t=Boolean(y.current?.shiftKey&&"Tab"===y.current?.key),e=n[0],r=n[n.length-1];"string"!==typeof e&&"string"!==typeof r&&(t?r.focus():e.focus())}else e.focus()};t.addEventListener("focusin",n),t.addEventListener("keydown",e,!0);const r=setInterval((()=>{t.activeElement&&"BODY"===t.activeElement.tagName&&n()}),50);return()=>{clearInterval(r),t.removeEventListener("focusin",n),t.removeEventListener("keydown",e,!0)}}),[r,i,s,o,u,a]);const b=t=>{null===p.current&&(p.current=t.relatedTarget),f.current=!0};return(0,zr.jsxs)(t.Fragment,{children:[(0,zr.jsx)("div",{tabIndex:u?0:-1,onFocus:b,ref:c,"data-testid":"sentinelStart"}),t.cloneElement(n,{ref:g,onFocus:t=>{null===p.current&&(p.current=t.relatedTarget),f.current=!0,d.current=t.target;const e=n.props.onFocus;e&&e(t)}}),(0,zr.jsx)("div",{tabIndex:u?0:-1,onFocus:b,ref:h,"data-testid":"sentinelEnd"})]})};const na=t.forwardRef((function(e,n){const{children:r,container:i,disablePortal:s=!1}=e,[a,o]=t.useState(null),u=Vr(t.isValidElement(r)?as(r):null,n);if(jr((()=>{s||o(function(t){return"function"===typeof t?t():t}(i)||document.body)}),[i,s]),jr((()=>{if(a&&!s)return Fr(n,a),()=>{Fr(n,null)}}),[n,a,s]),s){if(t.isValidElement(r)){const e={ref:u};return t.cloneElement(r,e)}return r}return a?$s.createPortal(r,a):a})),ra={entering:{opacity:1},entered:{opacity:1}},ia=t.forwardRef((function(e,n){const r=Us(),i={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:s,appear:a=!0,children:o,easing:u,in:l,onEnter:c,onEntered:h,onEntering:p,onExit:d,onExited:f,onExiting:m,style:g,timeout:y=i,TransitionComponent:b=Vs,...x}=e,v=t.useRef(null),w=Kr(v,as(o),n),S=t=>e=>{if(t){const n=v.current;void 0===e?t(n):t(n,e)}},k=S(p),T=S(((t,e)=>{Gs(t);const n=Ws({style:g,timeout:y,easing:u},{mode:"enter"});t.style.webkitTransition=r.transitions.create("opacity",n),t.style.transition=r.transitions.create("opacity",n),c&&c(t,e)})),A=S(h),E=S(m),_=S((t=>{const e=Ws({style:g,timeout:y,easing:u},{mode:"exit"});t.style.webkitTransition=r.transitions.create("opacity",e),t.style.transition=r.transitions.create("opacity",e),d&&d(t)})),L=S(f);return(0,zr.jsx)(b,{appear:a,in:l,nodeRef:v,onEnter:T,onEntered:A,onEntering:k,onExit:_,onExited:L,onExiting:E,addEndListener:t=>{s&&s(v.current,t)},timeout:y,...x,children:(e,n)=>{let{ownerState:r,...i}=n;return t.cloneElement(o,{style:{opacity:0,visibility:"exited"!==e||l?void 0:"hidden",...ra[e],...g,...o.props.style},ref:w,...i})}})})),sa=ia;function aa(t){return mi("MuiBackdrop",t)}gi("MuiBackdrop",["root","invisible"]);const oa=Cr("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.invisible&&e.invisible]}})({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent",variants:[{props:{invisible:!0},style:{backgroundColor:"transparent"}}]}),ua=t.forwardRef((function(t,e){const n=Nr({props:t,name:"MuiBackdrop"}),{children:r,className:i,component:s="div",invisible:u=!1,open:l,components:c={},componentsProps:h={},slotProps:p={},slots:d={},TransitionComponent:f,transitionDuration:m,...g}=n,y={...n,component:s,invisible:u},b=(t=>{const{classes:e,invisible:n}=t;return o({root:["root",n&&"invisible"]},aa,e)})(y),x={slots:{transition:f,root:c.Root,...d},slotProps:{...h,...p}},[v,w]=Mi("root",{elementType:oa,externalForwardedProps:x,className:a(b.root,i),ownerState:y}),[S,k]=Mi("transition",{elementType:sa,externalForwardedProps:x,ownerState:y});return(0,zr.jsx)(S,{in:l,timeout:m,...g,...k,children:(0,zr.jsx)(v,{"aria-hidden":!0,...w,classes:b,ref:e,children:r})})}));function la(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.reduce(((t,e)=>null==e?t:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];t.apply(this,r),e.apply(this,r)}),(()=>{}))}function ca(t,e){e?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden")}function ha(t){return parseInt(ws(t).getComputedStyle(t).paddingRight,10)||0}function pa(t,e,n,r,i){const s=[e,n,...r];[].forEach.call(t.children,(t=>{const e=!s.includes(t),n=!function(t){const e=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].includes(t.tagName),n="INPUT"===t.tagName&&"hidden"===t.getAttribute("type");return e||n}(t);e&&n&&ca(t,i)}))}function da(t,e){let n=-1;return t.some(((t,r)=>!!e(t)&&(n=r,!0))),n}function fa(t,e){const n=[],r=t.container;if(!e.disableScrollLock){if(function(t){const e=cs(t);return e.body===t?ws(t).innerWidth>e.documentElement.clientWidth:t.scrollHeight>t.clientHeight}(r)){const t=bs(ws(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight=`${ha(r)+t}px`;const e=cs(r).querySelectorAll(".mui-fixed");[].forEach.call(e,(e=>{n.push({value:e.style.paddingRight,property:"padding-right",el:e}),e.style.paddingRight=`${ha(e)+t}px`}))}let t;if(r.parentNode instanceof DocumentFragment)t=cs(r).body;else{const e=r.parentElement,n=ws(r);t="HTML"===e?.nodeName&&"scroll"===n.getComputedStyle(e).overflowY?e:r}n.push({value:t.style.overflow,property:"overflow",el:t},{value:t.style.overflowX,property:"overflow-x",el:t},{value:t.style.overflowY,property:"overflow-y",el:t}),t.style.overflow="hidden"}return()=>{n.forEach((t=>{let{value:e,el:n,property:r}=t;e?n.style.setProperty(r,e):n.style.removeProperty(r)}))}}const ma=()=>{},ga=new class{constructor(){this.modals=[],this.containers=[]}add(t,e){let n=this.modals.indexOf(t);if(-1!==n)return n;n=this.modals.length,this.modals.push(t),t.modalRef&&ca(t.modalRef,!1);const r=function(t){const e=[];return[].forEach.call(t.children,(t=>{"true"===t.getAttribute("aria-hidden")&&e.push(t)})),e}(e);pa(e,t.mount,t.modalRef,r,!0);const i=da(this.containers,(t=>t.container===e));return-1!==i?(this.containers[i].modals.push(t),n):(this.containers.push({modals:[t],container:e,restore:null,hiddenSiblings:r}),n)}mount(t,e){const n=da(this.containers,(e=>e.modals.includes(t))),r=this.containers[n];r.restore||(r.restore=fa(r,e))}remove(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=this.modals.indexOf(t);if(-1===n)return n;const r=da(this.containers,(e=>e.modals.includes(t))),i=this.containers[r];if(i.modals.splice(i.modals.indexOf(t),1),this.modals.splice(n,1),0===i.modals.length)i.restore&&i.restore(),t.modalRef&&ca(t.modalRef,e),pa(i.container,t.mount,t.modalRef,i.hiddenSiblings,!1),this.containers.splice(r,1);else{const t=i.modals[i.modals.length-1];t.modalRef&&ca(t.modalRef,!1)}return n}isTopModal(t){return this.modals.length>0&&this.modals[this.modals.length-1]===t}};const ya=function(e){const{container:n,disableEscapeKeyDown:r=!1,disableScrollLock:i=!1,closeAfterTransition:s=!1,onTransitionEnter:a,onTransitionExited:o,children:u,onClose:l,open:c,rootRef:h}=e,p=t.useRef({}),d=t.useRef(null),f=t.useRef(null),m=Vr(f,h),[g,y]=t.useState(!c),b=function(t){return!!t&&t.props.hasOwnProperty("in")}(u);let x=!0;"false"!==e["aria-hidden"]&&!1!==e["aria-hidden"]||(x=!1);const v=()=>(p.current.modalRef=f.current,p.current.mount=d.current,p.current),w=()=>{ga.mount(v(),{disableScrollLock:i}),f.current&&(f.current.scrollTop=0)},S=Br((()=>{const t=function(t){return"function"===typeof t?t():t}(n)||cs(d.current).body;ga.add(v(),t),f.current&&w()})),k=()=>ga.isTopModal(v()),T=Br((t=>{d.current=t,t&&(c&&k()?w():f.current&&ca(f.current,x))})),A=t.useCallback((()=>{ga.remove(v(),x)}),[x]);t.useEffect((()=>()=>{A()}),[A]),t.useEffect((()=>{c?S():b&&s||A()}),[c,A,b,s,S]);const E=t=>e=>{t.onKeyDown?.(e),"Escape"===e.key&&229!==e.which&&k()&&(r||(e.stopPropagation(),l&&l(e,"escapeKeyDown")))},_=t=>e=>{t.onClick?.(e),e.target===e.currentTarget&&l&&l(e,"backdropClick")};return{getRootProps:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=Ri(e);delete n.onTransitionEnter,delete n.onTransitionExited;const r={...n,...t};return{role:"presentation",...r,onKeyDown:E(r),ref:m}},getBackdropProps:function(){const t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{"aria-hidden":!0,...t,onClick:_(t),open:c}},getTransitionProps:()=>({onEnter:la((()=>{y(!1),a&&a()}),u?.props.onEnter??ma),onExited:la((()=>{y(!0),o&&o(),s&&A()}),u?.props.onExited??ma)}),rootRef:m,portalRef:T,isTopModal:k,exited:g,hasTransition:b}};function ba(t){return mi("MuiModal",t)}gi("MuiModal",["root","hidden","backdrop"]);const xa=Cr("div",{name:"MuiModal",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.open&&n.exited&&e.hidden]}})(Ki((t=>{let{theme:e}=t;return{position:"fixed",zIndex:(e.vars||e).zIndex.modal,right:0,bottom:0,top:0,left:0,variants:[{props:t=>{let{ownerState:e}=t;return!e.open&&e.exited},style:{visibility:"hidden"}}]}}))),va=Cr(ua,{name:"MuiModal",slot:"Backdrop",overridesResolver:(t,e)=>e.backdrop})({zIndex:-1}),wa=t.forwardRef((function(e,n){const r=Nr({name:"MuiModal",props:e}),{BackdropComponent:i=va,BackdropProps:s,classes:u,className:l,closeAfterTransition:c=!1,children:h,container:p,component:d,components:f={},componentsProps:m={},disableAutoFocus:g=!1,disableEnforceFocus:y=!1,disableEscapeKeyDown:b=!1,disablePortal:x=!1,disableRestoreFocus:v=!1,disableScrollLock:w=!1,hideBackdrop:S=!1,keepMounted:k=!1,onBackdropClick:T,onClose:A,onTransitionEnter:E,onTransitionExited:_,open:L,slotProps:C={},slots:I={},theme:$,...O}=r,R={...r,closeAfterTransition:c,disableAutoFocus:g,disableEnforceFocus:y,disableEscapeKeyDown:b,disablePortal:x,disableRestoreFocus:v,disableScrollLock:w,hideBackdrop:S,keepMounted:k},{getRootProps:D,getBackdropProps:z,getTransitionProps:M,portalRef:P,isTopModal:N,exited:F,hasTransition:V}=ya({...R,rootRef:n}),K={...R,exited:F},j=(t=>{const{open:e,exited:n,classes:r}=t;return o({root:["root",!e&&n&&"hidden"],backdrop:["backdrop"]},ba,r)})(K),B={};if(void 0===h.props.tabIndex&&(B.tabIndex="-1"),V){const{onEnter:t,onExited:e}=M();B.onEnter=t,B.onExited=e}const U={slots:{root:f.Root,backdrop:f.Backdrop,...I},slotProps:{...m,...C}},[G,W]=Mi("root",{ref:n,elementType:xa,externalForwardedProps:{...U,...O,component:d},getSlotProps:D,ownerState:K,className:a(l,j?.root,!K.open&&K.exited&&j?.hidden)}),[H,X]=Mi("backdrop",{ref:s?.ref,elementType:i,externalForwardedProps:U,shouldForwardComponentProp:!0,additionalProps:s,getSlotProps:t=>z({...t,onClick:e=>{T&&T(e),t?.onClick&&t.onClick(e)}}),className:a(s?.className,j?.backdrop),ownerState:K});return k||L||V&&!F?(0,zr.jsx)(na,{ref:P,container:p,disablePortal:x,children:(0,zr.jsxs)(G,{...W,children:[!S&&i?(0,zr.jsx)(H,{...X}):null,(0,zr.jsx)(ea,{disableEnforceFocus:y,disableAutoFocus:g,disableRestoreFocus:v,isEnabled:N,open:L,children:t.cloneElement(h,B)})]})}):null})),Sa=wa;function ka(t){return mi("MuiPaper",t)}gi("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const Ta=Cr("div",{name:"MuiPaper",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],!n.square&&e.rounded,"elevation"===n.variant&&e[`elevation${n.elevation}`]]}})(Ki((t=>{let{theme:e}=t;return{backgroundColor:(e.vars||e).palette.background.paper,color:(e.vars||e).palette.text.primary,transition:e.transitions.create("box-shadow"),variants:[{props:t=>{let{ownerState:e}=t;return!e.square},style:{borderRadius:e.shape.borderRadius}},{props:{variant:"outlined"},style:{border:`1px solid ${(e.vars||e).palette.divider}`}},{props:{variant:"elevation"},style:{boxShadow:"var(--Paper-shadow)",backgroundImage:"var(--Paper-overlay)"}}]}}))),Aa=t.forwardRef((function(t,e){const n=Nr({props:t,name:"MuiPaper"}),r=Us(),{className:i,component:s="div",elevation:u=1,square:l=!1,variant:c="elevation",...h}=n,p={...n,component:s,elevation:u,square:l,variant:c},d=(t=>{const{square:e,elevation:n,variant:r,classes:i}=t;return o({root:["root",r,!e&&"rounded","elevation"===r&&`elevation${n}`]},ka,i)})(p);return(0,zr.jsx)(Ta,{as:s,ownerState:p,className:a(d.root,i),ref:e,...h,style:{..."elevation"===c&&{"--Paper-shadow":(r.vars||r).shadows[u],...r.vars&&{"--Paper-overlay":r.vars.overlays?.[u]},...!r.vars&&"dark"===r.palette.mode&&{"--Paper-overlay":`linear-gradient(${g("#fff",hr(u))}, ${g("#fff",hr(u))})`}},...h.style}})}));function Ea(t){return mi("MuiPopover",t)}gi("MuiPopover",["root","paper"]);function _a(t,e){let n=0;return"number"===typeof e?n=e:"center"===e?n=t.height/2:"bottom"===e&&(n=t.height),n}function La(t,e){let n=0;return"number"===typeof e?n=e:"center"===e?n=t.width/2:"right"===e&&(n=t.width),n}function Ca(t){return[t.horizontal,t.vertical].map((t=>"number"===typeof t?`${t}px`:t)).join(" ")}function Ia(t){return"function"===typeof t?t():t}const $a=Cr(Sa,{name:"MuiPopover",slot:"Root",overridesResolver:(t,e)=>e.root})({}),Oa=Cr(Aa,{name:"MuiPopover",slot:"Paper",overridesResolver:(t,e)=>e.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),Ra=t.forwardRef((function(e,n){const r=Nr({props:e,name:"MuiPopover"}),{action:i,anchorEl:s,anchorOrigin:u={vertical:"top",horizontal:"left"},anchorPosition:l,anchorReference:c="anchorEl",children:h,className:p,container:d,elevation:f=8,marginThreshold:m=16,open:g,PaperProps:y={},slots:b={},slotProps:x={},transformOrigin:v={vertical:"top",horizontal:"left"},TransitionComponent:w,transitionDuration:S="auto",TransitionProps:k={},disableScrollLock:T=!1,...A}=r,E=t.useRef(),_={...r,anchorOrigin:u,anchorReference:c,elevation:f,marginThreshold:m,transformOrigin:v,TransitionComponent:w,transitionDuration:S,TransitionProps:k},L=(t=>{const{classes:e}=t;return o({root:["root"],paper:["paper"]},Ea,e)})(_),C=t.useCallback((()=>{if("anchorPosition"===c)return l;const t=Ia(s),e=(t&&1===t.nodeType?t:hs(E.current).body).getBoundingClientRect();return{top:e.top+_a(e,u.vertical),left:e.left+La(e,u.horizontal)}}),[s,u.horizontal,u.vertical,l,c]),I=t.useCallback((t=>({vertical:_a(t,v.vertical),horizontal:La(t,v.horizontal)})),[v.horizontal,v.vertical]),$=t.useCallback((t=>{const e={width:t.offsetWidth,height:t.offsetHeight},n=I(e);if("none"===c)return{top:null,left:null,transformOrigin:Ca(n)};const r=C();let i=r.top-n.vertical,a=r.left-n.horizontal;const o=i+e.height,u=a+e.width,l=Ss(Ia(s)),h=l.innerHeight-m,p=l.innerWidth-m;if(null!==m&&i<m){const t=i-m;i-=t,n.vertical+=t}else if(null!==m&&o>h){const t=o-h;i-=t,n.vertical+=t}if(null!==m&&a<m){const t=a-m;a-=t,n.horizontal+=t}else if(u>p){const t=u-p;a-=t,n.horizontal+=t}return{top:`${Math.round(i)}px`,left:`${Math.round(a)}px`,transformOrigin:Ca(n)}}),[s,c,C,I,m]),[O,R]=t.useState(g),D=t.useCallback((()=>{const t=E.current;if(!t)return;const e=$(t);null!==e.top&&t.style.setProperty("top",e.top),null!==e.left&&(t.style.left=e.left),t.style.transformOrigin=e.transformOrigin,R(!0)}),[$]);t.useEffect((()=>(T&&window.addEventListener("scroll",D),()=>window.removeEventListener("scroll",D))),[s,T,D]);t.useEffect((()=>{g&&D()})),t.useImperativeHandle(i,(()=>g?{updatePosition:()=>{D()}}:null),[g,D]),t.useEffect((()=>{if(!g)return;const t=Is((()=>{D()})),e=Ss(s);return e.addEventListener("resize",t),()=>{t.clear(),e.removeEventListener("resize",t)}}),[s,g,D]);let z=S;const M={slots:{transition:w,...b},slotProps:{transition:k,paper:y,...x}},[P,N]=Mi("transition",{elementType:Js,externalForwardedProps:M,ownerState:_,getSlotProps:t=>({...t,onEntering:(e,n)=>{t.onEntering?.(e,n),D()},onExited:e=>{t.onExited?.(e),R(!1)}}),additionalProps:{appear:!0,in:g}});"auto"!==S||P.muiSupportAuto||(z=void 0);const F=d||(s?hs(Ia(s)).body:void 0),[V,{slots:K,slotProps:j,...B}]=Mi("root",{ref:n,elementType:$a,externalForwardedProps:{...M,...A},shouldForwardComponentProp:!0,additionalProps:{slots:{backdrop:b.backdrop},slotProps:{backdrop:Zi("function"===typeof x.backdrop?x.backdrop(_):x.backdrop,{invisible:!0})},container:F,open:g},ownerState:_,className:a(L.root,p)}),[U,G]=Mi("paper",{ref:E,className:L.paper,elementType:Oa,externalForwardedProps:M,shouldForwardComponentProp:!0,additionalProps:{elevation:f,style:O?void 0:{opacity:0}},ownerState:_});return(0,zr.jsx)(V,{...B,...!Ls(V)&&{slots:K,slotProps:j,disableScrollLock:T},children:(0,zr.jsx)(P,{...N,timeout:z,children:(0,zr.jsx)(U,{...G,children:h})})})}));function Da(t){return mi("MuiMenu",t)}gi("MuiMenu",["root","paper","list"]);const za={vertical:"top",horizontal:"right"},Ma={vertical:"top",horizontal:"left"},Pa=Cr(Ra,{shouldForwardProp:t=>E(t)||"classes"===t,name:"MuiMenu",slot:"Root",overridesResolver:(t,e)=>e.root})({}),Na=Cr(Oa,{name:"MuiMenu",slot:"Paper",overridesResolver:(t,e)=>e.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),Fa=Cr(_s,{name:"MuiMenu",slot:"List",overridesResolver:(t,e)=>e.list})({outline:0}),Va=t.forwardRef((function(e,n){const r=Nr({props:e,name:"MuiMenu"}),{autoFocus:i=!0,children:s,className:u,disableAutoFocusItem:l=!1,MenuListProps:c={},onClose:h,open:p,PaperProps:d={},PopoverClasses:f,transitionDuration:m="auto",TransitionProps:{onEntering:g,...y}={},variant:b="selectedMenu",slots:x={},slotProps:v={},...w}=r,S=t.useContext(ps)??!1,k={...r,autoFocus:i,disableAutoFocusItem:l,MenuListProps:c,onEntering:g,PaperProps:d,transitionDuration:m,TransitionProps:y,variant:b},T=(t=>{const{classes:e}=t;return o({root:["root"],paper:["paper"],list:["list"]},Da,e)})(k),A=i&&!l&&p,E=t.useRef(null);let _=-1;t.Children.map(s,((e,n)=>{t.isValidElement(e)&&(e.props.disabled||("selectedMenu"===b&&e.props.selected||-1===_)&&(_=n))}));const L={slots:x,slotProps:{list:c,transition:y,paper:d,...v}},C=ds({elementType:x.root,externalSlotProps:v.root,ownerState:k,className:[T.root,u]}),[I,$]=Mi("paper",{className:T.paper,elementType:Na,externalForwardedProps:L,shouldForwardComponentProp:!0,ownerState:k}),[O,R]=Mi("list",{className:a(T.list,c.className),elementType:Fa,shouldForwardComponentProp:!0,externalForwardedProps:L,getSlotProps:t=>({...t,onKeyDown:e=>{(t=>{"Tab"===t.key&&(t.preventDefault(),h&&h(t,"tabKeyDown"))})(e),t.onKeyDown?.(e)}}),ownerState:k}),D="function"===typeof L.slotProps.transition?L.slotProps.transition(k):L.slotProps.transition;return(0,zr.jsx)(Pa,{onClose:h,anchorOrigin:{vertical:"bottom",horizontal:S?"right":"left"},transformOrigin:S?za:Ma,slots:{root:x.root,paper:I,backdrop:x.backdrop,...x.transition&&{transition:x.transition}},slotProps:{root:C,paper:$,backdrop:"function"===typeof v.backdrop?v.backdrop(k):v.backdrop,transition:{...D,onEntering:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];((t,e)=>{E.current&&E.current.adjustStyleForScrollbar(t,{direction:S?"rtl":"ltr"}),g&&g(t,e)})(...e),D?.onEntering?.(...e)}}},open:p,ref:n,transitionDuration:m,ownerState:k,...w,classes:f,children:(0,zr.jsx)(O,{actions:E,autoFocus:i&&(-1===_||l),autoFocusItem:A,variant:b,...R,children:s})})}));function Ka(t){return mi("MuiNativeSelect",t)}const ja=gi("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),Ba=Cr("select")((t=>{let{theme:e}=t;return{MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":{borderRadius:0},[`&.${ja.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(e.vars||e).palette.background.paper},variants:[{props:t=>{let{ownerState:e}=t;return"filled"!==e.variant&&"outlined"!==e.variant},style:{"&&&":{paddingRight:24,minWidth:16}}},{props:{variant:"filled"},style:{"&&&":{paddingRight:32}}},{props:{variant:"outlined"},style:{borderRadius:(e.vars||e).shape.borderRadius,"&:focus":{borderRadius:(e.vars||e).shape.borderRadius},"&&&":{paddingRight:32}}}]}})),Ua=Cr(Ba,{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:E,overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.select,e[n.variant],n.error&&e.error,{[`&.${ja.multiple}`]:e.multiple}]}})({}),Ga=Cr("svg")((t=>{let{theme:e}=t;return{position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(e.vars||e).palette.action.active,[`&.${ja.disabled}`]:{color:(e.vars||e).palette.action.disabled},variants:[{props:t=>{let{ownerState:e}=t;return e.open},style:{transform:"rotate(180deg)"}},{props:{variant:"filled"},style:{right:7}},{props:{variant:"outlined"},style:{right:7}}]}})),Wa=Cr(Ga,{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.icon,n.variant&&e[`icon${T(n.variant)}`],n.open&&e.iconOpen]}})({}),Ha=t.forwardRef((function(e,n){const{className:r,disabled:i,error:s,IconComponent:u,inputRef:l,variant:c="standard",...h}=e,p={...e,disabled:i,variant:c,error:s},d=(t=>{const{classes:e,variant:n,disabled:r,multiple:i,open:s,error:a}=t;return o({select:["select",n,r&&"disabled",i&&"multiple",a&&"error"],icon:["icon",`icon${T(n)}`,s&&"iconOpen",r&&"disabled"]},Ka,e)})(p);return(0,zr.jsxs)(t.Fragment,{children:[(0,zr.jsx)(Ua,{ownerState:p,className:a(d.select,r),disabled:i,ref:l||n,...h}),e.multiple?null:(0,zr.jsx)(Wa,{as:u,ownerState:p,className:d.icon})]})}));function Xa(t){return null!=t&&!(Array.isArray(t)&&0===t.length)}function qa(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t&&(Xa(t.value)&&""!==t.value||e&&Xa(t.defaultValue)&&""!==t.defaultValue)}function Ya(t){return mi("MuiSelect",t)}const Ja=gi("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var Qa;const Za=Cr(Ba,{name:"MuiSelect",slot:"Select",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`&.${Ja.select}`]:e.select},{[`&.${Ja.select}`]:e[n.variant]},{[`&.${Ja.error}`]:e.error},{[`&.${Ja.multiple}`]:e.multiple}]}})({[`&.${Ja.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),to=Cr(Ga,{name:"MuiSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.icon,n.variant&&e[`icon${T(n.variant)}`],n.open&&e.iconOpen]}})({}),eo=Cr("input",{shouldForwardProp:t=>A(t)&&"classes"!==t,name:"MuiSelect",slot:"NativeInput",overridesResolver:(t,e)=>e.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function no(t,e){return"object"===typeof e&&null!==e?t===e:String(t)===String(e)}function ro(t){return null==t||"string"===typeof t&&!t.trim()}const io=t.forwardRef((function(e,n){const{"aria-describedby":r,"aria-label":i,autoFocus:s,autoWidth:l,children:c,className:h,defaultOpen:p,defaultValue:d,disabled:f,displayEmpty:m,error:g=!1,IconComponent:y,inputRef:b,labelId:x,MenuProps:v={},multiple:w,name:S,onBlur:k,onChange:A,onClose:E,onFocus:_,onOpen:L,open:C,readOnly:I,renderValue:$,required:O,SelectDisplayProps:R={},tabIndex:D,type:z,value:M,variant:P="standard",...N}=e,[F,V]=Ir({controlled:M,default:d,name:"Select"}),[K,j]=Ir({controlled:C,default:p,name:"Select"}),B=t.useRef(null),U=t.useRef(null),[G,W]=t.useState(null),{current:H}=t.useRef(null!=C),[X,q]=t.useState(),Y=Kr(n,b),J=t.useCallback((t=>{U.current=t,t&&W(t)}),[]),Q=G?.parentNode;t.useImperativeHandle(Y,(()=>({focus:()=>{U.current.focus()},node:B.current,value:F})),[F]),t.useEffect((()=>{p&&K&&G&&!H&&(q(l?null:Q.clientWidth),U.current.focus())}),[G,l]),t.useEffect((()=>{s&&U.current.focus()}),[s]),t.useEffect((()=>{if(!x)return;const t=hs(U.current).getElementById(x);if(t){const e=()=>{getSelection().isCollapsed&&U.current.focus()};return t.addEventListener("click",e),()=>{t.removeEventListener("click",e)}}}),[x]);const Z=(t,e)=>{t?L&&L(e):E&&E(e),H||(q(l?null:Q.clientWidth),j(t))},tt=t.Children.toArray(c),et=t=>e=>{let n;if(e.currentTarget.hasAttribute("tabindex")){if(w){n=Array.isArray(F)?F.slice():[];const e=F.indexOf(t.props.value);-1===e?n.push(t.props.value):n.splice(e,1)}else n=t.props.value;if(t.props.onClick&&t.props.onClick(e),F!==n&&(V(n),A)){const r=e.nativeEvent||e,i=new r.constructor(r.type,r);Object.defineProperty(i,"target",{writable:!0,value:{value:n,name:S}}),A(i,t)}w||Z(!1,e)}},nt=null!==G&&K;let rt,it;delete N["aria-invalid"];const st=[];let at=!1,ot=!1;(qa({value:F})||m)&&($?rt=$(F):at=!0);const ut=tt.map((e=>{if(!t.isValidElement(e))return null;let n;if(w){if(!Array.isArray(F))throw new Error(u(2));n=F.some((t=>no(t,e.props.value))),n&&at&&st.push(e.props.children)}else n=no(F,e.props.value),n&&at&&(it=e.props.children);return n&&(ot=!0),t.cloneElement(e,{"aria-selected":n?"true":"false",onClick:et(e),onKeyUp:t=>{" "===t.key&&t.preventDefault(),e.props.onKeyUp&&e.props.onKeyUp(t)},role:"option",selected:n,value:void 0,"data-value":e.props.value})}));at&&(rt=w?0===st.length?null:st.reduce(((t,e,n)=>(t.push(e),n<st.length-1&&t.push(", "),t)),[]):it);let lt,ct=X;!l&&H&&G&&(ct=Q.clientWidth),lt="undefined"!==typeof D?D:f?null:0;const ht=R.id||(S?`mui-component-select-${S}`:void 0),pt={...e,variant:P,value:F,open:nt,error:g},dt=(t=>{const{classes:e,variant:n,disabled:r,multiple:i,open:s,error:a}=t;return o({select:["select",n,r&&"disabled",i&&"multiple",a&&"error"],icon:["icon",`icon${T(n)}`,s&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]},Ya,e)})(pt),ft={...v.PaperProps,...v.slotProps?.paper},mt=ls();return(0,zr.jsxs)(t.Fragment,{children:[(0,zr.jsx)(Za,{as:"div",ref:J,tabIndex:lt,role:"combobox","aria-controls":nt?mt:void 0,"aria-disabled":f?"true":void 0,"aria-expanded":nt?"true":"false","aria-haspopup":"listbox","aria-label":i,"aria-labelledby":[x,ht].filter(Boolean).join(" ")||void 0,"aria-describedby":r,"aria-required":O?"true":void 0,"aria-invalid":g?"true":void 0,onKeyDown:t=>{if(!I){[" ","ArrowUp","ArrowDown","Enter"].includes(t.key)&&(t.preventDefault(),Z(!0,t))}},onMouseDown:f||I?null:t=>{0===t.button&&(t.preventDefault(),U.current.focus(),Z(!0,t))},onBlur:t=>{!nt&&k&&(Object.defineProperty(t,"target",{writable:!0,value:{value:F,name:S}}),k(t))},onFocus:_,...R,ownerState:pt,className:a(R.className,dt.select,h),id:ht,children:ro(rt)?Qa||(Qa=(0,zr.jsx)("span",{className:"notranslate","aria-hidden":!0,children:"\u200b"})):rt}),(0,zr.jsx)(eo,{"aria-invalid":g,value:Array.isArray(F)?F.join(","):F,name:S,ref:B,"aria-hidden":!0,onChange:t=>{const e=tt.find((e=>e.props.value===t.target.value));void 0!==e&&(V(e.props.value),A&&A(t,e))},tabIndex:-1,disabled:f,className:dt.nativeInput,autoFocus:s,required:O,...N,ownerState:pt}),(0,zr.jsx)(to,{as:y,className:dt.icon,ownerState:pt}),(0,zr.jsx)(Va,{id:`menu-${S||""}`,anchorEl:Q,open:nt,onClose:t=>{Z(!1,t)},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},...v,slotProps:{...v.slotProps,list:{"aria-labelledby":x,role:"listbox","aria-multiselectable":w?"true":void 0,disableListWrap:!0,id:mt,...v.MenuListProps},paper:{...ft,style:{minWidth:ct,...null!=ft?ft.style:null}}},children:ut})]})})),so=io;function ao(t){let{props:e,states:n,muiFormControl:r}=t;return n.reduce(((t,n)=>(t[n]=e[n],r&&"undefined"===typeof e[n]&&(t[n]=r[n]),t)),{})}const oo=Wi((0,zr.jsx)("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown");function uo(t){return parseInt(t,10)||0}const lo={visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"};function co(t){return function(t){for(const e in t)return!1;return!0}(t)||0===t.outerHeightStyle&&!t.overflowing}const ho=t.forwardRef((function(e,n){const{onChange:r,maxRows:i,minRows:s=1,style:a,value:o,...u}=e,{current:l}=t.useRef(null!=o),c=t.useRef(null),h=Vr(n,c),p=t.useRef(null),d=t.useRef(null),f=t.useCallback((()=>{const t=c.current,n=d.current;if(!t||!n)return;const r=ws(t).getComputedStyle(t);if("0px"===r.width)return{outerHeightStyle:0,overflowing:!1};n.style.width=r.width,n.value=t.value||e.placeholder||"x","\n"===n.value.slice(-1)&&(n.value+=" ");const a=r.boxSizing,o=uo(r.paddingBottom)+uo(r.paddingTop),u=uo(r.borderBottomWidth)+uo(r.borderTopWidth),l=n.scrollHeight;n.value="x";const h=n.scrollHeight;let p=l;s&&(p=Math.max(Number(s)*h,p)),i&&(p=Math.min(Number(i)*h,p)),p=Math.max(p,h);return{outerHeightStyle:p+("border-box"===a?o+u:0),overflowing:Math.abs(p-l)<=1}}),[i,s,e.placeholder]),m=Br((()=>{const t=c.current,e=f();if(!t||!e||co(e))return!1;const n=e.outerHeightStyle;return null!=p.current&&p.current!==n})),g=t.useCallback((()=>{const t=c.current,e=f();if(!t||!e||co(e))return;const n=e.outerHeightStyle;p.current!==n&&(p.current=n,t.style.height=`${n}px`),t.style.overflow=e.overflowing?"hidden":""}),[f]),y=t.useRef(-1);jr((()=>{const t=Cs(g),e=c?.current;if(!e)return;const n=ws(e);let r;return n.addEventListener("resize",t),"undefined"!==typeof ResizeObserver&&(r=new ResizeObserver((()=>{m()&&(r.unobserve(e),cancelAnimationFrame(y.current),g(),y.current=requestAnimationFrame((()=>{r.observe(e)})))})),r.observe(e)),()=>{t.clear(),cancelAnimationFrame(y.current),n.removeEventListener("resize",t),r&&r.disconnect()}}),[f,g,m]),jr((()=>{g()}));return(0,zr.jsxs)(t.Fragment,{children:[(0,zr.jsx)("textarea",{value:o,onChange:t=>{l||g(),r&&r(t)},ref:h,rows:s,style:a,...u}),(0,zr.jsx)("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:d,tabIndex:-1,style:{...lo,...a,paddingTop:0,paddingBottom:0}})]})})),po=ho;function fo(t){const{sx:e,...n}=t,{systemProps:r,otherProps:i}=(t=>{const e={systemProps:{},otherProps:{}},n=t?.theme?.unstable_sxConfig??yn;return Object.keys(t).forEach((r=>{n[r]?e.systemProps[r]=t[r]:e.otherProps[r]=t[r]})),e})(n);let s;return s=Array.isArray(e)?[r,...e]:"function"===typeof e?function(){const t=e(...arguments);return pe(t)?{...r,...t}:r}:{...r,...e},{...i,sx:s}}function mo(t){const{styles:e,defaultTheme:n={}}=t,r="function"===typeof e?t=>{return e(void 0===(r=t)||null===r||0===Object.keys(r).length?n:t);var r}:e;return(0,zr.jsx)(ui,{styles:r})}const go=function(t){let{styles:e,themeId:n,defaultTheme:r={}}=t;const i=Bs(r),s="function"===typeof e?e(n&&i[n]||i):e;return(0,zr.jsx)(mo,{styles:s})};const yo=function(t){return(0,zr.jsx)(go,{...t,defaultTheme:Er,themeId:_r})};function bo(t){return mi("MuiInputBase",t)}const xo=gi("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]);var vo;const wo=(t,e)=>{const{ownerState:n}=t;return[e.root,n.formControl&&e.formControl,n.startAdornment&&e.adornedStart,n.endAdornment&&e.adornedEnd,n.error&&e.error,"small"===n.size&&e.sizeSmall,n.multiline&&e.multiline,n.color&&e[`color${T(n.color)}`],n.fullWidth&&e.fullWidth,n.hiddenLabel&&e.hiddenLabel]},So=(t,e)=>{const{ownerState:n}=t;return[e.input,"small"===n.size&&e.inputSizeSmall,n.multiline&&e.inputMultiline,"search"===n.type&&e.inputTypeSearch,n.startAdornment&&e.inputAdornedStart,n.endAdornment&&e.inputAdornedEnd,n.hiddenLabel&&e.inputHiddenLabel]},ko=Cr("div",{name:"MuiInputBase",slot:"Root",overridesResolver:wo})(Ki((t=>{let{theme:e}=t;return{...e.typography.body1,color:(e.vars||e).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${xo.disabled}`]:{color:(e.vars||e).palette.text.disabled,cursor:"default"},variants:[{props:t=>{let{ownerState:e}=t;return e.multiline},style:{padding:"4px 0 5px"}},{props:t=>{let{ownerState:e,size:n}=t;return e.multiline&&"small"===n},style:{paddingTop:1}},{props:t=>{let{ownerState:e}=t;return e.fullWidth},style:{width:"100%"}}]}}))),To=Cr("input",{name:"MuiInputBase",slot:"Input",overridesResolver:So})(Ki((t=>{let{theme:e}=t;const n="light"===e.palette.mode,r={color:"currentColor",...e.vars?{opacity:e.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5},transition:e.transitions.create("opacity",{duration:e.transitions.duration.shorter})},i={opacity:"0 !important"},s=e.vars?{opacity:e.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5};return{font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%","&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&::-ms-input-placeholder":r,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${xo.formControl} &`]:{"&::-webkit-input-placeholder":i,"&::-moz-placeholder":i,"&::-ms-input-placeholder":i,"&:focus::-webkit-input-placeholder":s,"&:focus::-moz-placeholder":s,"&:focus::-ms-input-placeholder":s},[`&.${xo.disabled}`]:{opacity:1,WebkitTextFillColor:(e.vars||e).palette.text.disabled},variants:[{props:t=>{let{ownerState:e}=t;return!e.disableInjectingGlobalStyles},style:{animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}}},{props:{size:"small"},style:{paddingTop:1}},{props:t=>{let{ownerState:e}=t;return e.multiline},style:{height:"auto",resize:"none",padding:0,paddingTop:0}},{props:{type:"search"},style:{MozAppearance:"textfield"}}]}}))),Ao=function(t){return function(e){return(0,zr.jsx)(yo,{styles:"function"===typeof t?n=>t({theme:n,...e}):t})}}({"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}),Eo=t.forwardRef((function(e,n){const r=Nr({props:e,name:"MuiInputBase"}),{"aria-describedby":i,autoComplete:s,autoFocus:l,className:c,color:h,components:p={},componentsProps:d={},defaultValue:f,disabled:m,disableInjectingGlobalStyles:g,endAdornment:y,error:b,fullWidth:x=!1,id:v,inputComponent:w="input",inputProps:S={},inputRef:k,margin:A,maxRows:E,minRows:_,multiline:L=!1,name:C,onBlur:I,onChange:$,onClick:O,onFocus:R,onKeyDown:D,onKeyUp:z,placeholder:M,readOnly:P,renderSuffix:N,rows:F,size:V,slotProps:K={},slots:j={},startAdornment:B,type:U="text",value:G,...W}=r,H=null!=S.value?S.value:G,{current:X}=t.useRef(null!=H),q=t.useRef(),Y=t.useCallback((t=>{0}),[]),J=Kr(q,k,S.ref,Y),[Q,Z]=t.useState(!1),tt=Or();const et=ao({props:r,muiFormControl:tt,states:["color","disabled","error","hiddenLabel","size","required","filled"]});et.focused=tt?tt.focused:Q,t.useEffect((()=>{!tt&&m&&Q&&(Z(!1),I&&I())}),[tt,m,Q,I]);const nt=tt&&tt.onFilled,rt=tt&&tt.onEmpty,it=t.useCallback((t=>{qa(t)?nt&&nt():rt&&rt()}),[nt,rt]);vs((()=>{X&&it({value:H})}),[H,it,X]);t.useEffect((()=>{it(q.current)}),[]);let st=w,at=S;L&&"input"===st&&(at=F?{type:void 0,minRows:F,maxRows:F,...at}:{type:void 0,maxRows:E,minRows:_,...at},st=po);t.useEffect((()=>{tt&&tt.setAdornedStart(Boolean(B))}),[tt,B]);const ot={...r,color:et.color||"primary",disabled:et.disabled,endAdornment:y,error:et.error,focused:et.focused,formControl:tt,fullWidth:x,hiddenLabel:et.hiddenLabel,multiline:L,size:et.size,startAdornment:B,type:U},ut=(t=>{const{classes:e,color:n,disabled:r,error:i,endAdornment:s,focused:a,formControl:u,fullWidth:l,hiddenLabel:c,multiline:h,readOnly:p,size:d,startAdornment:f,type:m}=t;return o({root:["root",`color${T(n)}`,r&&"disabled",i&&"error",l&&"fullWidth",a&&"focused",u&&"formControl",d&&"medium"!==d&&`size${T(d)}`,h&&"multiline",f&&"adornedStart",s&&"adornedEnd",c&&"hiddenLabel",p&&"readOnly"],input:["input",r&&"disabled","search"===m&&"inputTypeSearch",h&&"inputMultiline","small"===d&&"inputSizeSmall",c&&"inputHiddenLabel",f&&"inputAdornedStart",s&&"inputAdornedEnd",p&&"readOnly"]},bo,e)})(ot),lt=j.root||p.Root||ko,ct=K.root||d.root||{},ht=j.input||p.Input||To;return at={...at,...K.input??d.input},(0,zr.jsxs)(t.Fragment,{children:[!g&&"function"===typeof Ao&&(vo||(vo=(0,zr.jsx)(Ao,{}))),(0,zr.jsxs)(lt,{...ct,ref:n,onClick:t=>{q.current&&t.currentTarget===t.target&&q.current.focus(),O&&O(t)},...W,...!Ls(lt)&&{ownerState:{...ot,...ct.ownerState}},className:a(ut.root,ct.className,c,P&&"MuiInputBase-readOnly"),children:[B,(0,zr.jsx)($r.Provider,{value:null,children:(0,zr.jsx)(ht,{"aria-invalid":et.error,"aria-describedby":i,autoComplete:s,autoFocus:l,defaultValue:f,disabled:et.disabled,id:v,onAnimationStart:t=>{it("mui-auto-fill-cancel"===t.animationName?q.current:{value:"x"})},name:C,placeholder:M,readOnly:P,required:et.required,rows:F,value:H,onKeyDown:D,onKeyUp:z,type:U,...at,...!Ls(ht)&&{as:st,ownerState:{...ot,...at.ownerState}},ref:J,className:a(ut.input,at.className,P&&"MuiInputBase-readOnly"),onBlur:t=>{I&&I(t),S.onBlur&&S.onBlur(t),tt&&tt.onBlur?tt.onBlur(t):Z(!1)},onChange:function(t){if(!X){const e=t.target||q.current;if(null==e)throw new Error(u(1));it({value:e.value})}for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];S.onChange&&S.onChange(t,...n),$&&$(t,...n)},onFocus:t=>{R&&R(t),S.onFocus&&S.onFocus(t),tt&&tt.onFocus?tt.onFocus(t):Z(!0)}})}),y,N?N({...et,startAdornment:B}):null]})]})})),_o=Eo;function Lo(t){return mi("MuiInput",t)}const Co={...xo,...gi("MuiInput",["root","underline","input"])},Io=Cr(ko,{shouldForwardProp:t=>E(t)||"classes"===t,name:"MuiInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[...wo(t,e),!n.disableUnderline&&e.underline]}})(Ki((t=>{let{theme:e}=t;let n="light"===e.palette.mode?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return e.vars&&(n=`rgba(${e.vars.palette.common.onBackgroundChannel} / ${e.vars.opacity.inputUnderline})`),{position:"relative",variants:[{props:t=>{let{ownerState:e}=t;return e.formControl},style:{"label + &":{marginTop:16}}},{props:t=>{let{ownerState:e}=t;return!e.disableUnderline},style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Co.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Co.error}`]:{"&::before, &::after":{borderBottomColor:(e.vars||e).palette.error.main}},"&::before":{borderBottom:`1px solid ${n}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Co.disabled}, .${Co.error}):before`]:{borderBottom:`2px solid ${(e.vars||e).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${n}`}},[`&.${Co.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(e.palette).filter(Qi()).map((t=>{let[n]=t;return{props:{color:n,disableUnderline:!1},style:{"&::after":{borderBottom:`2px solid ${(e.vars||e).palette[n].main}`}}}}))]}}))),$o=Cr(To,{name:"MuiInput",slot:"Input",overridesResolver:So})({}),Oo=t.forwardRef((function(t,e){const n=Nr({props:t,name:"MuiInput"}),{disableUnderline:r=!1,components:i={},componentsProps:s,fullWidth:a=!1,inputComponent:u="input",multiline:l=!1,slotProps:c,slots:h={},type:p="text",...d}=n,f=(t=>{const{classes:e,disableUnderline:n}=t,r=o({root:["root",!n&&"underline"],input:["input"]},Lo,e);return{...e,...r}})(n),m={root:{ownerState:{disableUnderline:r}}},g=c??s?fe(c??s,m):m,y=h.root??i.Root??Io,b=h.input??i.Input??$o;return(0,zr.jsx)(_o,{slots:{root:y,input:b},slotProps:g,fullWidth:a,inputComponent:u,multiline:l,ref:e,type:p,...d,classes:f})}));Oo.muiName="Input";const Ro=Oo;function Do(t){return mi("MuiFilledInput",t)}const zo={...xo,...gi("MuiFilledInput",["root","underline","input","adornedStart","adornedEnd","sizeSmall","multiline","hiddenLabel"])},Mo=Cr(ko,{shouldForwardProp:t=>E(t)||"classes"===t,name:"MuiFilledInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[...wo(t,e),!n.disableUnderline&&e.underline]}})(Ki((t=>{let{theme:e}=t;const n="light"===e.palette.mode,r=n?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",i=n?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",s=n?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",a=n?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return{position:"relative",backgroundColor:e.vars?e.vars.palette.FilledInput.bg:i,borderTopLeftRadius:(e.vars||e).shape.borderRadius,borderTopRightRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),"&:hover":{backgroundColor:e.vars?e.vars.palette.FilledInput.hoverBg:s,"@media (hover: none)":{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:i}},[`&.${zo.focused}`]:{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:i},[`&.${zo.disabled}`]:{backgroundColor:e.vars?e.vars.palette.FilledInput.disabledBg:a},variants:[{props:t=>{let{ownerState:e}=t;return!e.disableUnderline},style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${zo.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${zo.error}`]:{"&::before, &::after":{borderBottomColor:(e.vars||e).palette.error.main}},"&::before":{borderBottom:`1px solid ${e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / ${e.vars.opacity.inputUnderline})`:r}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${zo.disabled}, .${zo.error}):before`]:{borderBottom:`1px solid ${(e.vars||e).palette.text.primary}`},[`&.${zo.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(e.palette).filter(Qi()).map((t=>{let[n]=t;return{props:{disableUnderline:!1,color:n},style:{"&::after":{borderBottom:`2px solid ${(e.vars||e).palette[n]?.main}`}}}})),{props:t=>{let{ownerState:e}=t;return e.startAdornment},style:{paddingLeft:12}},{props:t=>{let{ownerState:e}=t;return e.endAdornment},style:{paddingRight:12}},{props:t=>{let{ownerState:e}=t;return e.multiline},style:{padding:"25px 12px 8px"}},{props:t=>{let{ownerState:e,size:n}=t;return e.multiline&&"small"===n},style:{paddingTop:21,paddingBottom:4}},{props:t=>{let{ownerState:e}=t;return e.multiline&&e.hiddenLabel},style:{paddingTop:16,paddingBottom:17}},{props:t=>{let{ownerState:e}=t;return e.multiline&&e.hiddenLabel&&"small"===e.size},style:{paddingTop:8,paddingBottom:9}}]}}))),Po=Cr(To,{name:"MuiFilledInput",slot:"Input",overridesResolver:So})(Ki((t=>{let{theme:e}=t;return{paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12,...!e.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:"light"===e.palette.mode?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===e.palette.mode?null:"#fff",caretColor:"light"===e.palette.mode?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},...e.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[e.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{paddingTop:21,paddingBottom:4}},{props:t=>{let{ownerState:e}=t;return e.hiddenLabel},style:{paddingTop:16,paddingBottom:17}},{props:t=>{let{ownerState:e}=t;return e.startAdornment},style:{paddingLeft:0}},{props:t=>{let{ownerState:e}=t;return e.endAdornment},style:{paddingRight:0}},{props:t=>{let{ownerState:e}=t;return e.hiddenLabel&&"small"===e.size},style:{paddingTop:8,paddingBottom:9}},{props:t=>{let{ownerState:e}=t;return e.multiline},style:{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0}}]}}))),No=t.forwardRef((function(t,e){const n=Nr({props:t,name:"MuiFilledInput"}),{disableUnderline:r=!1,components:i={},componentsProps:s,fullWidth:a=!1,hiddenLabel:u,inputComponent:l="input",multiline:c=!1,slotProps:h,slots:p={},type:d="text",...f}=n,m={...n,disableUnderline:r,fullWidth:a,inputComponent:l,multiline:c,type:d},g=(t=>{const{classes:e,disableUnderline:n,startAdornment:r,endAdornment:i,size:s,hiddenLabel:a,multiline:u}=t,l=o({root:["root",!n&&"underline",r&&"adornedStart",i&&"adornedEnd","small"===s&&`size${T(s)}`,a&&"hiddenLabel",u&&"multiline"],input:["input"]},Do,e);return{...e,...l}})(n),y={root:{ownerState:m},input:{ownerState:m}},b=h??s?fe(y,h??s):y,x=p.root??i.Root??Mo,v=p.input??i.Input??Po;return(0,zr.jsx)(_o,{slots:{root:x,input:v},slotProps:b,fullWidth:a,inputComponent:l,multiline:c,ref:e,type:d,...f,classes:g})}));No.muiName="Input";const Fo=No;var Vo;const Ko=Cr("fieldset",{shouldForwardProp:E})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),jo=Cr("legend",{shouldForwardProp:E})(Ki((t=>{let{theme:e}=t;return{float:"unset",width:"auto",overflow:"hidden",variants:[{props:t=>{let{ownerState:e}=t;return!e.withLabel},style:{padding:0,lineHeight:"11px",transition:e.transitions.create("width",{duration:150,easing:e.transitions.easing.easeOut})}},{props:t=>{let{ownerState:e}=t;return e.withLabel},style:{display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:e.transitions.create("max-width",{duration:50,easing:e.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}}},{props:t=>{let{ownerState:e}=t;return e.withLabel&&e.notched},style:{maxWidth:"100%",transition:e.transitions.create("max-width",{duration:100,easing:e.transitions.easing.easeOut,delay:50})}}]}})));function Bo(t){return mi("MuiOutlinedInput",t)}const Uo={...xo,...gi("MuiOutlinedInput",["root","notchedOutline","input"])},Go=Cr(ko,{shouldForwardProp:t=>E(t)||"classes"===t,name:"MuiOutlinedInput",slot:"Root",overridesResolver:wo})(Ki((t=>{let{theme:e}=t;const n="light"===e.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{position:"relative",borderRadius:(e.vars||e).shape.borderRadius,[`&:hover .${Uo.notchedOutline}`]:{borderColor:(e.vars||e).palette.text.primary},"@media (hover: none)":{[`&:hover .${Uo.notchedOutline}`]:{borderColor:e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:n}},[`&.${Uo.focused} .${Uo.notchedOutline}`]:{borderWidth:2},variants:[...Object.entries(e.palette).filter(Qi()).map((t=>{let[n]=t;return{props:{color:n},style:{[`&.${Uo.focused} .${Uo.notchedOutline}`]:{borderColor:(e.vars||e).palette[n].main}}}})),{props:{},style:{[`&.${Uo.error} .${Uo.notchedOutline}`]:{borderColor:(e.vars||e).palette.error.main},[`&.${Uo.disabled} .${Uo.notchedOutline}`]:{borderColor:(e.vars||e).palette.action.disabled}}},{props:t=>{let{ownerState:e}=t;return e.startAdornment},style:{paddingLeft:14}},{props:t=>{let{ownerState:e}=t;return e.endAdornment},style:{paddingRight:14}},{props:t=>{let{ownerState:e}=t;return e.multiline},style:{padding:"16.5px 14px"}},{props:t=>{let{ownerState:e,size:n}=t;return e.multiline&&"small"===n},style:{padding:"8.5px 14px"}}]}}))),Wo=Cr((function(t){const{children:e,classes:n,className:r,label:i,notched:s,...a}=t,o=null!=i&&""!==i,u={...t,notched:s,withLabel:o};return(0,zr.jsx)(Ko,{"aria-hidden":!0,className:r,ownerState:u,...a,children:(0,zr.jsx)(jo,{ownerState:u,children:o?(0,zr.jsx)("span",{children:i}):Vo||(Vo=(0,zr.jsx)("span",{className:"notranslate","aria-hidden":!0,children:"\u200b"}))})})}),{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(t,e)=>e.notchedOutline})(Ki((t=>{let{theme:e}=t;const n="light"===e.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:n}}))),Ho=Cr(To,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:So})(Ki((t=>{let{theme:e}=t;return{padding:"16.5px 14px",...!e.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:"light"===e.palette.mode?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===e.palette.mode?null:"#fff",caretColor:"light"===e.palette.mode?null:"#fff",borderRadius:"inherit"}},...e.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[e.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{padding:"8.5px 14px"}},{props:t=>{let{ownerState:e}=t;return e.multiline},style:{padding:0}},{props:t=>{let{ownerState:e}=t;return e.startAdornment},style:{paddingLeft:0}},{props:t=>{let{ownerState:e}=t;return e.endAdornment},style:{paddingRight:0}}]}}))),Xo=t.forwardRef((function(e,n){var r;const i=Nr({props:e,name:"MuiOutlinedInput"}),{components:s={},fullWidth:a=!1,inputComponent:u="input",label:l,multiline:c=!1,notched:h,slots:p={},type:d="text",...f}=i,m=(t=>{const{classes:e}=t,n=o({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},Bo,e);return{...e,...n}})(i),g=Or(),y=ao({props:i,muiFormControl:g,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),b={...i,color:y.color||"primary",disabled:y.disabled,error:y.error,focused:y.focused,formControl:g,fullWidth:a,hiddenLabel:y.hiddenLabel,multiline:c,size:y.size,type:d},x=p.root??s.Root??Go,v=p.input??s.Input??Ho;return(0,zr.jsx)(_o,{slots:{root:x,input:v},renderSuffix:e=>(0,zr.jsx)(Wo,{ownerState:b,className:m.notchedOutline,label:null!=l&&""!==l&&y.required?r||(r=(0,zr.jsxs)(t.Fragment,{children:[l,"\u2009","*"]})):l,notched:"undefined"!==typeof h?h:Boolean(e.startAdornment||e.filled||e.focused)}),fullWidth:a,inputComponent:u,multiline:c,ref:n,type:d,...f,classes:{...m,notchedOutline:null}})}));Xo.muiName="Input";const qo=Xo,Yo={name:"MuiSelect",overridesResolver:(t,e)=>e.root,shouldForwardProp:t=>E(t)&&"variant"!==t,slot:"Root"},Jo=Cr(Ro,Yo)(""),Qo=Cr(qo,Yo)(""),Zo=Cr(Fo,Yo)(""),tu=t.forwardRef((function(e,n){const r=Nr({name:"MuiSelect",props:e}),{autoWidth:i=!1,children:s,classes:u={},className:l,defaultOpen:c=!1,displayEmpty:h=!1,IconComponent:p=oo,id:d,input:f,inputProps:m,label:g,labelId:y,MenuProps:b,multiple:x=!1,native:v=!1,onClose:w,onOpen:S,open:k,renderValue:T,SelectDisplayProps:A,variant:E="outlined",..._}=r,L=v?Ha:so,C=ao({props:r,muiFormControl:Or(),states:["variant","error"]}),I=C.variant||E,$={...r,variant:I,classes:u},O=(t=>{const{classes:e}=t,n=o({root:["root"]},Ya,e);return{...e,...n}})($),{root:R,...D}=O,z=f||{standard:(0,zr.jsx)(Jo,{ownerState:$}),outlined:(0,zr.jsx)(Qo,{label:g,ownerState:$}),filled:(0,zr.jsx)(Zo,{ownerState:$})}[I],M=Kr(n,as(z));return(0,zr.jsx)(t.Fragment,{children:t.cloneElement(z,{inputComponent:L,inputProps:{children:s,error:C.error,IconComponent:p,variant:I,type:void 0,multiple:x,...v?{id:d}:{autoWidth:i,defaultOpen:c,displayEmpty:h,labelId:y,MenuProps:b,onClose:w,onOpen:S,open:k,renderValue:T,SelectDisplayProps:{id:d,...A}},...m,classes:m?fe(D,m.classes):D,...f?f.props.inputProps:{}},...(x&&v||h)&&"outlined"===I?{notched:!0}:{},ref:M,className:a(z.props.className,l,O.root),...!f&&{variant:I},..._})})}));tu.muiName="Select";const eu=tu;const nu=gi("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]);const ru=gi("MuiListItemIcon",["root","alignItemsFlexStart"]);const iu=gi("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]);function su(t){return mi("MuiMenuItem",t)}const au=gi("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),ou=Cr(Li,{shouldForwardProp:t=>E(t)||"classes"===t,name:"MuiMenuItem",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.dense&&e.dense,n.divider&&e.divider,!n.disableGutters&&e.gutters]}})(Ki((t=>{let{theme:e}=t;return{...e.typography.body1,display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap","&:hover":{textDecoration:"none",backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${au.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:g(e.palette.primary.main,e.palette.action.selectedOpacity),[`&.${au.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:g(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},[`&.${au.selected}:hover`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:g(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:g(e.palette.primary.main,e.palette.action.selectedOpacity)}},[`&.${au.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${au.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity},[`& + .${nu.root}`]:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},[`& + .${nu.inset}`]:{marginLeft:52},[`& .${iu.root}`]:{marginTop:0,marginBottom:0},[`& .${iu.inset}`]:{paddingLeft:36},[`& .${ru.root}`]:{minWidth:36},variants:[{props:t=>{let{ownerState:e}=t;return!e.disableGutters},style:{paddingLeft:16,paddingRight:16}},{props:t=>{let{ownerState:e}=t;return e.divider},style:{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,backgroundClip:"padding-box"}},{props:t=>{let{ownerState:e}=t;return!e.dense},style:{[e.breakpoints.up("sm")]:{minHeight:"auto"}}},{props:t=>{let{ownerState:e}=t;return e.dense},style:{minHeight:32,paddingTop:4,paddingBottom:4,...e.typography.body2,[`& .${ru.root} svg`]:{fontSize:"1.25rem"}}}]}}))),uu=t.forwardRef((function(e,n){const r=Nr({props:e,name:"MuiMenuItem"}),{autoFocus:i=!1,component:s="li",dense:u=!1,divider:l=!1,disableGutters:c=!1,focusVisibleClassName:h,role:p="menuitem",tabIndex:d,className:f,...m}=r,g=t.useContext(fs),y=t.useMemo((()=>({dense:u||g.dense||!1,disableGutters:c})),[g.dense,u,c]),b=t.useRef(null);vs((()=>{i&&b.current&&b.current.focus()}),[i]);const x={...r,dense:y.dense,divider:l,disableGutters:c},v=(t=>{const{disabled:e,dense:n,divider:r,disableGutters:i,selected:s,classes:a}=t,u=o({root:["root",n&&"dense",e&&"disabled",!i&&"gutters",r&&"divider",s&&"selected"]},su,a);return{...a,...u}})(r),w=Kr(b,n);let S;return r.disabled||(S=void 0!==d?d:-1),(0,zr.jsx)(fs.Provider,{value:y,children:(0,zr.jsx)(ou,{ref:w,role:p,tabIndex:S,component:s,focusVisibleClassName:a(v.focusVisible,h),className:a(v.root,f),...m,ownerState:x,classes:v})})})),lu=ls;function cu(t){return mi("MuiCircularProgress",t)}gi("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const hu=44,pu=ci`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`,du=ci`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: -126px;
  }
`,fu="string"!==typeof pu?li`
        animation: ${pu} 1.4s linear infinite;
      `:null,mu="string"!==typeof du?li`
        animation: ${du} 1.4s ease-in-out infinite;
      `:null,gu=Cr("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`color${T(n.color)}`]]}})(Ki((t=>{let{theme:e}=t;return{display:"inline-block",variants:[{props:{variant:"determinate"},style:{transition:e.transitions.create("transform")}},{props:{variant:"indeterminate"},style:fu||{animation:`${pu} 1.4s linear infinite`}},...Object.entries(e.palette).filter(Qi()).map((t=>{let[n]=t;return{props:{color:n},style:{color:(e.vars||e).palette[n].main}}}))]}}))),yu=Cr("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(t,e)=>e.svg})({display:"block"}),bu=Cr("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.circle,e[`circle${T(n.variant)}`],n.disableShrink&&e.circleDisableShrink]}})(Ki((t=>{let{theme:e}=t;return{stroke:"currentColor",variants:[{props:{variant:"determinate"},style:{transition:e.transitions.create("stroke-dashoffset")}},{props:{variant:"indeterminate"},style:{strokeDasharray:"80px, 200px",strokeDashoffset:0}},{props:t=>{let{ownerState:e}=t;return"indeterminate"===e.variant&&!e.disableShrink},style:mu||{animation:`${du} 1.4s ease-in-out infinite`}}]}}))),xu=t.forwardRef((function(t,e){const n=Nr({props:t,name:"MuiCircularProgress"}),{className:r,color:i="primary",disableShrink:s=!1,size:u=40,style:l,thickness:c=3.6,value:h=0,variant:p="indeterminate",...d}=n,f={...n,color:i,disableShrink:s,size:u,thickness:c,value:h,variant:p},m=(t=>{const{classes:e,variant:n,color:r,disableShrink:i}=t;return o({root:["root",n,`color${T(r)}`],svg:["svg"],circle:["circle",`circle${T(n)}`,i&&"circleDisableShrink"]},cu,e)})(f),g={},y={},b={};if("determinate"===p){const t=2*Math.PI*((hu-c)/2);g.strokeDasharray=t.toFixed(3),b["aria-valuenow"]=Math.round(h),g.strokeDashoffset=`${((100-h)/100*t).toFixed(3)}px`,y.transform="rotate(-90deg)"}return(0,zr.jsx)(gu,{className:a(m.root,r),style:{width:u,height:u,...y,...l},ownerState:f,ref:e,role:"progressbar",...b,...d,children:(0,zr.jsx)(yu,{className:m.svg,ownerState:f,viewBox:"22 22 44 44",children:(0,zr.jsx)(bu,{className:m.circle,style:g,ownerState:f,cx:hu,cy:hu,r:(hu-c)/2,fill:"none",strokeWidth:c})})})})),vu=xu;function wu(t){return mi("MuiButton",t)}const Su=gi("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge","loading","loadingWrapper","loadingIconPlaceholder","loadingIndicator","loadingPositionCenter","loadingPositionStart","loadingPositionEnd"]);const ku=t.createContext({});const Tu=t.createContext(void 0),Au=[{props:{size:"small"},style:{"& > *:nth-of-type(1)":{fontSize:18}}},{props:{size:"medium"},style:{"& > *:nth-of-type(1)":{fontSize:20}}},{props:{size:"large"},style:{"& > *:nth-of-type(1)":{fontSize:22}}}],Eu=Cr(Li,{shouldForwardProp:t=>E(t)||"classes"===t,name:"MuiButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`${n.variant}${T(n.color)}`],e[`size${T(n.size)}`],e[`${n.variant}Size${T(n.size)}`],"inherit"===n.color&&e.colorInherit,n.disableElevation&&e.disableElevation,n.fullWidth&&e.fullWidth,n.loading&&e.loading]}})(Ki((t=>{let{theme:e}=t;const n="light"===e.palette.mode?e.palette.grey[300]:e.palette.grey[800],r="light"===e.palette.mode?e.palette.grey.A100:e.palette.grey[700];return{...e.typography.button,minWidth:64,padding:"6px 16px",border:0,borderRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create(["background-color","box-shadow","border-color","color"],{duration:e.transitions.duration.short}),"&:hover":{textDecoration:"none"},[`&.${Su.disabled}`]:{color:(e.vars||e).palette.action.disabled},variants:[{props:{variant:"contained"},style:{color:"var(--variant-containedColor)",backgroundColor:"var(--variant-containedBg)",boxShadow:(e.vars||e).shadows[2],"&:hover":{boxShadow:(e.vars||e).shadows[4],"@media (hover: none)":{boxShadow:(e.vars||e).shadows[2]}},"&:active":{boxShadow:(e.vars||e).shadows[8]},[`&.${Su.focusVisible}`]:{boxShadow:(e.vars||e).shadows[6]},[`&.${Su.disabled}`]:{color:(e.vars||e).palette.action.disabled,boxShadow:(e.vars||e).shadows[0],backgroundColor:(e.vars||e).palette.action.disabledBackground}}},{props:{variant:"outlined"},style:{padding:"5px 15px",border:"1px solid currentColor",borderColor:"var(--variant-outlinedBorder, currentColor)",backgroundColor:"var(--variant-outlinedBg)",color:"var(--variant-outlinedColor)",[`&.${Su.disabled}`]:{border:`1px solid ${(e.vars||e).palette.action.disabledBackground}`}}},{props:{variant:"text"},style:{padding:"6px 8px",color:"var(--variant-textColor)",backgroundColor:"var(--variant-textBg)"}},...Object.entries(e.palette).filter(Qi()).map((t=>{let[n]=t;return{props:{color:n},style:{"--variant-textColor":(e.vars||e).palette[n].main,"--variant-outlinedColor":(e.vars||e).palette[n].main,"--variant-outlinedBorder":e.vars?`rgba(${e.vars.palette[n].mainChannel} / 0.5)`:g(e.palette[n].main,.5),"--variant-containedColor":(e.vars||e).palette[n].contrastText,"--variant-containedBg":(e.vars||e).palette[n].main,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":(e.vars||e).palette[n].dark,"--variant-textBg":e.vars?`rgba(${e.vars.palette[n].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:g(e.palette[n].main,e.palette.action.hoverOpacity),"--variant-outlinedBorder":(e.vars||e).palette[n].main,"--variant-outlinedBg":e.vars?`rgba(${e.vars.palette[n].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:g(e.palette[n].main,e.palette.action.hoverOpacity)}}}}})),{props:{color:"inherit"},style:{color:"inherit",borderColor:"currentColor","--variant-containedBg":e.vars?e.vars.palette.Button.inheritContainedBg:n,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":e.vars?e.vars.palette.Button.inheritContainedHoverBg:r,"--variant-textBg":e.vars?`rgba(${e.vars.palette.text.primaryChannel} / ${e.vars.palette.action.hoverOpacity})`:g(e.palette.text.primary,e.palette.action.hoverOpacity),"--variant-outlinedBg":e.vars?`rgba(${e.vars.palette.text.primaryChannel} / ${e.vars.palette.action.hoverOpacity})`:g(e.palette.text.primary,e.palette.action.hoverOpacity)}}}},{props:{size:"small",variant:"text"},style:{padding:"4px 5px",fontSize:e.typography.pxToRem(13)}},{props:{size:"large",variant:"text"},style:{padding:"8px 11px",fontSize:e.typography.pxToRem(15)}},{props:{size:"small",variant:"outlined"},style:{padding:"3px 9px",fontSize:e.typography.pxToRem(13)}},{props:{size:"large",variant:"outlined"},style:{padding:"7px 21px",fontSize:e.typography.pxToRem(15)}},{props:{size:"small",variant:"contained"},style:{padding:"4px 10px",fontSize:e.typography.pxToRem(13)}},{props:{size:"large",variant:"contained"},style:{padding:"8px 22px",fontSize:e.typography.pxToRem(15)}},{props:{disableElevation:!0},style:{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${Su.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${Su.disabled}`]:{boxShadow:"none"}}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{loadingPosition:"center"},style:{transition:e.transitions.create(["background-color","box-shadow","border-color"],{duration:e.transitions.duration.short}),[`&.${Su.loading}`]:{color:"transparent"}}}]}}))),_u=Cr("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.startIcon,n.loading&&e.startIconLoadingStart,e[`iconSize${T(n.size)}`]]}})((t=>{let{theme:e}=t;return{display:"inherit",marginRight:8,marginLeft:-4,variants:[{props:{size:"small"},style:{marginLeft:-2}},{props:{loadingPosition:"start",loading:!0},style:{transition:e.transitions.create(["opacity"],{duration:e.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"start",loading:!0,fullWidth:!0},style:{marginRight:-8}},...Au]}})),Lu=Cr("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.endIcon,n.loading&&e.endIconLoadingEnd,e[`iconSize${T(n.size)}`]]}})((t=>{let{theme:e}=t;return{display:"inherit",marginRight:-4,marginLeft:8,variants:[{props:{size:"small"},style:{marginRight:-2}},{props:{loadingPosition:"end",loading:!0},style:{transition:e.transitions.create(["opacity"],{duration:e.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"end",loading:!0,fullWidth:!0},style:{marginLeft:-8}},...Au]}})),Cu=Cr("span",{name:"MuiButton",slot:"LoadingIndicator",overridesResolver:(t,e)=>e.loadingIndicator})((t=>{let{theme:e}=t;return{display:"none",position:"absolute",visibility:"visible",variants:[{props:{loading:!0},style:{display:"flex"}},{props:{loadingPosition:"start"},style:{left:14}},{props:{loadingPosition:"start",size:"small"},style:{left:10}},{props:{variant:"text",loadingPosition:"start"},style:{left:6}},{props:{loadingPosition:"center"},style:{left:"50%",transform:"translate(-50%)",color:(e.vars||e).palette.action.disabled}},{props:{loadingPosition:"end"},style:{right:14}},{props:{loadingPosition:"end",size:"small"},style:{right:10}},{props:{variant:"text",loadingPosition:"end"},style:{right:6}},{props:{loadingPosition:"start",fullWidth:!0},style:{position:"relative",left:-10}},{props:{loadingPosition:"end",fullWidth:!0},style:{position:"relative",right:-10}}]}})),Iu=Cr("span",{name:"MuiButton",slot:"LoadingIconPlaceholder",overridesResolver:(t,e)=>e.loadingIconPlaceholder})({display:"inline-block",width:"1em",height:"1em"}),$u=t.forwardRef((function(e,n){const r=t.useContext(ku),i=t.useContext(Tu),s=Nr({props:Dr(r,e),name:"MuiButton"}),{children:u,color:l="primary",component:c="button",className:h,disabled:p=!1,disableElevation:d=!1,disableFocusRipple:f=!1,endIcon:m,focusVisibleClassName:g,fullWidth:y=!1,id:b,loading:x=null,loadingIndicator:v,loadingPosition:w="center",size:S="medium",startIcon:k,type:A,variant:E="text",..._}=s,L=lu(b),C=v??(0,zr.jsx)(vu,{"aria-labelledby":L,color:"inherit",size:16}),I={...s,color:l,component:c,disabled:p,disableElevation:d,disableFocusRipple:f,fullWidth:y,loading:x,loadingIndicator:C,loadingPosition:w,size:S,type:A,variant:E},$=(t=>{const{color:e,disableElevation:n,fullWidth:r,size:i,variant:s,loading:a,loadingPosition:u,classes:l}=t,c=o({root:["root",a&&"loading",s,`${s}${T(e)}`,`size${T(i)}`,`${s}Size${T(i)}`,`color${T(e)}`,n&&"disableElevation",r&&"fullWidth",a&&`loadingPosition${T(u)}`],startIcon:["icon","startIcon",`iconSize${T(i)}`],endIcon:["icon","endIcon",`iconSize${T(i)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]},wu,l);return{...l,...c}})(I),O=(k||x&&"start"===w)&&(0,zr.jsx)(_u,{className:$.startIcon,ownerState:I,children:k||(0,zr.jsx)(Iu,{className:$.loadingIconPlaceholder,ownerState:I})}),R=(m||x&&"end"===w)&&(0,zr.jsx)(Lu,{className:$.endIcon,ownerState:I,children:m||(0,zr.jsx)(Iu,{className:$.loadingIconPlaceholder,ownerState:I})}),D=i||"",z="boolean"===typeof x?(0,zr.jsx)("span",{className:$.loadingWrapper,style:{display:"contents"},children:x&&(0,zr.jsx)(Cu,{className:$.loadingIndicator,ownerState:I,children:C})}):null;return(0,zr.jsxs)(Eu,{ownerState:I,className:a(r.className,$.root,h,D),component:c,disabled:p||x,focusRipple:!f,focusVisibleClassName:a($.focusVisible,g),ref:n,type:A,id:x?L:b,..._,classes:$,children:[O,"end"!==w&&z,u,"end"===w&&z,R]})})),Ou=$u;const Ru=gi("MuiBox",["root"]),Du=Ar(),zu=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{themeId:n,defaultTheme:r,defaultClassName:i="MuiBox-root",generateClassName:s}=e,o=ue("div",{shouldForwardProp:t=>"theme"!==t&&"sx"!==t&&"as"!==t})(xn);return t.forwardRef((function(t,e){const u=Bs(r),{className:l,component:c="div",...h}=fo(t);return(0,zr.jsx)(o,{as:c,ref:e,className:a(l,s?s(i):i),theme:n&&u[n]||u,...h})}))}({themeId:_r,defaultTheme:Du,defaultClassName:Ru.root,generateClassName:di.generate}),Mu=zu;function Pu(t){return mi("MuiTypography",t)}gi("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const Nu={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},Fu=fo,Vu=Cr("span",{name:"MuiTypography",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.variant&&e[n.variant],"inherit"!==n.align&&e[`align${T(n.align)}`],n.noWrap&&e.noWrap,n.gutterBottom&&e.gutterBottom,n.paragraph&&e.paragraph]}})(Ki((t=>{let{theme:e}=t;return{margin:0,variants:[{props:{variant:"inherit"},style:{font:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}},...Object.entries(e.typography).filter((t=>{let[e,n]=t;return"inherit"!==e&&n&&"object"===typeof n})).map((t=>{let[e,n]=t;return{props:{variant:e},style:n}})),...Object.entries(e.palette).filter(Qi()).map((t=>{let[n]=t;return{props:{color:n},style:{color:(e.vars||e).palette[n].main}}})),...Object.entries(e.palette?.text||{}).filter((t=>{let[,e]=t;return"string"===typeof e})).map((t=>{let[n]=t;return{props:{color:`text${T(n)}`},style:{color:(e.vars||e).palette.text[n]}}})),{props:t=>{let{ownerState:e}=t;return"inherit"!==e.align},style:{textAlign:"var(--Typography-textAlign)"}},{props:t=>{let{ownerState:e}=t;return e.noWrap},style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},{props:t=>{let{ownerState:e}=t;return e.gutterBottom},style:{marginBottom:"0.35em"}},{props:t=>{let{ownerState:e}=t;return e.paragraph},style:{marginBottom:16}}]}}))),Ku={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},ju=t.forwardRef((function(t,e){const{color:n,...r}=Nr({props:t,name:"MuiTypography"}),i=Fu({...r,...!Nu[n]&&{color:n}}),{align:s="inherit",className:u,component:l,gutterBottom:c=!1,noWrap:h=!1,paragraph:p=!1,variant:d="body1",variantMapping:f=Ku,...m}=i,g={...i,align:s,color:n,className:u,component:l,gutterBottom:c,noWrap:h,paragraph:p,variant:d,variantMapping:f},y=l||(p?"p":f[d]||Ku[d])||"span",b=(t=>{const{align:e,gutterBottom:n,noWrap:r,paragraph:i,variant:s,classes:a}=t;return o({root:["root",s,"inherit"!==t.align&&`align${T(e)}`,n&&"gutterBottom",r&&"noWrap",i&&"paragraph"]},Pu,a)})(g);return(0,zr.jsx)(Vu,{as:y,ref:e,className:a(b.root,u),...m,ownerState:g,style:{..."inherit"!==s&&{"--Typography-textAlign":s},...m.style}})})),Bu=ju,Uu=(t,e)=>Math.floor(Math.random()*(e-t+1))+t,Gu=()=>{const t=Uu(5,100),e=Uu(5,100);return{display:`${t} + ${e}`,expectedResult:t+e,userResult:null,resultCorrect:!1,learningModel:[t,e,1],timeElapsed:-1}},Wu=()=>{const t=Uu(5,100),e=Uu(5,100);return{display:`${t} - ${e}`,expectedResult:t-e,userResult:null,resultCorrect:!1,learningModel:[t,e,2],timeElapsed:-1}},Hu=()=>{const t=Uu(1,15),e=Uu(4,30);return{display:`${t} * ${e}`,expectedResult:t*e,userResult:null,resultCorrect:!1,learningModel:[t,e,3],timeElapsed:-1}},Xu=()=>{const t=Uu(1,10),e=Uu(1,10),n=t*e;return{display:`${n} \xf7 ${t}`,expectedResult:e,userResult:null,resultCorrect:!1,learningModel:[n,t,4],timeElapsed:-1}},qu=()=>{const t=Uu(100,999),e=Uu(100,999);return{display:`${t} + ${e}`,expectedResult:t+e,userResult:null,resultCorrect:!1,learningModel:[t,e,1],timeElapsed:-1}},Yu=()=>{const t=Uu(100,999),e=Uu(100,t);return{display:`${t} - ${e}`,expectedResult:t-e,userResult:null,resultCorrect:!1,learningModel:[t,e,2],timeElapsed:-1}},Ju=()=>{const t=Uu(10,99),e=Uu(10,99);return{display:`${t} * ${e}`,expectedResult:t*e,userResult:null,resultCorrect:!1,learningModel:[t,e,3],timeElapsed:-1}},Qu=()=>{const t=Uu(5,20),e=Uu(10,99),n=t*e;return{display:`${n} \xf7 ${t}`,expectedResult:e,userResult:null,resultCorrect:!1,learningModel:[n,t,4],timeElapsed:-1}},Zu=()=>{const t=Uu(2,30);return{display:`${t}\xb2`,expectedResult:t*t,userResult:null,resultCorrect:!1,learningModel:[t,.1,5],timeElapsed:-1}},tl=()=>{const t=Uu(2,10);return{display:`${t}\xb3`,expectedResult:t*t*t,userResult:null,resultCorrect:!1,learningModel:[t,.1,6],timeElapsed:-1}},el=e=>{let{setState:n,data:r,setData:s}=e;const[a,o]=(0,t.useState)(!1),[u,l]=(0,t.useState)(!1),c=()=>{u||(o(!0),l(!0))},h=()=>{o(!1)};return(0,zr.jsxs)("div",{children:[(0,zr.jsxs)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[(0,zr.jsx)("h1",{style:{textAlign:"center"},children:"Willkommen zu Mental Math!"}),(0,zr.jsxs)("div",{style:{display:"flex",flexDirection:"row",alignItems:"center"},children:[(0,zr.jsx)(ss,{checked:r.smallAddSub,onChange:()=>s((t=>({...t,smallAddSub:!t.smallAddSub})))}),(0,zr.jsx)("div",{className:"home-component-checkbox-text",onClick:()=>s((t=>({...t,smallAddSub:!t.smallAddSub}))),children:"Kleine Addition/Subtraktion"})]}),(0,zr.jsxs)("div",{style:{display:"flex",flexDirection:"row",alignItems:"center"},children:[(0,zr.jsx)(ss,{checked:r.smallMulDiv,onChange:()=>s((t=>({...t,smallMulDiv:!t.smallMulDiv})))}),(0,zr.jsx)("div",{className:"home-component-checkbox-text",onClick:()=>s((t=>({...t,smallMulDiv:!t.smallMulDiv}))),children:"Kleine Multiplikation/Division"})]}),(0,zr.jsxs)("div",{style:{display:"flex",flexDirection:"row",alignItems:"center"},children:[(0,zr.jsx)(ss,{checked:r.largeAddSub,onChange:()=>s((t=>({...t,largeAddSub:!t.largeAddSub})))}),(0,zr.jsx)("div",{className:"home-component-checkbox-text",onClick:()=>s((t=>({...t,largeAddSub:!t.largeAddSub}))),children:"Grosse Addition/Subtraktion"})]}),(0,zr.jsxs)("div",{style:{display:"flex",flexDirection:"row",alignItems:"center"},children:[(0,zr.jsx)(ss,{checked:r.largeMulDiv,onChange:()=>s((t=>({...t,largeMulDiv:!t.largeMulDiv})))}),(0,zr.jsx)("div",{className:"home-component-checkbox-text",onClick:()=>s((t=>({...t,largeMulDiv:!t.largeMulDiv}))),children:"Grosse Multiplikation/Division"})]}),(0,zr.jsxs)("div",{style:{display:"flex",flexDirection:"row",alignItems:"center"},children:[(0,zr.jsx)(ss,{checked:r.square,onChange:()=>s((t=>({...t,square:!t.square})))}),(0,zr.jsx)("div",{className:"home-component-checkbox-text",onClick:()=>s((t=>({...t,square:!t.square}))),children:"Quadrate und Kubikzahlen"})]}),(0,zr.jsxs)("div",{style:{display:"flex",flexDirection:"row",alignItems:"center"},children:[(0,zr.jsx)(ss,{checked:r.audioOnly,onChange:()=>{s((t=>({...t,audioOnly:!t.audioOnly}))),c()}}),(0,zr.jsx)("div",{className:"home-component-checkbox-text",onClick:()=>{s((t=>({...t,audioOnly:!t.audioOnly}))),c()},children:"Nur Audio (keine visuelle Anzeige)"})]}),(0,zr.jsxs)("div",{style:{marginTop:"15px"},children:["Anzahl Aufgaben:",(0,zr.jsx)("br",{}),(0,zr.jsxs)(eu,{id:"number-exercises-select",value:r.numExer,label:"Age",sx:{width:"150px"},onChange:t=>s((e=>({...e,numExer:Number(t.target.value)}))),children:[(0,zr.jsx)(uu,{value:1,children:"1"},"1"),Array.from({length:20},((t,e)=>5*(e+1))).map((t=>(0,zr.jsx)(uu,{value:t,children:t},t)))]})]}),(0,zr.jsx)("div",{style:{marginTop:"15px"},children:(0,zr.jsx)(Ou,{variant:"contained",onClick:()=>{const t=(t=>{const e=[],n={};t.smallAddSub&&(n.smallAdd=Gu,n.smallSub=Wu),t.smallMulDiv&&(n.smallMul=Hu,n.smallDiv=Xu),t.largeAddSub&&(n.largeAdd=qu,n.largeSub=Yu),t.largeMulDiv&&(n.largeMul=Ju,n.largeDiv=Qu),t.square&&(n.square=Zu,n.cube=tl);const r=Object.keys(n);if(0===r.length)return e;for(let i=0;i<t.numExer;i++){const t=r[Math.floor(Math.random()*r.length)];e.push(n[t]())}return e})(r);s((e=>({...e,exercises:t}))),n(i.EXERCISE)},children:"Weiter"})})]}),(0,zr.jsx)(Sa,{open:a,onClose:h,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,zr.jsxs)(Mu,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",minWidth:280,width:"50%",bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4},children:[(0,zr.jsx)(Bu,{id:"modal-modal-title",variant:"h6",component:"h2",children:"Audio Warnung!"}),(0,zr.jsxs)(Bu,{id:"modal-modal-description",sx:{mt:2,display:"flex",flexDirection:"column",gap:"10px"},children:["Es ist m\xf6glich, dass die Audio Funktion nicht funktioniert. Es gibt vorallem Kompatibilit\xe4tsprobleme mit Mobileger\xe4ten.",(0,zr.jsx)("br",{}),"Falls Audio nicht funktioniert, bitte Checkbox f\xfcr Audio deaktivieren.",(0,zr.jsx)(Ou,{variant:"contained",onClick:h,children:"Verstanden"})]})]})})]})};function nl(t){return mi("MuiTableContainer",t)}gi("MuiTableContainer",["root"]);const rl=Cr("div",{name:"MuiTableContainer",slot:"Root",overridesResolver:(t,e)=>e.root})({width:"100%",overflowX:"auto"}),il=t.forwardRef((function(t,e){const n=Nr({props:t,name:"MuiTableContainer"}),{className:r,component:i="div",...s}=n,u={...n,component:i},l=(t=>{const{classes:e}=t;return o({root:["root"]},nl,e)})(u);return(0,zr.jsx)(rl,{ref:e,as:i,className:a(l.root,r),ownerState:u,...s})}));const sl=t.createContext();function al(t){return mi("MuiTable",t)}gi("MuiTable",["root","stickyHeader"]);const ol=Cr("table",{name:"MuiTable",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.stickyHeader&&e.stickyHeader]}})(Ki((t=>{let{theme:e}=t;return{display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":{...e.typography.body2,padding:e.spacing(2),color:(e.vars||e).palette.text.secondary,textAlign:"left",captionSide:"bottom"},variants:[{props:t=>{let{ownerState:e}=t;return e.stickyHeader},style:{borderCollapse:"separate"}}]}}))),ul="table",ll=t.forwardRef((function(e,n){const r=Nr({props:e,name:"MuiTable"}),{className:i,component:s=ul,padding:u="normal",size:l="medium",stickyHeader:c=!1,...h}=r,p={...r,component:s,padding:u,size:l,stickyHeader:c},d=(t=>{const{classes:e,stickyHeader:n}=t;return o({root:["root",n&&"stickyHeader"]},al,e)})(p),f=t.useMemo((()=>({padding:u,size:l,stickyHeader:c})),[u,l,c]);return(0,zr.jsx)(sl.Provider,{value:f,children:(0,zr.jsx)(ol,{as:s,role:s===ul?null:"table",ref:n,className:a(d.root,i),ownerState:p,...h})})})),cl=ll;const hl=t.createContext();function pl(t){return mi("MuiTableHead",t)}gi("MuiTableHead",["root"]);const dl=Cr("thead",{name:"MuiTableHead",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"table-header-group"}),fl={variant:"head"},ml="thead",gl=t.forwardRef((function(t,e){const n=Nr({props:t,name:"MuiTableHead"}),{className:r,component:i=ml,...s}=n,u={...n,component:i},l=(t=>{const{classes:e}=t;return o({root:["root"]},pl,e)})(u);return(0,zr.jsx)(hl.Provider,{value:fl,children:(0,zr.jsx)(dl,{as:i,className:a(l.root,r),ref:e,role:i===ml?null:"rowgroup",ownerState:u,...s})})}));function yl(t){return mi("MuiTableRow",t)}const bl=gi("MuiTableRow",["root","selected","hover","head","footer"]),xl=Cr("tr",{name:"MuiTableRow",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.head&&e.head,n.footer&&e.footer]}})(Ki((t=>{let{theme:e}=t;return{color:"inherit",display:"table-row",verticalAlign:"middle",outline:0,[`&.${bl.hover}:hover`]:{backgroundColor:(e.vars||e).palette.action.hover},[`&.${bl.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:g(e.palette.primary.main,e.palette.action.selectedOpacity),"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:g(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity)}}}}))),vl="tr",wl=t.forwardRef((function(e,n){const r=Nr({props:e,name:"MuiTableRow"}),{className:i,component:s=vl,hover:u=!1,selected:l=!1,...c}=r,h=t.useContext(hl),p={...r,component:s,hover:u,selected:l,head:h&&"head"===h.variant,footer:h&&"footer"===h.variant},d=(t=>{const{classes:e,selected:n,hover:r,head:i,footer:s}=t;return o({root:["root",n&&"selected",r&&"hover",i&&"head",s&&"footer"]},yl,e)})(p);return(0,zr.jsx)(xl,{as:s,ref:n,className:a(d.root,i),role:s===vl?null:"row",ownerState:p,...c})})),Sl=wl;function kl(t){return mi("MuiTableCell",t)}const Tl=gi("MuiTableCell",["root","head","body","footer","sizeSmall","sizeMedium","paddingCheckbox","paddingNone","alignLeft","alignCenter","alignRight","alignJustify","stickyHeader"]),Al=Cr("td",{name:"MuiTableCell",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`size${T(n.size)}`],"normal"!==n.padding&&e[`padding${T(n.padding)}`],"inherit"!==n.align&&e[`align${T(n.align)}`],n.stickyHeader&&e.stickyHeader]}})(Ki((t=>{let{theme:e}=t;return{...e.typography.body2,display:"table-cell",verticalAlign:"inherit",borderBottom:e.vars?`1px solid ${e.vars.palette.TableCell.border}`:`1px solid\n    ${"light"===e.palette.mode?v(g(e.palette.divider,1),.88):b(g(e.palette.divider,1),.68)}`,textAlign:"left",padding:16,variants:[{props:{variant:"head"},style:{color:(e.vars||e).palette.text.primary,lineHeight:e.typography.pxToRem(24),fontWeight:e.typography.fontWeightMedium}},{props:{variant:"body"},style:{color:(e.vars||e).palette.text.primary}},{props:{variant:"footer"},style:{color:(e.vars||e).palette.text.secondary,lineHeight:e.typography.pxToRem(21),fontSize:e.typography.pxToRem(12)}},{props:{size:"small"},style:{padding:"6px 16px",[`&.${Tl.paddingCheckbox}`]:{width:24,padding:"0 12px 0 16px","& > *":{padding:0}}}},{props:{padding:"checkbox"},style:{width:48,padding:"0 0 0 4px"}},{props:{padding:"none"},style:{padding:0}},{props:{align:"left"},style:{textAlign:"left"}},{props:{align:"center"},style:{textAlign:"center"}},{props:{align:"right"},style:{textAlign:"right",flexDirection:"row-reverse"}},{props:{align:"justify"},style:{textAlign:"justify"}},{props:t=>{let{ownerState:e}=t;return e.stickyHeader},style:{position:"sticky",top:0,zIndex:2,backgroundColor:(e.vars||e).palette.background.default}}]}}))),El=t.forwardRef((function(e,n){const r=Nr({props:e,name:"MuiTableCell"}),{align:i="inherit",className:s,component:u,padding:l,scope:c,size:h,sortDirection:p,variant:d,...f}=r,m=t.useContext(sl),g=t.useContext(hl),y=g&&"head"===g.variant;let b;b=u||(y?"th":"td");let x=c;"td"===b?x=void 0:!x&&y&&(x="col");const v=d||g&&g.variant,w={...r,align:i,component:b,padding:l||(m&&m.padding?m.padding:"normal"),size:h||(m&&m.size?m.size:"medium"),sortDirection:p,stickyHeader:"head"===v&&m&&m.stickyHeader,variant:v},S=(t=>{const{classes:e,variant:n,align:r,padding:i,size:s,stickyHeader:a}=t;return o({root:["root",n,a&&"stickyHeader","inherit"!==r&&`align${T(r)}`,"normal"!==i&&`padding${T(i)}`,`size${T(s)}`]},kl,e)})(w);let k=null;return p&&(k="asc"===p?"ascending":"descending"),(0,zr.jsx)(Al,{as:b,ref:n,className:a(S.root,s),"aria-sort":k,scope:x,ownerState:w,...f})})),_l=El;function Ll(t){return mi("MuiTableBody",t)}gi("MuiTableBody",["root"]);const Cl=Cr("tbody",{name:"MuiTableBody",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"table-row-group"}),Il={variant:"body"},$l="tbody",Ol=t.forwardRef((function(t,e){const n=Nr({props:t,name:"MuiTableBody"}),{className:r,component:i=$l,...s}=n,u={...n,component:i},l=(t=>{const{classes:e}=t;return o({root:["root"]},Ll,e)})(u);return(0,zr.jsx)(hl.Provider,{value:Il,children:(0,zr.jsx)(Cl,{className:a(l.root,r),as:i,ref:e,role:i===$l?null:"rowgroup",ownerState:u,...s})})}));function Rl(t){return mi("MuiIconButton",t)}const Dl=gi("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge","loading","loadingIndicator","loadingWrapper"]),zl=Cr(Li,{name:"MuiIconButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.loading&&e.loading,"default"!==n.color&&e[`color${T(n.color)}`],n.edge&&e[`edge${T(n.edge)}`],e[`size${T(n.size)}`]]}})(Ki((t=>{let{theme:e}=t;return{textAlign:"center",flex:"0 0 auto",fontSize:e.typography.pxToRem(24),padding:8,borderRadius:"50%",color:(e.vars||e).palette.action.active,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),variants:[{props:t=>!t.disableRipple,style:{"--IconButton-hoverBg":e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:g(e.palette.action.active,e.palette.action.hoverOpacity),"&:hover":{backgroundColor:"var(--IconButton-hoverBg)","@media (hover: none)":{backgroundColor:"transparent"}}}},{props:{edge:"start"},style:{marginLeft:-12}},{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:{edge:"end"},style:{marginRight:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}}]}})),Ki((t=>{let{theme:e}=t;return{variants:[{props:{color:"inherit"},style:{color:"inherit"}},...Object.entries(e.palette).filter(Qi()).map((t=>{let[n]=t;return{props:{color:n},style:{color:(e.vars||e).palette[n].main}}})),...Object.entries(e.palette).filter(Qi()).map((t=>{let[n]=t;return{props:{color:n},style:{"--IconButton-hoverBg":e.vars?`rgba(${(e.vars||e).palette[n].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:g((e.vars||e).palette[n].main,e.palette.action.hoverOpacity)}}})),{props:{size:"small"},style:{padding:5,fontSize:e.typography.pxToRem(18)}},{props:{size:"large"},style:{padding:12,fontSize:e.typography.pxToRem(28)}}],[`&.${Dl.disabled}`]:{backgroundColor:"transparent",color:(e.vars||e).palette.action.disabled},[`&.${Dl.loading}`]:{color:"transparent"}}}))),Ml=Cr("span",{name:"MuiIconButton",slot:"LoadingIndicator",overridesResolver:(t,e)=>e.loadingIndicator})((t=>{let{theme:e}=t;return{display:"none",position:"absolute",visibility:"visible",top:"50%",left:"50%",transform:"translate(-50%, -50%)",color:(e.vars||e).palette.action.disabled,variants:[{props:{loading:!0},style:{display:"flex"}}]}})),Pl=t.forwardRef((function(t,e){const n=Nr({props:t,name:"MuiIconButton"}),{edge:r=!1,children:i,className:s,color:u="default",disabled:l=!1,disableFocusRipple:c=!1,size:h="medium",id:p,loading:d=null,loadingIndicator:f,...m}=n,g=lu(p),y=f??(0,zr.jsx)(vu,{"aria-labelledby":g,color:"inherit",size:16}),b={...n,edge:r,color:u,disabled:l,disableFocusRipple:c,loading:d,loadingIndicator:y,size:h},x=(t=>{const{classes:e,disabled:n,color:r,edge:i,size:s,loading:a}=t;return o({root:["root",a&&"loading",n&&"disabled","default"!==r&&`color${T(r)}`,i&&`edge${T(i)}`,`size${T(s)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]},Rl,e)})(b);return(0,zr.jsxs)(zl,{id:d?g:p,className:a(x.root,s),centerRipple:!0,focusRipple:!c,disabled:l||d,ref:e,...m,ownerState:b,children:["boolean"===typeof d&&(0,zr.jsx)("span",{className:x.loadingWrapper,style:{display:"contents"},children:(0,zr.jsx)(Ml,{className:x.loadingIndicator,ownerState:b,children:d&&y})}),i]})})),Nl=Pl,Fl=Wi((0,zr.jsx)("path",{d:"M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"}),"Check"),Vl=Wi((0,zr.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Clear");var Kl=n(277),jl=n.n(Kl);const Bl=e=>{let{setState:n,data:r,setData:s}=e;const[a,o]=(0,t.useState)([]),[u,l]=(0,t.useState)(0);(0,t.useEffect)((()=>{c()}),[]);const c=()=>{o(r.exercises);const t=r.exercises.filter((t=>!0===t.resultCorrect));l(Math.round(t.length/r.exercises.length*100))};return(0,zr.jsxs)("div",{children:[0===a.length&&(0,zr.jsx)(zr.Fragment,{children:(0,zr.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"},children:(0,zr.jsx)("p",{style:{maxWidth:"500px",textAlign:"center"},children:(0,zr.jsx)("b",{children:"Anzahl von Aufgaben wurde entweder auf 0 gesetzt oder kein Aufgabentyp wurde ausgew\xe4hlt. Aufgrund dessen konnten keine Aufgaben generiert werden!"})})})}),a.length>0&&(0,zr.jsx)(zr.Fragment,{children:(0,zr.jsxs)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[(0,zr.jsxs)("p",{style:{textAlign:"center"},children:["Das sind deine Resultate:",(0,zr.jsx)("br",{}),(0,zr.jsxs)("b",{children:[u,"%"]})]}),(0,zr.jsx)(il,{sx:{maxWidth:1e3},component:Aa,children:(0,zr.jsxs)(cl,{sx:{minWidth:350,maxWidth:1e3},"aria-label":"simple table",children:[(0,zr.jsx)(gl,{children:(0,zr.jsxs)(Sl,{children:[(0,zr.jsx)(_l,{children:"Aufgabe"}),(0,zr.jsx)(_l,{align:"right",children:"Korrekte L\xf6sung"}),(0,zr.jsx)(_l,{align:"right",children:"Deine L\xf6sung"}),(0,zr.jsx)(_l,{align:"right"})]})}),(0,zr.jsx)(Ol,{children:a.map(((t,e)=>(0,zr.jsxs)(Sl,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[(0,zr.jsx)(_l,{component:"th",scope:"row",children:t.display}),(0,zr.jsx)(_l,{align:"right",children:t.expectedResult}),(0,zr.jsx)(_l,{align:"right",children:t.userResult}),(0,zr.jsxs)(_l,{align:"right",children:[t.resultCorrect&&(0,zr.jsx)(zr.Fragment,{children:(0,zr.jsx)(Nl,{"aria-label":"delete",size:"large",style:{background:"#bff1bf"},children:(0,zr.jsx)(Fl,{})})}),!t.resultCorrect&&(0,zr.jsx)(zr.Fragment,{children:(0,zr.jsx)(Nl,{"aria-label":"delete",size:"large",style:{background:"rgb(238 170 170)"},children:(0,zr.jsx)(Vl,{})})})]})]},e)))})]})}),(0,zr.jsx)("div",{children:(0,zr.jsx)(Ou,{variant:"contained",onClick:()=>{const t=[];r.exercises.forEach((e=>{e.resultCorrect&&t.push({input:e.learningModel,output:[e.timeElapsed]})}));const e=JSON.stringify(t);console.log(e),jl()(e)},children:"Kopiere Training-Resultate in die Zwischenspeicherablage"})})]})}),(0,zr.jsx)("div",{style:{width:"100%",marginTop:"15px",display:"flex",justifyContent:"center"},children:(0,zr.jsx)(Ou,{variant:"contained",onClick:()=>(s((t=>({...t,exercises:[]}))),void n(i.HOME)),children:"Zur\xfcck zur Homepage"})})]})};var Ul=n(790);const Gl=JSON.parse('[{"input":[52,17,2],"output":[10]},{"input":[79,32,2],"output":[17]},{"input":[67,37,1],"output":[4]},{"input":[12,11,1],"output":[4]},{"input":[61,48,1],"output":[3]},{"input":[13,47,2],"output":[6]},{"input":[79,67,2],"output":[5]},{"input":[10,88,1],"output":[3]},{"input":[52,25,2],"output":[3]},{"input":[86,6,1],"output":[2]},{"input":[15,27,1],"output":[6]},{"input":[6,30,3],"output":[7]},{"input":[10,0,6],"output":[4]},{"input":[850,644,2],"output":[8]},{"input":[244,228,2],"output":[8]},{"input":[2,0,6],"output":[1]},{"input":[3190,55,4],"output":[38]},{"input":[47,21,1],"output":[5]},{"input":[8,4,4],"output":[1]},{"input":[100,51,2],"output":[3]},{"input":[910,638,1],"output":[7]},{"input":[44,29,1],"output":[11]},{"input":[87,78,2],"output":[6]},{"input":[383,268,2],"output":[7]},{"input":[794,506,2],"output":[12]},{"input":[12,4,4],"output":[2]},{"input":[44,65,3],"output":[32]},{"input":[5510,95,4],"output":[47]},{"input":[97,81,3],"output":[39]},{"input":[78,46,1],"output":[7]},{"input":[608,16,4],"output":[16]},{"input":[11,0,5],"output":[3]},{"input":[1344,14,4],"output":[8]},{"input":[453,127,2],"output":[14]},{"input":[4,2,4],"output":[2]},{"input":[3,25,3],"output":[2]},{"input":[347,159,1],"output":[12]},{"input":[66,22,1],"output":[2]},{"input":[2542,31,4],"output":[31]},{"input":[29,45,2],"output":[8]},{"input":[147,130,1],"output":[14]},{"input":[42,6,4],"output":[5]},{"input":[86,20,1],"output":[3]},{"input":[67,95,1],"output":[12]},{"input":[12,3,4],"output":[2]},{"input":[97,24,2],"output":[5]},{"input":[831,402,2],"output":[5]},{"input":[60,39,3],"output":[20]},{"input":[37,13,1],"output":[4]},{"input":[459,401,1],"output":[6]},{"input":[823,239,1],"output":[9]},{"input":[74,78,2],"output":[2]},{"input":[5,90,1],"output":[2]},{"input":[100,397,1],"output":[3]},{"input":[2068,47,4],"output":[13]},{"input":[18,32,2],"output":[4]},{"input":[87,46,1],"output":[5]},{"input":[3,0,6],"output":[3]},{"input":[392,596,1],"output":[8]},{"input":[9,3,4],"output":[2]},{"input":[21,0.1,5],"output":[8]},{"input":[86,61,1],"output":[5]},{"input":[360,788,1],"output":[9]},{"input":[11,10,3],"output":[3]},{"input":[52,68,3],"output":[37]},{"input":[840,922,1],"output":[8]},{"input":[10,75,3],"output":[3]},{"input":[801,368,1],"output":[7]},{"input":[779,371,1],"output":[9]},{"input":[55,61,1],"output":[6]},{"input":[5,0.1,6],"output":[4]},{"input":[9,0.1,6],"output":[4]},{"input":[2,0.1,6],"output":[2]},{"input":[1088,16,4],"output":[25]},{"input":[98,41,3],"output":[14]},{"input":[325,120,2],"output":[7]},{"input":[6,3,4],"output":[3]},{"input":[12,6,4],"output":[2]},{"input":[77,82,1],"output":[5]},{"input":[43,70,2],"output":[6]},{"input":[75,22,2],"output":[6]},{"input":[80,45,3],"output":[25]},{"input":[4,17,3],"output":[5]},{"input":[72,8,4],"output":[2]},{"input":[10,0.1,5],"output":[2]},{"input":[20,0.1,5],"output":[3]},{"input":[90,32,2],"output":[4]},{"input":[19,55,2],"output":[8]},{"input":[40,11,1],"output":[2]},{"input":[6,0.1,6],"output":[3]},{"input":[551,184,2],"output":[14]},{"input":[357,21,4],"output":[10]},{"input":[9,0.1,6],"output":[3]},{"input":[75,86,3],"output":[13]},{"input":[8,0.1,6],"output":[7]},{"input":[13,40,1],"output":[3]},{"input":[6,0.1,6],"output":[3]},{"input":[10,0.1,5],"output":[2]},{"input":[2,0.1,6],"output":[2]},{"input":[6,0.1,6],"output":[2]},{"input":[15,0.1,5],"output":[3]},{"input":[3,0.1,5],"output":[4]},{"input":[7,0.1,6],"output":[6]},{"input":[18,0.1,5],"output":[4]},{"input":[6,0.1,6],"output":[3]},{"input":[17,0.1,5],"output":[10]},{"input":[4,0.1,5],"output":[5]},{"input":[3,0.1,5],"output":[3]},{"input":[10,0.1,6],"output":[5]},{"input":[11,0.1,5],"output":[4]},{"input":[6,0.1,6],"output":[3]},{"input":[7,0.1,5],"output":[4]},{"input":[16,0.1,5],"output":[4]},{"input":[25,0.1,5],"output":[7]},{"input":[10,0.1,6],"output":[5]},{"input":[7,0.1,6],"output":[4]},{"input":[5,0.1,6],"output":[3]},{"input":[4,0.1,6],"output":[7]},{"input":[7,0.1,6],"output":[4]},{"input":[6,0.1,5],"output":[4]},{"input":[3,0.1,5],"output":[2]},{"input":[3,0.1,6],"output":[3]},{"input":[6,0.1,6],"output":[3]},{"input":[2,0.1,6],"output":[2]},{"input":[13,0.1,5],"output":[9]},{"input":[6,0.1,6],"output":[3]},{"input":[7,0.1,5],"output":[3]},{"input":[7,0.1,6],"output":[3]},{"input":[25,0.1,5],"output":[3]},{"input":[23,0.1,5],"output":[16]},{"input":[3,0.1,6],"output":[5]},{"input":[8,0.1,5],"output":[5]},{"input":[5,0.1,5],"output":[2]},{"input":[2,0.1,6],"output":[2]},{"input":[8,0.1,6],"output":[4]},{"input":[9,0.1,5],"output":[3]},{"input":[5,0.1,6],"output":[3]},{"input":[10,0.1,6],"output":[2]},{"input":[5,0.1,6],"output":[2]},{"input":[9,0.1,5],"output":[2]},{"input":[17,0.1,5],"output":[5]},{"input":[8,0.1,6],"output":[4]},{"input":[8,0.1,6],"output":[3]},{"input":[5,0.1,5],"output":[3]},{"input":[3,0.1,6],"output":[5]},{"input":[12,0.1,5],"output":[3]},{"input":[23,0.1,5],"output":[4]},{"input":[10,0.1,6],"output":[3]},{"input":[5,0.1,5],"output":[3]},{"input":[5,0.1,5],"output":[2]},{"input":[10,0.1,6],"output":[3]},{"input":[10,0.1,5],"output":[2]},{"input":[14,0.1,5],"output":[7]},{"input":[16,0.1,5],"output":[4]},{"input":[21,0.1,5],"output":[8]},{"input":[21,0.1,5],"output":[3]},{"input":[23,0.1,5],"output":[4]},{"input":[5,0.1,6],"output":[3]},{"input":[7,0.1,6],"output":[3]},{"input":[4,0.1,6],"output":[7]},{"input":[15,0.1,5],"output":[8]},{"input":[23,0.1,5],"output":[3]},{"input":[24,0.1,5],"output":[11]},{"input":[3,0.1,6],"output":[4]},{"input":[5,0.1,5],"output":[2]},{"input":[7,0.1,6],"output":[2]},{"input":[6,0.1,6],"output":[3]},{"input":[2,0.1,6],"output":[2]},{"input":[2,0.1,6],"output":[1]},{"input":[24,0.1,5],"output":[4]},{"input":[5,0.1,6],"output":[3]},{"input":[6,0.1,6],"output":[3]},{"input":[6,0.1,6],"output":[3]},{"input":[17,0.1,5],"output":[4]},{"input":[5,0.1,6],"output":[5]},{"input":[10,0.1,6],"output":[4]},{"input":[6,0.1,6],"output":[3]},{"input":[21,0.1,5],"output":[4]},{"input":[4,0.1,6],"output":[4]},{"input":[4,0.1,6],"output":[3]},{"input":[19,0.1,5],"output":[4]},{"input":[8,0.1,5],"output":[5]},{"input":[18,0.1,5],"output":[3]},{"input":[8,0.1,6],"output":[6]},{"input":[17,0.1,5],"output":[3]},{"input":[14,0.1,5],"output":[6]},{"input":[13,0.1,5],"output":[4]},{"input":[8,0.1,6],"output":[3]},{"input":[6,0.1,6],"output":[3]},{"input":[5,0.1,6],"output":[9]},{"input":[22,0.1,5],"output":[7]},{"input":[23,0.1,5],"output":[3]},{"input":[10,0.1,6],"output":[3]},{"input":[7,0.1,6],"output":[3]},{"input":[9,0.1,5],"output":[3]},{"input":[5,0.1,6],"output":[2]},{"input":[4,0.1,6],"output":[3]},{"input":[5,0.1,6],"output":[3]},{"input":[13,0.1,5],"output":[2]},{"input":[10,0.1,6],"output":[2]},{"input":[9,0.1,5],"output":[3]},{"input":[5,0.1,6],"output":[2]},{"input":[18,0.1,5],"output":[4]},{"input":[25,0.1,5],"output":[4]},{"input":[2,0.1,6],"output":[2]},{"input":[10,0.1,6],"output":[2]},{"input":[7,0.1,5],"output":[3]},{"input":[24,0.1,5],"output":[5]},{"input":[16,0.1,5],"output":[5]},{"input":[10,0.1,6],"output":[3]},{"input":[3,0.1,5],"output":[2]},{"input":[16,0.1,5],"output":[2]},{"input":[3,0.1,5],"output":[2]},{"input":[22,0.1,5],"output":[4]},{"input":[7,0.1,5],"output":[2]},{"input":[11,0.1,5],"output":[2]},{"input":[3,0.1,5],"output":[2]},{"input":[6,0.1,5],"output":[3]},{"input":[7,0.1,5],"output":[2]},{"input":[9,0.1,6],"output":[3]},{"input":[2,0.1,6],"output":[1]},{"input":[2,0.1,6],"output":[1]},{"input":[22,0.1,5],"output":[3]},{"input":[25,0.1,5],"output":[2]},{"input":[10,0.1,6],"output":[3]},{"input":[2,0.1,6],"output":[2]},{"input":[4,0.1,5],"output":[5]},{"input":[8,0.1,5],"output":[4]},{"input":[10,0.1,6],"output":[3]},{"input":[2,0.1,5],"output":[2]},{"input":[10,0.1,5],"output":[4]},{"input":[45,9,4],"output":[6]},{"input":[79,16,1],"output":[5]},{"input":[35,12,1],"output":[3]},{"input":[48,74,2],"output":[8]},{"input":[6,59,1],"output":[3]},{"input":[15,5,4],"output":[2]},{"input":[4,10,3],"output":[2]},{"input":[90,75,2],"output":[5]},{"input":[30,5,4],"output":[2]},{"input":[80,8,4],"output":[3]},{"input":[31,82,1],"output":[4]},{"input":[18,3,4],"output":[2]},{"input":[33,38,2],"output":[6]},{"input":[2,18,3],"output":[4]},{"input":[57,38,2],"output":[6]},{"input":[27,54,1],"output":[11]},{"input":[8,6,3],"output":[10]},{"input":[9,28,3],"output":[11]},{"input":[38,92,2],"output":[10]},{"input":[15,30,3],"output":[6]},{"input":[32,73,2],"output":[6]},{"input":[32,79,1],"output":[4]},{"input":[45,25,1],"output":[5]},{"input":[99,7,2],"output":[4]},{"input":[31,73,2],"output":[8]},{"input":[84,81,1],"output":[4]},{"input":[59,60,1],"output":[4]},{"input":[14,20,3],"output":[6]},{"input":[25,29,2],"output":[3]},{"input":[4,1,4],"output":[5]},{"input":[10,10,4],"output":[2]},{"input":[56,29,1],"output":[6]},{"input":[39,57,1],"output":[7]},{"input":[81,69,1],"output":[6]},{"input":[20,66,2],"output":[3]},{"input":[95,86,2],"output":[3]},{"input":[95,66,1],"output":[6]},{"input":[82,35,2],"output":[5]},{"input":[22,74,2],"output":[5]},{"input":[32,88,1],"output":[5]},{"input":[8,32,1],"output":[2]},{"input":[5,12,3],"output":[5]},{"input":[64,33,2],"output":[8]},{"input":[40,100,2],"output":[3]},{"input":[14,28,2],"output":[4]},{"input":[6,13,3],"output":[9]},{"input":[510,819,1],"output":[6]},{"input":[910,636,2],"output":[13]},{"input":[359,471,1],"output":[9]},{"input":[832,208,2],"output":[9]},{"input":[979,732,1],"output":[12]},{"input":[366,322,2],"output":[4]},{"input":[278,265,2],"output":[11]},{"input":[959,115,2],"output":[9]},{"input":[342,108,2],"output":[8]},{"input":[558,802,1],"output":[10]},{"input":[291,962,1],"output":[12]},{"input":[662,166,2],"output":[14]},{"input":[617,985,1],"output":[11]},{"input":[317,393,1],"output":[11]},{"input":[694,200,1],"output":[5]},{"input":[467,453,2],"output":[6]},{"input":[119,890,1],"output":[7]},{"input":[307,153,2],"output":[10]},{"input":[990,369,2],"output":[20]},{"input":[317,275,2],"output":[8]},{"input":[406,260,1],"output":[5]},{"input":[603,387,1],"output":[5]},{"input":[479,297,2],"output":[12]},{"input":[641,537,2],"output":[7]},{"input":[856,785,1],"output":[15]},{"input":[814,726,2],"output":[13]},{"input":[40,11,1],"output":[2]},{"input":[6,0.1,6],"output":[3]},{"input":[551,184,2],"output":[14]},{"input":[357,21,4],"output":[10]},{"input":[9,0.1,6],"output":[3]},{"input":[75,86,3],"output":[13]},{"input":[8,0.1,6],"output":[7]},{"input":[13,40,1],"output":[3]},{"input":[6,0.1,6],"output":[3]},{"input":[10,0.1,5],"output":[2]},{"input":[2,0.1,6],"output":[2]},{"input":[6,0.1,6],"output":[2]},{"input":[15,0.1,5],"output":[3]},{"input":[3,0.1,5],"output":[4]},{"input":[7,0.1,6],"output":[6]},{"input":[18,0.1,5],"output":[4]},{"input":[6,0.1,6],"output":[3]},{"input":[17,0.1,5],"output":[10]},{"input":[4,0.1,5],"output":[5]},{"input":[3,0.1,5],"output":[3]},{"input":[10,0.1,6],"output":[5]},{"input":[11,0.1,5],"output":[4]},{"input":[6,0.1,6],"output":[3]},{"input":[7,0.1,5],"output":[4]},{"input":[16,0.1,5],"output":[4]},{"input":[25,0.1,5],"output":[7]},{"input":[10,0.1,6],"output":[5]},{"input":[7,0.1,6],"output":[4]},{"input":[5,0.1,6],"output":[3]},{"input":[4,0.1,6],"output":[7]},{"input":[7,0.1,6],"output":[4]},{"input":[6,0.1,5],"output":[4]},{"input":[3,0.1,5],"output":[2]},{"input":[3,0.1,6],"output":[3]},{"input":[6,0.1,6],"output":[3]},{"input":[2,0.1,6],"output":[2]},{"input":[13,0.1,5],"output":[9]},{"input":[6,0.1,6],"output":[3]},{"input":[7,0.1,5],"output":[3]},{"input":[7,0.1,6],"output":[3]},{"input":[25,0.1,5],"output":[3]},{"input":[23,0.1,5],"output":[16]},{"input":[3,0.1,6],"output":[5]},{"input":[8,0.1,5],"output":[5]},{"input":[5,0.1,5],"output":[2]},{"input":[2,0.1,6],"output":[2]},{"input":[8,0.1,6],"output":[4]},{"input":[9,0.1,5],"output":[3]},{"input":[5,0.1,6],"output":[3]},{"input":[10,0.1,6],"output":[2]},{"input":[5,0.1,6],"output":[2]},{"input":[9,0.1,5],"output":[2]},{"input":[17,0.1,5],"output":[5]},{"input":[8,0.1,6],"output":[4]},{"input":[8,0.1,6],"output":[3]},{"input":[5,0.1,5],"output":[3]},{"input":[3,0.1,6],"output":[5]},{"input":[12,0.1,5],"output":[3]},{"input":[23,0.1,5],"output":[4]},{"input":[10,0.1,6],"output":[3]},{"input":[5,0.1,5],"output":[3]},{"input":[5,0.1,5],"output":[2]},{"input":[10,0.1,6],"output":[3]},{"input":[10,0.1,5],"output":[2]},{"input":[14,0.1,5],"output":[7]},{"input":[16,0.1,5],"output":[4]},{"input":[21,0.1,5],"output":[8]},{"input":[21,0.1,5],"output":[3]},{"input":[23,0.1,5],"output":[4]},{"input":[5,0.1,6],"output":[3]},{"input":[7,0.1,6],"output":[3]},{"input":[4,0.1,6],"output":[7]},{"input":[15,0.1,5],"output":[8]},{"input":[23,0.1,5],"output":[3]},{"input":[24,0.1,5],"output":[11]},{"input":[3,0.1,6],"output":[4]},{"input":[5,0.1,5],"output":[2]},{"input":[7,0.1,6],"output":[2]},{"input":[6,0.1,6],"output":[3]},{"input":[2,0.1,6],"output":[2]},{"input":[2,0.1,6],"output":[1]},{"input":[24,0.1,5],"output":[4]},{"input":[5,0.1,6],"output":[3]},{"input":[6,0.1,6],"output":[3]},{"input":[6,0.1,6],"output":[3]},{"input":[17,0.1,5],"output":[4]},{"input":[5,0.1,6],"output":[5]},{"input":[10,0.1,6],"output":[4]},{"input":[6,0.1,6],"output":[3]},{"input":[21,0.1,5],"output":[4]},{"input":[4,0.1,6],"output":[4]},{"input":[4,0.1,6],"output":[3]},{"input":[19,0.1,5],"output":[4]},{"input":[8,0.1,5],"output":[5]},{"input":[18,0.1,5],"output":[3]},{"input":[8,0.1,6],"output":[6]},{"input":[17,0.1,5],"output":[3]},{"input":[14,0.1,5],"output":[6]},{"input":[13,0.1,5],"output":[4]},{"input":[8,0.1,6],"output":[3]},{"input":[6,0.1,6],"output":[3]},{"input":[5,0.1,6],"output":[9]},{"input":[22,0.1,5],"output":[7]},{"input":[23,0.1,5],"output":[3]},{"input":[10,0.1,6],"output":[3]},{"input":[7,0.1,6],"output":[3]},{"input":[9,0.1,5],"output":[3]},{"input":[5,0.1,6],"output":[2]},{"input":[4,0.1,6],"output":[3]},{"input":[5,0.1,6],"output":[3]},{"input":[13,0.1,5],"output":[2]},{"input":[10,0.1,6],"output":[2]},{"input":[9,0.1,5],"output":[3]},{"input":[5,0.1,6],"output":[2]},{"input":[18,0.1,5],"output":[4]},{"input":[25,0.1,5],"output":[4]},{"input":[2,0.1,6],"output":[2]},{"input":[10,0.1,6],"output":[2]},{"input":[7,0.1,5],"output":[3]},{"input":[24,0.1,5],"output":[5]},{"input":[16,0.1,5],"output":[5]},{"input":[10,0.1,6],"output":[3]},{"input":[3,0.1,5],"output":[2]},{"input":[16,0.1,5],"output":[2]},{"input":[3,0.1,5],"output":[2]},{"input":[22,0.1,5],"output":[4]},{"input":[7,0.1,5],"output":[2]},{"input":[11,0.1,5],"output":[2]},{"input":[3,0.1,5],"output":[2]},{"input":[6,0.1,5],"output":[3]},{"input":[7,0.1,5],"output":[2]},{"input":[9,0.1,6],"output":[3]},{"input":[2,0.1,6],"output":[1]},{"input":[2,0.1,6],"output":[1]},{"input":[22,0.1,5],"output":[3]},{"input":[25,0.1,5],"output":[2]},{"input":[10,0.1,6],"output":[3]},{"input":[2,0.1,6],"output":[2]},{"input":[4,0.1,5],"output":[5]},{"input":[8,0.1,5],"output":[4]},{"input":[10,0.1,6],"output":[3]},{"input":[2,0.1,5],"output":[2]},{"input":[10,0.1,5],"output":[4]},{"input":[45,9,4],"output":[6]},{"input":[79,16,1],"output":[5]},{"input":[35,12,1],"output":[3]},{"input":[48,74,2],"output":[8]},{"input":[6,59,1],"output":[3]},{"input":[15,5,4],"output":[2]},{"input":[4,10,3],"output":[2]},{"input":[90,75,2],"output":[5]},{"input":[30,5,4],"output":[2]},{"input":[80,8,4],"output":[3]},{"input":[31,82,1],"output":[4]},{"input":[18,3,4],"output":[2]},{"input":[33,38,2],"output":[6]},{"input":[2,18,3],"output":[4]},{"input":[57,38,2],"output":[6]},{"input":[27,54,1],"output":[11]},{"input":[8,6,3],"output":[10]},{"input":[9,28,3],"output":[11]},{"input":[38,92,2],"output":[10]},{"input":[15,30,3],"output":[6]},{"input":[32,73,2],"output":[6]},{"input":[32,79,1],"output":[4]},{"input":[45,25,1],"output":[5]},{"input":[99,7,2],"output":[4]},{"input":[31,73,2],"output":[8]},{"input":[84,81,1],"output":[4]},{"input":[59,60,1],"output":[4]},{"input":[14,20,3],"output":[6]},{"input":[25,29,2],"output":[3]},{"input":[4,1,4],"output":[5]},{"input":[10,10,4],"output":[2]},{"input":[56,29,1],"output":[6]},{"input":[39,57,1],"output":[7]},{"input":[81,69,1],"output":[6]},{"input":[20,66,2],"output":[3]},{"input":[95,86,2],"output":[3]},{"input":[95,66,1],"output":[6]},{"input":[82,35,2],"output":[5]},{"input":[22,74,2],"output":[5]},{"input":[32,88,1],"output":[5]},{"input":[8,32,1],"output":[2]},{"input":[5,12,3],"output":[5]},{"input":[64,33,2],"output":[8]},{"input":[40,100,2],"output":[3]},{"input":[14,28,2],"output":[4]},{"input":[6,13,3],"output":[9]},{"input":[510,819,1],"output":[6]},{"input":[910,636,2],"output":[13]},{"input":[359,471,1],"output":[9]},{"input":[832,208,2],"output":[9]},{"input":[979,732,1],"output":[12]},{"input":[366,322,2],"output":[4]},{"input":[278,265,2],"output":[11]},{"input":[959,115,2],"output":[9]},{"input":[342,108,2],"output":[8]},{"input":[558,802,1],"output":[10]},{"input":[291,962,1],"output":[12]},{"input":[662,166,2],"output":[14]},{"input":[617,985,1],"output":[11]},{"input":[317,393,1],"output":[11]},{"input":[694,200,1],"output":[5]},{"input":[467,453,2],"output":[6]},{"input":[119,890,1],"output":[7]},{"input":[307,153,2],"output":[10]},{"input":[990,369,2],"output":[20]},{"input":[317,275,2],"output":[8]},{"input":[406,260,1],"output":[5]},{"input":[603,387,1],"output":[5]},{"input":[479,297,2],"output":[12]},{"input":[641,537,2],"output":[7]},{"input":[856,785,1],"output":[15]},{"input":[814,726,2],"output":[13]},{"input":[97,24,2],"output":[5]},{"input":[831,402,2],"output":[5]},{"input":[60,39,3],"output":[20]},{"input":[37,13,1],"output":[4]},{"input":[459,401,1],"output":[6]},{"input":[823,239,1],"output":[9]},{"input":[74,78,2],"output":[2]},{"input":[5,90,1],"output":[2]},{"input":[100,397,1],"output":[3]},{"input":[2068,47,4],"output":[13]},{"input":[18,32,2],"output":[4]},{"input":[87,46,1],"output":[5]},{"input":[3,0,6],"output":[3]},{"input":[392,596,1],"output":[8]},{"input":[9,3,4],"output":[2]},{"input":[21,0.1,5],"output":[8]},{"input":[86,61,1],"output":[5]},{"input":[360,788,1],"output":[9]},{"input":[11,10,3],"output":[3]},{"input":[52,68,3],"output":[37]},{"input":[840,922,1],"output":[8]},{"input":[10,75,3],"output":[3]},{"input":[801,368,1],"output":[7]},{"input":[779,371,1],"output":[9]},{"input":[55,61,1],"output":[6]},{"input":[5,0.1,6],"output":[4]},{"input":[9,0.1,6],"output":[4]},{"input":[2,0.1,6],"output":[2]},{"input":[1088,16,4],"output":[25]},{"input":[98,41,3],"output":[14]},{"input":[325,120,2],"output":[7]},{"input":[6,3,4],"output":[3]},{"input":[12,6,4],"output":[2]},{"input":[77,82,1],"output":[5]},{"input":[43,70,2],"output":[6]},{"input":[75,22,2],"output":[6]},{"input":[80,45,3],"output":[25]},{"input":[4,17,3],"output":[5]},{"input":[72,8,4],"output":[2]},{"input":[10,0.1,5],"output":[2]},{"input":[20,0.1,5],"output":[3]},{"input":[90,32,2],"output":[4]},{"input":[19,55,2],"output":[8]},{"input":[40,11,1],"output":[2]},{"input":[6,0.1,6],"output":[3]},{"input":[551,184,2],"output":[14]},{"input":[357,21,4],"output":[10]},{"input":[9,0.1,6],"output":[3]},{"input":[75,86,3],"output":[13]},{"input":[8,0.1,6],"output":[7]},{"input":[13,40,1],"output":[3]},{"input":[6,0.1,6],"output":[3]},{"input":[10,0.1,5],"output":[2]},{"input":[2,0.1,6],"output":[2]},{"input":[6,0.1,6],"output":[2]},{"input":[15,0.1,5],"output":[3]},{"input":[3,0.1,5],"output":[4]},{"input":[7,0.1,6],"output":[6]},{"input":[18,0.1,5],"output":[4]},{"input":[6,0.1,6],"output":[3]},{"input":[17,0.1,5],"output":[10]},{"input":[4,0.1,5],"output":[5]},{"input":[3,0.1,5],"output":[3]},{"input":[10,0.1,6],"output":[5]},{"input":[11,0.1,5],"output":[4]},{"input":[6,0.1,6],"output":[3]},{"input":[7,0.1,5],"output":[4]},{"input":[16,0.1,5],"output":[4]},{"input":[25,0.1,5],"output":[7]},{"input":[10,0.1,6],"output":[5]},{"input":[7,0.1,6],"output":[4]},{"input":[5,0.1,6],"output":[3]},{"input":[4,0.1,6],"output":[7]},{"input":[7,0.1,6],"output":[4]},{"input":[6,0.1,5],"output":[4]},{"input":[3,0.1,5],"output":[2]},{"input":[3,0.1,6],"output":[3]},{"input":[6,0.1,6],"output":[3]},{"input":[2,0.1,6],"output":[2]},{"input":[13,0.1,5],"output":[9]},{"input":[6,0.1,6],"output":[3]},{"input":[7,0.1,5],"output":[3]},{"input":[7,0.1,6],"output":[3]},{"input":[25,0.1,5],"output":[3]},{"input":[23,0.1,5],"output":[16]},{"input":[3,0.1,6],"output":[5]},{"input":[8,0.1,5],"output":[5]},{"input":[5,0.1,5],"output":[2]},{"input":[2,0.1,6],"output":[2]},{"input":[8,0.1,6],"output":[4]},{"input":[9,0.1,5],"output":[3]},{"input":[5,0.1,6],"output":[3]},{"input":[10,0.1,6],"output":[2]},{"input":[5,0.1,6],"output":[2]},{"input":[9,0.1,5],"output":[2]},{"input":[17,0.1,5],"output":[5]},{"input":[8,0.1,6],"output":[4]},{"input":[8,0.1,6],"output":[3]},{"input":[5,0.1,5],"output":[3]},{"input":[3,0.1,6],"output":[5]},{"input":[12,0.1,5],"output":[3]},{"input":[23,0.1,5],"output":[4]},{"input":[10,0.1,6],"output":[3]},{"input":[5,0.1,5],"output":[3]},{"input":[5,0.1,5],"output":[2]},{"input":[10,0.1,6],"output":[3]},{"input":[10,0.1,5],"output":[2]},{"input":[14,0.1,5],"output":[7]},{"input":[16,0.1,5],"output":[4]},{"input":[21,0.1,5],"output":[8]},{"input":[21,0.1,5],"output":[3]},{"input":[23,0.1,5],"output":[4]},{"input":[5,0.1,6],"output":[3]},{"input":[7,0.1,6],"output":[3]},{"input":[4,0.1,6],"output":[7]},{"input":[15,0.1,5],"output":[8]},{"input":[23,0.1,5],"output":[3]},{"input":[24,0.1,5],"output":[11]},{"input":[3,0.1,6],"output":[4]},{"input":[5,0.1,5],"output":[2]},{"input":[7,0.1,6],"output":[2]},{"input":[6,0.1,6],"output":[3]},{"input":[2,0.1,6],"output":[2]},{"input":[2,0.1,6],"output":[1]},{"input":[24,0.1,5],"output":[4]},{"input":[5,0.1,6],"output":[3]},{"input":[6,0.1,6],"output":[3]},{"input":[6,0.1,6],"output":[3]},{"input":[17,0.1,5],"output":[4]},{"input":[5,0.1,6],"output":[5]},{"input":[10,0.1,6],"output":[4]},{"input":[6,0.1,6],"output":[3]},{"input":[21,0.1,5],"output":[4]},{"input":[4,0.1,6],"output":[4]},{"input":[4,0.1,6],"output":[3]},{"input":[19,0.1,5],"output":[4]},{"input":[8,0.1,5],"output":[5]},{"input":[18,0.1,5],"output":[3]},{"input":[8,0.1,6],"output":[6]},{"input":[17,0.1,5],"output":[3]},{"input":[14,0.1,5],"output":[6]},{"input":[13,0.1,5],"output":[4]},{"input":[8,0.1,6],"output":[3]},{"input":[6,0.1,6],"output":[3]},{"input":[5,0.1,6],"output":[9]},{"input":[22,0.1,5],"output":[7]},{"input":[23,0.1,5],"output":[3]},{"input":[10,0.1,6],"output":[3]},{"input":[7,0.1,6],"output":[3]},{"input":[9,0.1,5],"output":[3]},{"input":[5,0.1,6],"output":[2]},{"input":[4,0.1,6],"output":[3]},{"input":[5,0.1,6],"output":[3]},{"input":[13,0.1,5],"output":[2]},{"input":[10,0.1,6],"output":[2]},{"input":[9,0.1,5],"output":[3]},{"input":[5,0.1,6],"output":[2]},{"input":[18,0.1,5],"output":[4]},{"input":[25,0.1,5],"output":[4]},{"input":[2,0.1,6],"output":[2]},{"input":[10,0.1,6],"output":[2]},{"input":[7,0.1,5],"output":[3]},{"input":[24,0.1,5],"output":[5]},{"input":[16,0.1,5],"output":[5]},{"input":[10,0.1,6],"output":[3]},{"input":[3,0.1,5],"output":[2]},{"input":[16,0.1,5],"output":[2]},{"input":[3,0.1,5],"output":[2]},{"input":[22,0.1,5],"output":[4]},{"input":[7,0.1,5],"output":[2]},{"input":[11,0.1,5],"output":[2]},{"input":[3,0.1,5],"output":[2]},{"input":[6,0.1,5],"output":[3]},{"input":[7,0.1,5],"output":[2]},{"input":[9,0.1,6],"output":[3]},{"input":[2,0.1,6],"output":[1]},{"input":[2,0.1,6],"output":[1]},{"input":[22,0.1,5],"output":[3]},{"input":[25,0.1,5],"output":[2]},{"input":[10,0.1,6],"output":[3]},{"input":[2,0.1,6],"output":[2]},{"input":[4,0.1,5],"output":[5]},{"input":[8,0.1,5],"output":[4]},{"input":[10,0.1,6],"output":[3]},{"input":[2,0.1,5],"output":[2]},{"input":[10,0.1,5],"output":[4]},{"input":[45,9,4],"output":[6]},{"input":[79,16,1],"output":[5]},{"input":[35,12,1],"output":[3]},{"input":[48,74,2],"output":[8]},{"input":[6,59,1],"output":[3]},{"input":[15,5,4],"output":[2]},{"input":[4,10,3],"output":[2]},{"input":[90,75,2],"output":[5]},{"input":[30,5,4],"output":[2]},{"input":[80,8,4],"output":[3]},{"input":[31,82,1],"output":[4]},{"input":[18,3,4],"output":[2]},{"input":[33,38,2],"output":[6]},{"input":[2,18,3],"output":[4]},{"input":[57,38,2],"output":[6]},{"input":[27,54,1],"output":[11]},{"input":[8,6,3],"output":[10]},{"input":[9,28,3],"output":[11]},{"input":[38,92,2],"output":[10]},{"input":[15,30,3],"output":[6]},{"input":[32,73,2],"output":[6]},{"input":[32,79,1],"output":[4]},{"input":[45,25,1],"output":[5]},{"input":[99,7,2],"output":[4]},{"input":[31,73,2],"output":[8]},{"input":[84,81,1],"output":[4]},{"input":[59,60,1],"output":[4]},{"input":[14,20,3],"output":[6]},{"input":[25,29,2],"output":[3]},{"input":[4,1,4],"output":[5]},{"input":[10,10,4],"output":[2]},{"input":[56,29,1],"output":[6]},{"input":[39,57,1],"output":[7]},{"input":[81,69,1],"output":[6]},{"input":[20,66,2],"output":[3]},{"input":[95,86,2],"output":[3]},{"input":[95,66,1],"output":[6]},{"input":[82,35,2],"output":[5]},{"input":[22,74,2],"output":[5]},{"input":[32,88,1],"output":[5]},{"input":[8,32,1],"output":[2]},{"input":[5,12,3],"output":[5]},{"input":[64,33,2],"output":[8]},{"input":[40,100,2],"output":[3]},{"input":[14,28,2],"output":[4]},{"input":[6,13,3],"output":[9]},{"input":[510,819,1],"output":[6]},{"input":[910,636,2],"output":[13]},{"input":[359,471,1],"output":[9]},{"input":[832,208,2],"output":[9]},{"input":[979,732,1],"output":[12]},{"input":[366,322,2],"output":[4]},{"input":[278,265,2],"output":[11]},{"input":[959,115,2],"output":[9]},{"input":[342,108,2],"output":[8]},{"input":[558,802,1],"output":[10]},{"input":[291,962,1],"output":[12]},{"input":[662,166,2],"output":[14]},{"input":[617,985,1],"output":[11]},{"input":[317,393,1],"output":[11]},{"input":[694,200,1],"output":[5]},{"input":[467,453,2],"output":[6]},{"input":[119,890,1],"output":[7]},{"input":[307,153,2],"output":[10]},{"input":[990,369,2],"output":[20]},{"input":[317,275,2],"output":[8]},{"input":[406,260,1],"output":[5]},{"input":[603,387,1],"output":[5]},{"input":[479,297,2],"output":[12]},{"input":[641,537,2],"output":[7]},{"input":[856,785,1],"output":[15]},{"input":[814,726,2],"output":[13]},{"input":[40,11,1],"output":[2]},{"input":[6,0.1,6],"output":[3]},{"input":[551,184,2],"output":[14]},{"input":[357,21,4],"output":[10]},{"input":[9,0.1,6],"output":[3]},{"input":[75,86,3],"output":[13]},{"input":[8,0.1,6],"output":[7]},{"input":[13,40,1],"output":[3]},{"input":[6,0.1,6],"output":[3]},{"input":[10,0.1,5],"output":[2]},{"input":[2,0.1,6],"output":[2]},{"input":[6,0.1,6],"output":[2]},{"input":[15,0.1,5],"output":[3]},{"input":[3,0.1,5],"output":[4]},{"input":[7,0.1,6],"output":[6]},{"input":[18,0.1,5],"output":[4]},{"input":[6,0.1,6],"output":[3]},{"input":[17,0.1,5],"output":[10]},{"input":[4,0.1,5],"output":[5]},{"input":[3,0.1,5],"output":[3]},{"input":[10,0.1,6],"output":[5]},{"input":[11,0.1,5],"output":[4]},{"input":[6,0.1,6],"output":[3]},{"input":[7,0.1,5],"output":[4]},{"input":[16,0.1,5],"output":[4]},{"input":[25,0.1,5],"output":[7]},{"input":[10,0.1,6],"output":[5]},{"input":[7,0.1,6],"output":[4]},{"input":[5,0.1,6],"output":[3]},{"input":[4,0.1,6],"output":[7]},{"input":[7,0.1,6],"output":[4]},{"input":[6,0.1,5],"output":[4]},{"input":[3,0.1,5],"output":[2]},{"input":[3,0.1,6],"output":[3]},{"input":[6,0.1,6],"output":[3]},{"input":[2,0.1,6],"output":[2]},{"input":[13,0.1,5],"output":[9]},{"input":[6,0.1,6],"output":[3]},{"input":[7,0.1,5],"output":[3]},{"input":[7,0.1,6],"output":[3]},{"input":[25,0.1,5],"output":[3]},{"input":[23,0.1,5],"output":[16]},{"input":[3,0.1,6],"output":[5]},{"input":[8,0.1,5],"output":[5]},{"input":[5,0.1,5],"output":[2]},{"input":[2,0.1,6],"output":[2]},{"input":[8,0.1,6],"output":[4]},{"input":[9,0.1,5],"output":[3]},{"input":[5,0.1,6],"output":[3]},{"input":[10,0.1,6],"output":[2]},{"input":[5,0.1,6],"output":[2]},{"input":[9,0.1,5],"output":[2]},{"input":[17,0.1,5],"output":[5]},{"input":[8,0.1,6],"output":[4]},{"input":[8,0.1,6],"output":[3]},{"input":[5,0.1,5],"output":[3]},{"input":[3,0.1,6],"output":[5]},{"input":[12,0.1,5],"output":[3]},{"input":[23,0.1,5],"output":[4]},{"input":[10,0.1,6],"output":[3]},{"input":[5,0.1,5],"output":[3]},{"input":[5,0.1,5],"output":[2]},{"input":[10,0.1,6],"output":[3]},{"input":[10,0.1,5],"output":[2]},{"input":[14,0.1,5],"output":[7]},{"input":[16,0.1,5],"output":[4]},{"input":[21,0.1,5],"output":[8]},{"input":[21,0.1,5],"output":[3]},{"input":[23,0.1,5],"output":[4]},{"input":[5,0.1,6],"output":[3]},{"input":[7,0.1,6],"output":[3]},{"input":[4,0.1,6],"output":[7]},{"input":[15,0.1,5],"output":[8]},{"input":[23,0.1,5],"output":[3]},{"input":[24,0.1,5],"output":[11]},{"input":[3,0.1,6],"output":[4]},{"input":[5,0.1,5],"output":[2]},{"input":[7,0.1,6],"output":[2]},{"input":[6,0.1,6],"output":[3]},{"input":[2,0.1,6],"output":[2]},{"input":[2,0.1,6],"output":[1]},{"input":[24,0.1,5],"output":[4]},{"input":[5,0.1,6],"output":[3]},{"input":[6,0.1,6],"output":[3]},{"input":[6,0.1,6],"output":[3]},{"input":[17,0.1,5],"output":[4]},{"input":[5,0.1,6],"output":[5]},{"input":[10,0.1,6],"output":[4]},{"input":[6,0.1,6],"output":[3]},{"input":[21,0.1,5],"output":[4]},{"input":[4,0.1,6],"output":[4]},{"input":[4,0.1,6],"output":[3]},{"input":[19,0.1,5],"output":[4]},{"input":[8,0.1,5],"output":[5]},{"input":[18,0.1,5],"output":[3]},{"input":[8,0.1,6],"output":[6]},{"input":[17,0.1,5],"output":[3]},{"input":[14,0.1,5],"output":[6]},{"input":[13,0.1,5],"output":[4]},{"input":[8,0.1,6],"output":[3]},{"input":[6,0.1,6],"output":[3]},{"input":[5,0.1,6],"output":[9]},{"input":[22,0.1,5],"output":[7]},{"input":[23,0.1,5],"output":[3]},{"input":[10,0.1,6],"output":[3]},{"input":[7,0.1,6],"output":[3]},{"input":[9,0.1,5],"output":[3]},{"input":[5,0.1,6],"output":[2]},{"input":[4,0.1,6],"output":[3]},{"input":[5,0.1,6],"output":[3]},{"input":[13,0.1,5],"output":[2]},{"input":[10,0.1,6],"output":[2]},{"input":[9,0.1,5],"output":[3]},{"input":[5,0.1,6],"output":[2]},{"input":[18,0.1,5],"output":[4]},{"input":[25,0.1,5],"output":[4]},{"input":[2,0.1,6],"output":[2]},{"input":[10,0.1,6],"output":[2]},{"input":[7,0.1,5],"output":[3]},{"input":[24,0.1,5],"output":[5]},{"input":[16,0.1,5],"output":[5]},{"input":[10,0.1,6],"output":[3]},{"input":[3,0.1,5],"output":[2]},{"input":[16,0.1,5],"output":[2]},{"input":[3,0.1,5],"output":[2]},{"input":[22,0.1,5],"output":[4]},{"input":[7,0.1,5],"output":[2]},{"input":[11,0.1,5],"output":[2]},{"input":[3,0.1,5],"output":[2]},{"input":[6,0.1,5],"output":[3]},{"input":[7,0.1,5],"output":[2]},{"input":[9,0.1,6],"output":[3]},{"input":[2,0.1,6],"output":[1]},{"input":[2,0.1,6],"output":[1]},{"input":[22,0.1,5],"output":[3]},{"input":[25,0.1,5],"output":[2]},{"input":[10,0.1,6],"output":[3]},{"input":[2,0.1,6],"output":[2]},{"input":[4,0.1,5],"output":[5]},{"input":[8,0.1,5],"output":[4]},{"input":[10,0.1,6],"output":[3]},{"input":[2,0.1,5],"output":[2]},{"input":[10,0.1,5],"output":[4]},{"input":[45,9,4],"output":[6]},{"input":[79,16,1],"output":[5]},{"input":[35,12,1],"output":[3]},{"input":[48,74,2],"output":[8]},{"input":[6,59,1],"output":[3]},{"input":[15,5,4],"output":[2]},{"input":[4,10,3],"output":[2]},{"input":[90,75,2],"output":[5]},{"input":[30,5,4],"output":[2]},{"input":[80,8,4],"output":[3]},{"input":[31,82,1],"output":[4]},{"input":[18,3,4],"output":[2]},{"input":[33,38,2],"output":[6]},{"input":[2,18,3],"output":[4]},{"input":[57,38,2],"output":[6]},{"input":[27,54,1],"output":[11]},{"input":[8,6,3],"output":[10]},{"input":[9,28,3],"output":[11]},{"input":[38,92,2],"output":[10]},{"input":[15,30,3],"output":[6]},{"input":[32,73,2],"output":[6]},{"input":[32,79,1],"output":[4]},{"input":[45,25,1],"output":[5]},{"input":[99,7,2],"output":[4]},{"input":[31,73,2],"output":[8]},{"input":[84,81,1],"output":[4]},{"input":[59,60,1],"output":[4]},{"input":[14,20,3],"output":[6]},{"input":[25,29,2],"output":[3]},{"input":[4,1,4],"output":[5]},{"input":[10,10,4],"output":[2]},{"input":[56,29,1],"output":[6]},{"input":[39,57,1],"output":[7]},{"input":[81,69,1],"output":[6]},{"input":[20,66,2],"output":[3]},{"input":[95,86,2],"output":[3]},{"input":[95,66,1],"output":[6]},{"input":[82,35,2],"output":[5]},{"input":[22,74,2],"output":[5]},{"input":[32,88,1],"output":[5]},{"input":[8,32,1],"output":[2]},{"input":[5,12,3],"output":[5]},{"input":[64,33,2],"output":[8]},{"input":[40,100,2],"output":[3]},{"input":[14,28,2],"output":[4]},{"input":[6,13,3],"output":[9]},{"input":[510,819,1],"output":[6]},{"input":[910,636,2],"output":[13]},{"input":[359,471,1],"output":[9]},{"input":[832,208,2],"output":[9]},{"input":[979,732,1],"output":[12]},{"input":[366,322,2],"output":[4]},{"input":[278,265,2],"output":[11]},{"input":[959,115,2],"output":[9]},{"input":[342,108,2],"output":[8]},{"input":[558,802,1],"output":[10]},{"input":[291,962,1],"output":[12]},{"input":[662,166,2],"output":[14]},{"input":[617,985,1],"output":[11]},{"input":[317,393,1],"output":[11]},{"input":[694,200,1],"output":[5]},{"input":[467,453,2],"output":[6]}]').map((t=>{let{input:e,output:n}=t;return{input:[e[0]/1e3,e[1]/1e3,0,e[2],0,0,0,0],output:n.map((t=>t/100))}})),Wl={1:[...Array(30)].map((()=>Gu())).map((t=>t.learningModel)).concat([...Array(30)].map((()=>qu())).map((t=>t.learningModel))),2:[...Array(30)].map((()=>Wu())).map((t=>t.learningModel)).concat([...Array(30)].map((()=>Yu())).map((t=>t.learningModel))),3:[...Array(30)].map((()=>Hu())).map((t=>t.learningModel)).concat([...Array(30)].map((()=>Ju())).map((t=>t.learningModel))),4:[...Array(30)].map((()=>Xu())).map((t=>t.learningModel)).concat([...Array(30)].map((()=>Qu())).map((t=>t.learningModel))),5:[...Array(30)].map((()=>Zu())).map((t=>t.learningModel)),6:[...Array(30)].map((()=>tl())).map((t=>t.learningModel))};let Hl,Xl=!1;do{Xl=!0,Hl=new Ul.NeuralNetwork({hiddenLayers:[16,12],learningRate:.05,activation:"relu"}),Hl.train(Gl,{iterations:2e3});const t=t=>{const e=Array.from(t).sort(((t,e)=>t-e)),n=Math.floor(e.length/2);return e.length%2===0?(e[n-1]+e[n])/2:e[n]};for(let e=1;e<=6;e++){const n=Wl[e].map((t=>{const e=[t[0]/1e3,t[1]/1e3,0,t[2],0,0,0,0],n=Hl.run(e);return Number(n[0])}));if(0===t(n)){Xl=!1;break}Wl[e]=t(n)}}while(!1===Xl);console.log(Wl);const ql=e=>{let{setState:n,data:r,setData:s}=e;const[a,o]=(0,t.useState)(null),[u,l]=(0,t.useState)(0),[c,h]=(0,t.useState)(""),[p,d]=(0,t.useState)("unset"),[f,m]=(0,t.useState)(new Date),[g,y]=(0,t.useState)(null),[b,x]=(0,t.useState)(null),[v,w]=(0,t.useState)(!1);(0,t.useEffect)((()=>{S()}),[]);const S=()=>{if(T(),u===r.exercises.length)n(i.RESULT);else{m(new Date);const t=r.exercises[u];o(t),l(u+1),r.audioOnly&&_(t.display),console.log(t.learningModel),k(t)}},k=t=>{const e=(t=>{const e=[t[0]/1e3,t[1]/1e3,0,t[2],0,0,0,0];let n;do{n=Hl.run(e)}while(0===Number(n[0]));const r=Math.max(1,100*Number(n[0])),i=Math.max(1,100*Wl[t[2]]),s=r/i;let a=.7;s>3&&s<=10?a=.7-.2*(s-3)/7:s>10&&(a=.3);const o=r*a+i*(1-a);return console.log(`Average time: ${i.toFixed(2)}ms`),console.log(`Predicted time: ${r.toFixed(2)}ms`),console.log(`Final estimated time: ${o.toFixed(2)}ms`),console.log(`Prediction weight: ${(100*a).toFixed(0)}%`),console.log(`Prediction ratio: ${s.toFixed(2)}x`),o})(t.learningModel),n=setTimeout((()=>{new Audio("/MentalMath/beep.mp3").play().catch((t=>console.error("Audio play failed:",t)));const t=setTimeout((()=>{w(!0)}),5e3);x(t)}),1e3*e+1500);y(n)},T=()=>{g&&clearTimeout(g),b&&clearTimeout(b),y(null),x(null)},A=t=>{h(`${c}${t}`)},E=()=>{if(a){const e=Number(c);var t=(new Date).getTime()-f.getTime();t/=1e3,s((n=>({...n,exercises:n.exercises.map(((n,r)=>r===u-1?{...n,userResult:e,resultCorrect:a.expectedResult===e,timeElapsed:Math.round(t)}:n))}))),h(""),S(),a.expectedResult===e?d("green"):d("red"),setTimeout((()=>{d("unset")}),500)}},_=t=>{const e=speechSynthesis.getVoices().find((t=>t.lang.startsWith("de"))),n=new SpeechSynthesisUtterance(t);n.lang="de-DE",e&&(n.voice=e),speechSynthesis.speak(n)},L=()=>{w(!1),E()};return(0,zr.jsx)("div",{children:(0,zr.jsxs)("div",{children:[a&&(0,zr.jsxs)(zr.Fragment,{children:[(0,zr.jsx)("h1",{id:"exercise-component-exercise-display",children:!r.audioOnly&&(0,zr.jsx)(zr.Fragment,{children:a.display})}),(0,zr.jsxs)("h1",{id:"exercise-component-exercise-input",children:[" ",c," "]}),(0,zr.jsx)("div",{id:"exercise-component-numberpad-box",style:{background:p},children:(0,zr.jsxs)("div",{id:"exercise-component-numberpad",children:[(0,zr.jsx)("button",{onClick:()=>A(1),children:"1"}),(0,zr.jsx)("button",{onClick:()=>A(2),children:"2"}),(0,zr.jsx)("button",{onClick:()=>A(3),children:"3"}),(0,zr.jsx)("button",{onClick:()=>A(4),children:"4"}),(0,zr.jsx)("button",{onClick:()=>A(5),children:"5"}),(0,zr.jsx)("button",{onClick:()=>A(6),children:"6"}),(0,zr.jsx)("button",{onClick:()=>A(7),children:"7"}),(0,zr.jsx)("button",{onClick:()=>A(8),children:"8"}),(0,zr.jsx)("button",{onClick:()=>A(9),children:"9"}),(0,zr.jsx)("button",{onClick:()=>A(0),children:"0"}),(0,zr.jsx)("button",{onClick:()=>{h(c.startsWith("-")?c.slice(1):"-"+c)},children:"+/-"}),(0,zr.jsx)("button",{onClick:()=>{h(c.slice(0,-1))},children:"Del"}),(0,zr.jsx)("button",{onClick:E,id:"submit",style:{gridColumn:"span 3"},children:"Absenden"})]})}),(0,zr.jsx)("div",{style:{width:"100%",marginTop:"5px",display:"flex",justifyContent:"center"},children:(0,zr.jsx)(Ou,{variant:"contained",onClick:()=>(s((t=>({...t,exercises:[]}))),void n(i.HOME)),children:"Zur\xfcck zur Homepage"})})]}),(0,zr.jsx)(Sa,{open:v,onClose:L,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,zr.jsxs)(Mu,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",minWidth:280,width:"50%",bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4},children:[(0,zr.jsx)(Bu,{id:"modal-modal-title",variant:"h6",component:"h2",children:"Die Zeit ist abgelaufen!!"}),(0,zr.jsxs)(Bu,{id:"modal-modal-description",sx:{mt:2,display:"flex",flexDirection:"column",gap:"10px"},children:[(0,zr.jsx)(Ou,{variant:"outlined",onClick:()=>{w(!1)},children:"Weiter hier bleiben"}),(0,zr.jsx)(Ou,{variant:"contained",onClick:L,children:"Zur n\xe4chsten Aufgabe"})]})]})})]})})},Yl=()=>{const[e,n]=(0,t.useState)(i.HOME),[r,s]=(0,t.useState)((t=>{var e,n,r,i,s,a,o,u,l;return{smallAddSub:null!==(e=t.smallAddSub)&&void 0!==e&&e,smallMulDiv:null!==(n=t.smallMulDiv)&&void 0!==n&&n,largeAddSub:null!==(r=t.largeAddSub)&&void 0!==r&&r,largeMulDiv:null!==(i=t.largeMulDiv)&&void 0!==i&&i,square:null!==(s=t.square)&&void 0!==s&&s,numExer:null!==(a=t.numExer)&&void 0!==a?a:0,exercises:null!==(o=t.exercises)&&void 0!==o?o:[],audioOnly:null!==(u=t.audioOnly)&&void 0!==u&&u,result:null!==(l=t.result)&&void 0!==l?l:null}})({numExer:15,audioOnly:!1}));return(0,zr.jsxs)("div",{children:[e===i.HOME&&(0,zr.jsx)(el,{setState:n,data:r,setData:s}),e===i.EXERCISE&&(0,zr.jsx)(ql,{setState:n,data:r,setData:s}),e===i.RESULT&&(0,zr.jsx)(Bl,{setState:n,data:r,setData:s})]})},Jl=t=>{t&&t instanceof Function&&n.e(453).then(n.bind(n,453)).then((e=>{let{getCLS:n,getFID:r,getFCP:i,getLCP:s,getTTFB:a}=e;n(t),r(t),i(t),s(t),a(t)}))};r.createRoot(document.getElementById("root")).render((0,zr.jsx)(Yl,{})),Jl()})()})();
//# sourceMappingURL=main.80803a31.js.map